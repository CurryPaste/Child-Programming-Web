{"version":3,"sources":["webpack:///./node_modules/js-interpreter/lib/js-interpreter.js","webpack:///./src/views/Class/blockClass4/customBlock.js","webpack:///src/views/Class/blockClass4/blockClass4.vue","webpack:///./src/views/Class/blockClass4/blockClass4.vue","webpack:///./src/views/Class/blockClass4/blockClass4.vue?91a6","webpack:///./src/views/Class/blockClass4/blockClass4.vue?c2c8","webpack:///./src/views/Class/blockClass4/blockClass4.vue?d97b","webpack:///./src/views/Class/blockClass4/robot.js"],"names":["root","factory","module","exports","this","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","indexOf","xs","item","length","Object_keys","obj","keys","res","push","forEach","fn","defineProp","writable","configurable","e","globals","Context","Script","code","runInContext","context","TypeError","iframe","document","createElement","style","display","body","appendChild","win","contentWindow","wEval","eval","wExecScript","execScript","winKeys","removeChild","runInThisContext","runInNewContext","ctx","createContext","apply","slice","arguments","isContext","createScript","copy","mod","options","input","inputLen","sourceFile","version","parse","inpt","opts","String","setOptions","initTokenState","parseTopLevel","program","defaultOptions","ecmaVersion","strictSemicolons","allowTrailingCommas","forbidReserved","locations","onComment","ranges","directSourceFile","opt","tokPos","tokStart","tokEnd","tokStartLoc","tokEndLoc","tokType","tokVal","tokRegexpAllowed","tokCurLine","tokLineStart","lastStart","lastEnd","lastEndLoc","inFunction","labels","strict","getLineInfo","offset","line","cur","lineBreak","lastIndex","match","exec","index","column","raise","pos","message","loc","err","SyntaxError","raisedAt","tokenize","getToken","forceRegexp","readToken","start","end","startLoc","endLoc","type","jumpTo","reAllowed","skipSpace","empty","_num","_regexp","_string","_name","_eof","_break","keyword","_case","beforeExpr","_catch","_continue","_debugger","_default","_do","isLoop","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_while","_with","_new","_this","_null","atomValue","_true","_false","_in","binop","keywordTypes","prefix","_bracketL","_bracketR","_braceL","_braceR","_parenL","_parenR","_comma","_semi","_colon","_dot","_question","_slash","_eq","isAssign","_assign","_incDec","postfix","isUpdate","_prefix","_logicalOR","_logicalAND","_bitwiseOR","_bitwiseXOR","_bitwiseAND","_equality","_relational","_bitShift","_plusMin","_multiplyModulo","kw","tokTypes","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","slash","eq","eof","num","regexp","string","makePredicate","words","split","f","cats","out","j","compareTo","arr","JSON","stringify","sort","a","b","cat","Function","containsEsc","isReservedWord3","isReservedWord5","isStrictReservedWord","isStrictBadIdWord","isKeyword","nonASCIIwhitespace","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","RegExp","nonASCIIidentifier","newline","isIdentifierStart","test","fromCharCode","isIdentifierChar","line_loc_t","finishToken","val","skipBlockComment","skipLineComment","ch","charCodeAt","next","readToken_dot","readNumber","readToken_slash","readRegexp","finishOp","readToken_mult_modulo","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","size","readToken_eq_excl","getTokenFromCode","readHexNumber","readString","readWord","tok","str","escaped","inClass","content","charAt","mods","readWord1","readInt","radix","len","total","Infinity","startsWithDot","isFloat","octal","parseFloat","parseInt","quote","readHexChar","word","first","esc","escStr","setStrict","strct","lastIndexOf","node_t","node_loc_t","source","startNode","node","range","startNodeFrom","other","finishNode","isUseStrict","stmt","expression","eat","canInsertSemicolon","semicolon","unexpected","expect","checkLVal","expr","parseStatement","loopLabel","kind","switchLabel","starttype","isBreak","label","parseIdent","lab","pop","parseParenExpression","parseFor","init","parseVar","declarations","parseForIn","parseExpression","parseFunction","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","block","parseBlock","handler","clause","param","guard","guardedHandlers","finalizer","maybeName","allowStrict","oldStrict","update","left","right","noIn","decl","id","noComma","parseMaybeAssign","expressions","parseMaybeConditional","operator","parseExprOps","parseExprOp","parseMaybeUnary","minPrec","prec","op","exprNode","parseExprSubscripts","parseSubscripts","parseExprAtom","base","noCalls","computed","callee","parseExprList","raw","tokStartLoc1","tokStart1","elements","parseObj","parseNew","sawGetSet","properties","prop","parsePropertyName","isGetSet","conflict","isStatement","params","oldInFunc","oldLabels","close","allowTrailingComma","allowEmpty","elts","liberal","acorn","Interpreter","opt_initFunc","PARSE_OPTIONS","nodeConstructor","constructor","ast","initFunc_","paused_","polyfills_","functionCounter_","stepFunctions_","stepMatch","methodName","globalScope","createScope","globalObject","join","undefined","stripLocations_","state","State","done","stateStack","run","Completion","NORMAL","BREAK","CONTINUE","RETURN","THROW","READONLY_DESCRIPTOR","NONENUMERABLE_DESCRIPTOR","READONLY_NONENUMERABLE_DESCRIPTOR","NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR","VARIABLE_DESCRIPTOR","STEP_ERROR","SCOPE_REFERENCE","VALUE_IN_DESCRIPTOR","REGEXP_TIMEOUT","toStringCycles_","vm","nativeGlobal","WORKER_CODE","legalArrayLength","x","Number","NaN","legalArrayIndex","getterStep_","setterStep_","appendCode","Error","populateScope_","scope","Array","step","stack","startTime","Date","now","nextState","initGlobal","setProperty","OBJECT_PROTO","FUNCTION_PROTO","initFunction","initObject","proto","OBJECT","initArray","initString","initBoolean","initNumber","initDate","initRegExp","initError","initMath","initJSON","thisInterpreter","func","createNativeFunction","EvalError","isNaN","isFinite","strFunctions","escape","unescape","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","wrapper","nativeFunc","throwException","URI_ERROR","FUNCTION","ARRAY","ARRAY_PROTO","REGEXP","REGEXP_PROTO","DATE","DATE_PROTO","identifierRegexp","var_args","argsStr","trim","args","SYNTAX_ERROR","createFunction","illegalConstructor","class","thisArg","func_","funcThis_","arguments_","arrayPseudoToNative","TYPE_ERROR","doneExec_","setNativeFunctionPrototype","valueOf","calledWithNew","createObjectProto","box","getPrototype","data","throwIfNullUndefined","props","arrayNativeToPseudo","getOwnPropertyNames","descriptor","preventExtensions","getOwnPropertyDescriptor","setter","pseudoDescriptor","Boolean","toString","propertyIsEnumerable","newArray","createArray","RANGE_ERROR","STRING","functions","compareString","locales","pseudoToNative","localeCompare","ERROR","separator","limit","callback","isa","maybeThrowRegExp","sandbox","jsList","vmCall","splitWorker","createWorker","pid","regExpTimeout","onmessage","clearTimeout","postMessage","setAsyncFunctionPrototype","matchWorker","search","searchWorker","substr","newSubstr","replaceWorker","replace","BOOLEAN","NUMBER","numConsts","fractionDigits","toExponential","digits","toFixed","precision","toPrecision","toLocaleString","concat","from","UTC","date","pattern","flags","rgx","populateRegExp","getProperty","matchToPseudo","execWorker","thisPseudoRegExp","result","opt_message","newError","createObject","createErrorSubclass","EVAL_ERROR","REFERENCE_ERROR","myMath","mathConsts","Math","numFunctions","myJSON","text","nativeObj","nativeToPseudo","replacer","space","filter","child","pseudoRegexp","nativeRegexp","global","ignoreCase","multiline","blob","blob_","Blob","Worker","URL","createObjectURL","nativeRegExp","ok","worker","setTimeout","terminate","array","createFunctionBase_","argumentLength","isConstructor","opt_name","parentScope","createAsyncFunction","asyncFunc","pseudoDate","map","isArray","pseudoArray","pseudoObj","opt_cycles","cycles","pseudo","native","hasProperty","nativeArray","opt_descriptor","getScope","max","placeholderGet_","set","placeholderSet_","ReferenceError","defObj","firstNode","Scope","createSpecialScope","opt_object","getValueFromScope","prevNode","setValueToScope","nodeClass","getValue","ref","setValue","errorClass","error","unwind","loop","cv","isSwitch","realError","errorTable","RangeError","URIError","errorConstructor","createGetter_","funcThis","doneCallee_","doneArgs_","createSetter_","boxThis_","Value","strs","maxLength","truncated","n_","array_","doneLeft_","components","doneRight_","leftReference_","doneGetter_","leftValue_","leftValue","destinationName","doneSetter_","setterValue_","rightValue","directEval_","funcNode","paramName","paramValue","argsList","evalNode","argLength","argsWithCallback","done_","throwValue","mode_","test_","doneInit_","doneObject_","variable_","object_","visited_","name_","gotPropName","props_","shift","doneVariable_","propName","doneProperty_","properties_","kinds","switchValue_","defaultCase_","index_","switchCase","matched_","tested_","doneBlock_","doneHandler_","doneFinalizer_","leftSide_","changeValue","returnValue","declarationNode","init_","doneBody_","__webpack_exports__","_original_repo_interpreter__WEBPACK_IMPORTED_MODULE_0__","Blockly","hans","while_content","statementToCode","text_move_distance","getFieldValue","dropdown_dirction","angle_degree","radius","dropdown_pencilstate","number_red","number_green","number_blue","horizontalLayout","toolboxPosition","toolbox","workspace","mounted","methods","block2code","runCode","window","alert","runCode2","runCode3","console","runStepByStep","initHighlightBlock","highlightBlock","initApi","interpreter","that","render","_vm","_c","_self","attrs","staticStyle","on","_v","domProps","_s","staticRenderFns","component","Robot","isRun","log","stop","checkStatus","distance","Promise","resolve","moveDis","interval","setInterval","clearInterval","direction","degree"],"mappings":"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E,UAAUxC,OAAQlC,IACpC6iB,EAASxJ,WAAWrZ,GAAK0E,UAAU1E,GAErC6iB,EAASxJ,WAAWnX,OAASlC,EAE/B,OAAO6iB,GAETljB,KAAKygB,MAAQzgB,KAAKyf,qBAAqBW,GAAS,GAChDpgB,KAAK0gB,YAAc1gB,KAAKygB,MAAM/G,WAAW,aACzC1Z,KAAKue,YAAY/C,EAAc,QAASxb,KAAKygB,MACzChG,EAAY+B,0BAGhB4D,EAAU,SAAiB3d,GACzB,OAAOA,GAAqB,UAAdA,EAAI8e,OAEpBvhB,KAAKue,YAAYve,KAAKygB,MAAO,UACZzgB,KAAKyf,qBAAqBW,GAAS,GACnC3F,EAAY+B,0BAG7Bxc,KAAKue,YAAYve,KAAK0gB,YAAa,SAAU,EACzC,CAACzd,cAAc,EAAOjC,YAAY,EAAOgC,UAAU,IACvDhD,KAAK0gB,YAAYa,MAAQ,QAEzBvhB,KAAKib,WAAWrY,KAClB,gDACI,8CACF,mBACE,gCACA,wBACA,4BACA,yBACE,gBACA,oBACF,IACA,SACA,kBACA,iBACA,kBACA,YACF,IACF,MAEA,iDACI,8CACF,4BACE,gCACA,wBACA,4BACA,+CACE,yBACA,SACF,IACA,kBACA,cACF,IACF,MAEA,kDACI,8CACF,qBACE,gCACA,wBACA,4BACA,yBACE,gBACA,oBACF,IACA,oBACA,sCACE,mBACF,IACA,eACA,sBACA,gBACF,IACF,MAEA,oDACI,8CACF,+BACE,gCACA,wBACA,4BACA,yBACE,WACF,IACA,uCACE,kCACF,IACA,+CACE,uBACF,IACA,4CACF,IACF,MAEA,oDACI,8CACF,uBACE,gCACA,wBACA,4BACA,yBACE,YACF,IACA,4CACE,gBACA,yBACA,sBACF,IACA,YACF,IACF,MAEA,oDACI,8CACF,+CACE,gCACA,wBACA,4BACA,yBACA,0BACE,aACF,IACA,uDACA,oBACE,0CACE,YACF,IACA,OACF,IACA,aACF,IACF,MAEA,wDACI,8CACF,mDACE,gCACA,wBACA,4BACA,cACE,aACF,IACA,mBACA,8BACE,qBACA,WACE,+CACF,IACF,IACA,6DACA,mBACE,0CACE,YACF,IACA,OACF,IACA,aACF,IACF,MAEA,kDACI,8CACF,+BACE,gCACA,wBACA,4BAEA,cACA,2DAEA,oCACE,0BACE,YACF,IACA,iBACE,mBACF,WACE,4BACF,IACF,WACE,aACF,IACA,0BACA,mBACA,mCACE,4BACF,IACA,iBACF,IACF,MAEA,mDACI,8CACF,kDACE,gCACA,wBACA,4BACA,cACA,mBACE,oCACF,WACE,gCACF,IACA,8BACE,6BACF,WACE,oBACA,iEACF,IACA,oBAEA,sDACE,oCACA,6BACF,IAEA,kEACE,6BACF,IAEA,kDACE,eACF,IACA,sBAEA,2CACE,sCACF,IACA,+BACA,+CACE,mCACF,IACA,kBACA,kBACF,IACF,MAEA,mDACI,8CACF,8BACE,gCACA,wBACA,mBACA,gDACE,6CACA,8BACE,oCACF,WACE,sBACF,IACF,IACA,iBACF,IACF,MAEA,iDACI,8CACF,iCACE,gCACA,wBACA,mDACI,8BACJ,gBACA,uCACE,kBACE,cACF,IACA,eACF,IACA,cACF,IACF,MAIA,kDACI,8CACF,wCACE,oEACA,YACA,wBACA,4BACA,yCACA,SACA,oBACE,+DACA,OACF,IACA,eACF,IACF,MAIA,mDACI,8CACF,mCACE,wFACA,wBACA,4BACA,gBACA,+DACA,kCACE,gBACE,kBACA,mDACF,IACF,IACA,cACF,IACF,MAIA,oDACI,8CACF,wCACE,kEACA,YACA,wBACA,4BACA,yCACA,SACA,oBACE,4CACA,OACF,IACF,IACF,MAIA,gDACI,8CACF,oCACE,kEACA,eACA,wBACA,4BACA,yCACA,sBACA,SACA,oBACE,mDACA,OACF,IACA,YACF,IACF,MAIA,mDACI,8CACF,iDACE,kEACA,4DACA,gCACE,wBACF,WACE,oCACA,kBACE,kEACF,IACA,kBACF,IACA,yBACE,mDACF,IACA,gBACF,IACF,MAIA,wDACI,8CACF,sDACE,yGACA,kEACA,+BACE,wBACF,WACE,mCACA,eACE,kEACF,IACA,kBACF,IACA,wBACE,mD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","file":"js/chunk-bfc7e066.6913a0f9.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JSInterpreter\"] = factory();\n\telse\n\t\troot[\"JSInterpreter\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/js-interpreter.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/vm-browserify/index.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/vm-browserify/index.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar indexOf = function (xs, item) {\n    if (xs.indexOf) return xs.indexOf(item);\n    else for (var i = 0; i < xs.length; i++) {\n        if (xs[i] === item) return i;\n    }\n    return -1;\n};\nvar Object_keys = function (obj) {\n    if (Object.keys) return Object.keys(obj)\n    else {\n        var res = [];\n        for (var key in obj) res.push(key)\n        return res;\n    }\n};\n\nvar forEach = function (xs, fn) {\n    if (xs.forEach) return xs.forEach(fn)\n    else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n    }\n};\n\nvar defineProp = (function() {\n    try {\n        Object.defineProperty({}, '_', {});\n        return function(obj, name, value) {\n            Object.defineProperty(obj, name, {\n                writable: true,\n                enumerable: false,\n                configurable: true,\n                value: value\n            })\n        };\n    } catch(e) {\n        return function(obj, name, value) {\n            obj[name] = value;\n        };\n    }\n}());\n\nvar globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function',\n'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError',\n'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError',\n'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape',\n'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];\n\nfunction Context() {}\nContext.prototype = {};\n\nvar Script = exports.Script = function NodeScript (code) {\n    if (!(this instanceof Script)) return new Script(code);\n    this.code = code;\n};\n\nScript.prototype.runInContext = function (context) {\n    if (!(context instanceof Context)) {\n        throw new TypeError(\"needs a 'context' argument.\");\n    }\n    \n    var iframe = document.createElement('iframe');\n    if (!iframe.style) iframe.style = {};\n    iframe.style.display = 'none';\n    \n    document.body.appendChild(iframe);\n    \n    var win = iframe.contentWindow;\n    var wEval = win.eval, wExecScript = win.execScript;\n\n    if (!wEval && wExecScript) {\n        // win.eval() magically appears when this is called in IE:\n        wExecScript.call(win, 'null');\n        wEval = win.eval;\n    }\n    \n    forEach(Object_keys(context), function (key) {\n        win[key] = context[key];\n    });\n    forEach(globals, function (key) {\n        if (context[key]) {\n            win[key] = context[key];\n        }\n    });\n    \n    var winKeys = Object_keys(win);\n\n    var res = wEval.call(win, this.code);\n    \n    forEach(Object_keys(win), function (key) {\n        // Avoid copying circular objects like `top` and `window` by only\n        // updating existing context properties or new properties in the `win`\n        // that was only introduced after the eval.\n        if (key in context || indexOf(winKeys, key) === -1) {\n            context[key] = win[key];\n        }\n    });\n\n    forEach(globals, function (key) {\n        if (!(key in context)) {\n            defineProp(context, key, win[key]);\n        }\n    });\n    \n    document.body.removeChild(iframe);\n    \n    return res;\n};\n\nScript.prototype.runInThisContext = function () {\n    return eval(this.code); // maybe...\n};\n\nScript.prototype.runInNewContext = function (context) {\n    var ctx = Script.createContext(context);\n    var res = this.runInContext(ctx);\n\n    if (context) {\n        forEach(Object_keys(ctx), function (key) {\n            context[key] = ctx[key];\n        });\n    }\n\n    return res;\n};\n\nforEach(Object_keys(Script.prototype), function (name) {\n    exports[name] = Script[name] = function (code) {\n        var s = Script(code);\n        return s[name].apply(s, [].slice.call(arguments, 1));\n    };\n});\n\nexports.isContext = function (context) {\n    return context instanceof Context;\n};\n\nexports.createScript = function (code) {\n    return exports.Script(code);\n};\n\nexports.createContext = Script.createContext = function (context) {\n    var copy = new Context();\n    if(typeof context === 'object') {\n        forEach(Object_keys(context), function (key) {\n            copy[key] = context[key];\n        });\n    }\n    return copy;\n};\n\n\n/***/ }),\n\n/***/ \"./original-repo/acorn.js\":\n/*!********************************!*\\\n  !*** ./original-repo/acorn.js ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Acorn is a tiny, fast JavaScript parser written in JavaScript.\n//\n// Acorn was written by Marijn Haverbeke and released under an MIT\n// license. The Unicode regexps (for identifiers and whitespace) were\n// taken from [Esprima](http://esprima.org) by Ariya Hidayat.\n//\n// Git repositories for Acorn are available at\n//\n//     http://marijnhaverbeke.nl/git/acorn\n//     https://github.com/marijnh/acorn.git\n//\n// Please use the [github bug tracker][ghbt] to report issues.\n//\n// [ghbt]: https://github.com/marijnh/acorn/issues\n//\n// This file defines the main parser interface. The library also comes\n// with a [error-tolerant parser][dammit] and an\n// [abstract syntax tree walker][walk], defined in other files.\n//\n// [dammit]: acorn_loose.js\n// [walk]: util/walk.js\n\n(function(root, mod) {\n  if (true) return mod(exports); // CommonJS\n  if (true) return !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (mod),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // AMD\n  mod(root.acorn || (root.acorn = {})); // Plain browser env\n})(this, function(exports) {\n  \"use strict\";\n\n  exports.version = \"0.4.1\";\n\n  // The main exported interface (under `self.acorn` when in the\n  // browser) is a `parse` function that takes a code string and\n  // returns an abstract syntax tree as specified by [Mozilla parser\n  // API][api], with the caveat that the SpiderMonkey-specific syntax\n  // (`let`, `yield`, inline XML, etc) is not recognized.\n  //\n  // [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\n  var options, input, inputLen, sourceFile;\n\n  exports.parse = function(inpt, opts) {\n    input = String(inpt); inputLen = input.length;\n    setOptions(opts);\n    initTokenState();\n    return parseTopLevel(options.program);\n  };\n\n  // A second optional argument can be given to further configure\n  // the parser process. These options are recognized:\n\n  var defaultOptions = exports.defaultOptions = {\n    // `ecmaVersion` indicates the ECMAScript version to parse. Must\n    // be either 3 or 5. This\n    // influences support for strict mode, the set of reserved words, and\n    // support for getters and setter.\n    ecmaVersion: 5,\n    // Turn on `strictSemicolons` to prevent the parser from doing\n    // automatic semicolon insertion.\n    strictSemicolons: false,\n    // When `allowTrailingCommas` is false, the parser will not allow\n    // trailing commas in array and object literals.\n    allowTrailingCommas: true,\n    // By default, reserved words are not enforced. Enable\n    // `forbidReserved` to enforce them.\n    forbidReserved: false,\n    // When `locations` is on, `loc` properties holding objects with\n    // `start` and `end` properties in `{line, column}` form (with\n    // line being 1-based and column 0-based) will be attached to the\n    // nodes.\n    locations: false,\n    // A function can be passed as `onComment` option, which will\n    // cause Acorn to call that function with `(block, text, start,\n    // end)` parameters whenever a comment is skipped. `block` is a\n    // boolean indicating whether this is a block (`/* */`) comment,\n    // `text` is the content of the comment, and `start` and `end` are\n    // character offsets that denote the start and end of the comment.\n    // When the `locations` option is on, two more parameters are\n    // passed, the full `{line, column}` locations of the start and\n    // end of the comments.\n    onComment: null,\n    // Nodes have their start and end characters offsets recorded in\n    // `start` and `end` properties (directly on the node, rather than\n    // the `loc` object, which holds line/column data. To also add a\n    // [semi-standardized][range] `range` property holding a `[start,\n    // end]` array with the same numbers, set the `ranges` option to\n    // `true`.\n    //\n    // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n    ranges: false,\n    // It is possible to parse multiple files into a single AST by\n    // passing the tree produced by parsing the first file as\n    // `program` option in subsequent parses. This will add the\n    // toplevel forms of the parsed file to the `Program` (top) node\n    // of an existing parse tree.\n    program: null,\n    // When `location` is on, you can pass this to record the source\n    // file in every node's `loc` object.\n    sourceFile: null,\n    // This value, if given, is stored in every node, whether\n    // `location` is on or off.\n    directSourceFile: null\n  };\n\n  function setOptions(opts) {\n    options = opts || {};\n    for (var opt in defaultOptions) if (!Object.prototype.hasOwnProperty.call(options, opt))\n      options[opt] = defaultOptions[opt];\n    sourceFile = options.sourceFile || null;\n  }\n\n  // The `getLineInfo` function is mostly useful when the\n  // `locations` option is off (for performance reasons) and you\n  // want to find the line/column position for a given character\n  // offset. `input` should be the code string that the offset refers\n  // into.\n\n  var getLineInfo = exports.getLineInfo = function(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      lineBreak.lastIndex = cur;\n      var match = lineBreak.exec(input);\n      if (match && match.index < offset) {\n        ++line;\n        cur = match.index + match[0].length;\n      } else break;\n    }\n    return {line: line, column: offset - cur};\n  };\n\n  // Acorn is organized as a tokenizer and a recursive-descent parser.\n  // The `tokenize` export provides an interface to the tokenizer.\n  // Because the tokenizer is optimized for being efficiently used by\n  // the Acorn parser itself, this interface is somewhat crude and not\n  // very modular. Performing another parse or call to `tokenize` will\n  // reset the internal state, and invalidate existing tokenizers.\n\n  exports.tokenize = function(inpt, opts) {\n    input = String(inpt); inputLen = input.length;\n    setOptions(opts);\n    initTokenState();\n\n    var t = {};\n    function getToken(forceRegexp) {\n      readToken(forceRegexp);\n      t.start = tokStart; t.end = tokEnd;\n      t.startLoc = tokStartLoc; t.endLoc = tokEndLoc;\n      t.type = tokType; t.value = tokVal;\n      return t;\n    }\n    getToken.jumpTo = function(pos, reAllowed) {\n      tokPos = pos;\n      if (options.locations) {\n        tokCurLine = 1;\n        tokLineStart = lineBreak.lastIndex = 0;\n        var match;\n        while ((match = lineBreak.exec(input)) && match.index < pos) {\n          ++tokCurLine;\n          tokLineStart = match.index + match[0].length;\n        }\n      }\n      tokRegexpAllowed = reAllowed;\n      skipSpace();\n    };\n    return getToken;\n  };\n\n  // State is kept in (closure-)global variables. We already saw the\n  // `options`, `input`, and `inputLen` variables above.\n\n  // The current position of the tokenizer in the input.\n\n  var tokPos;\n\n  // The start and end offsets of the current token.\n\n  var tokStart, tokEnd;\n\n  // When `options.locations` is true, these hold objects\n  // containing the tokens start and end line/column pairs.\n\n  var tokStartLoc, tokEndLoc;\n\n  // The type and value of the current token. Token types are objects,\n  // named by variables against which they can be compared, and\n  // holding properties that describe them (indicating, for example,\n  // the precedence of an infix operator, and the original name of a\n  // keyword token). The kind of value that's held in `tokVal` depends\n  // on the type of the token. For literals, it is the literal value,\n  // for operators, the operator name, and so on.\n\n  var tokType, tokVal;\n\n  // Interal state for the tokenizer. To distinguish between division\n  // operators and regular expressions, it remembers whether the last\n  // token was one that is allowed to be followed by an expression.\n  // (If it is, a slash is probably a regexp, if it isn't it's a\n  // division operator. See the `parseStatement` function for a\n  // caveat.)\n\n  var tokRegexpAllowed;\n\n  // When `options.locations` is true, these are used to keep\n  // track of the current line, and know when a new line has been\n  // entered.\n\n  var tokCurLine, tokLineStart;\n\n  // These store the position of the previous token, which is useful\n  // when finishing a node and assigning its `end` position.\n\n  var lastStart, lastEnd, lastEndLoc;\n\n  // This is the parser's state. `inFunction` is used to reject\n  // `return` statements outside of functions, `labels` to verify that\n  // `break` and `continue` have somewhere to jump to, and `strict`\n  // indicates whether strict mode is on.\n\n  var inFunction, labels, strict;\n\n  // This function is used to raise exceptions on parse errors. It\n  // takes an offset integer (into the current `input`) to indicate\n  // the location of the error, attaches the position to the end\n  // of the error message, and then raises a `SyntaxError` with that\n  // message.\n\n  function raise(pos, message) {\n    var loc = getLineInfo(input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = tokPos;\n    throw err;\n  }\n\n  // Reused empty array added for node fields that are always empty.\n\n  var empty = [];\n\n  // ## Token types\n\n  // The assignment of fine-grained, information-carrying type objects\n  // allows the tokenizer to store the information it has about a\n  // token in a way that is very cheap for the parser to look up.\n\n  // All token type variables start with an underscore, to make them\n  // easy to recognize.\n\n  // These are the general types. The `type` property is only used to\n  // make them recognizeable when debugging.\n\n  var _num = {type: \"num\"}, _regexp = {type: \"regexp\"}, _string = {type: \"string\"};\n  var _name = {type: \"name\"}, _eof = {type: \"eof\"};\n\n  // Keyword tokens. The `keyword` property (also used in keyword-like\n  // operators) indicates that the token originated from an\n  // identifier-like word, which is used when parsing property names.\n  //\n  // The `beforeExpr` property is used to disambiguate between regular\n  // expressions and divisions. It is set on all token types that can\n  // be followed by an expression (thus, a slash after them would be a\n  // regular expression).\n  //\n  // `isLoop` marks a keyword as starting a loop, which is important\n  // to know when parsing a label, in order to allow or disallow\n  // continue jumps to that label.\n\n  var _break = {keyword: \"break\"}, _case = {keyword: \"case\", beforeExpr: true}, _catch = {keyword: \"catch\"};\n  var _continue = {keyword: \"continue\"}, _debugger = {keyword: \"debugger\"}, _default = {keyword: \"default\"};\n  var _do = {keyword: \"do\", isLoop: true}, _else = {keyword: \"else\", beforeExpr: true};\n  var _finally = {keyword: \"finally\"}, _for = {keyword: \"for\", isLoop: true}, _function = {keyword: \"function\"};\n  var _if = {keyword: \"if\"}, _return = {keyword: \"return\", beforeExpr: true}, _switch = {keyword: \"switch\"};\n  var _throw = {keyword: \"throw\", beforeExpr: true}, _try = {keyword: \"try\"}, _var = {keyword: \"var\"};\n  var _while = {keyword: \"while\", isLoop: true}, _with = {keyword: \"with\"}, _new = {keyword: \"new\", beforeExpr: true};\n  var _this = {keyword: \"this\"};\n\n  // The keywords that denote values.\n\n  var _null = {keyword: \"null\", atomValue: null}, _true = {keyword: \"true\", atomValue: true};\n  var _false = {keyword: \"false\", atomValue: false};\n\n  // Some keywords are treated as regular operators. `in` sometimes\n  // (when parsing `for`) needs to be tested against specifically, so\n  // we assign a variable name to it for quick comparing.\n\n  var _in = {keyword: \"in\", binop: 7, beforeExpr: true};\n\n  // Map keyword names to token types.\n\n  var keywordTypes = {\"break\": _break, \"case\": _case, \"catch\": _catch,\n                      \"continue\": _continue, \"debugger\": _debugger, \"default\": _default,\n                      \"do\": _do, \"else\": _else, \"finally\": _finally, \"for\": _for,\n                      \"function\": _function, \"if\": _if, \"return\": _return, \"switch\": _switch,\n                      \"throw\": _throw, \"try\": _try, \"var\": _var, \"while\": _while, \"with\": _with,\n                      \"null\": _null, \"true\": _true, \"false\": _false, \"new\": _new, \"in\": _in,\n                      \"instanceof\": {keyword: \"instanceof\", binop: 7, beforeExpr: true}, \"this\": _this,\n                      \"typeof\": {keyword: \"typeof\", prefix: true, beforeExpr: true},\n                      \"void\": {keyword: \"void\", prefix: true, beforeExpr: true},\n                      \"delete\": {keyword: \"delete\", prefix: true, beforeExpr: true}};\n\n  // Punctuation token types. Again, the `type` property is purely for debugging.\n\n  var _bracketL = {type: \"[\", beforeExpr: true}, _bracketR = {type: \"]\"}, _braceL = {type: \"{\", beforeExpr: true};\n  var _braceR = {type: \"}\"}, _parenL = {type: \"(\", beforeExpr: true}, _parenR = {type: \")\"};\n  var _comma = {type: \",\", beforeExpr: true}, _semi = {type: \";\", beforeExpr: true};\n  var _colon = {type: \":\", beforeExpr: true}, _dot = {type: \".\"}, _question = {type: \"?\", beforeExpr: true};\n\n  // Operators. These carry several kinds of properties to help the\n  // parser use them properly (the presence of these properties is\n  // what categorizes them as operators).\n  //\n  // `binop`, when present, specifies that this operator is a binary\n  // operator, and will refer to its precedence.\n  //\n  // `prefix` and `postfix` mark the operator as a prefix or postfix\n  // unary operator. `isUpdate` specifies that the node produced by\n  // the operator should be of type UpdateExpression rather than\n  // simply UnaryExpression (`++` and `--`).\n  //\n  // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n  // binary operators with a very low precedence, that should result\n  // in AssignmentExpression nodes.\n\n  var _slash = {binop: 10, beforeExpr: true}, _eq = {isAssign: true, beforeExpr: true};\n  var _assign = {isAssign: true, beforeExpr: true};\n  var _incDec = {postfix: true, prefix: true, isUpdate: true}, _prefix = {prefix: true, beforeExpr: true};\n  var _logicalOR = {binop: 1, beforeExpr: true};\n  var _logicalAND = {binop: 2, beforeExpr: true};\n  var _bitwiseOR = {binop: 3, beforeExpr: true};\n  var _bitwiseXOR = {binop: 4, beforeExpr: true};\n  var _bitwiseAND = {binop: 5, beforeExpr: true};\n  var _equality = {binop: 6, beforeExpr: true};\n  var _relational = {binop: 7, beforeExpr: true};\n  var _bitShift = {binop: 8, beforeExpr: true};\n  var _plusMin = {binop: 9, prefix: true, beforeExpr: true};\n  var _multiplyModulo = {binop: 10, beforeExpr: true};\n\n  // Provide access to the token types for external users of the\n  // tokenizer.\n\n  exports.tokTypes = {bracketL: _bracketL, bracketR: _bracketR, braceL: _braceL, braceR: _braceR,\n                      parenL: _parenL, parenR: _parenR, comma: _comma, semi: _semi, colon: _colon,\n                      dot: _dot, question: _question, slash: _slash, eq: _eq, name: _name, eof: _eof,\n                      num: _num, regexp: _regexp, string: _string};\n  for (var kw in keywordTypes) exports.tokTypes[\"_\" + kw] = keywordTypes[kw];\n\n  // This is a trick taken from Esprima. It turns out that, on\n  // non-Chrome browsers, to check whether a string is in a set, a\n  // predicate containing a big ugly `switch` statement is faster than\n  // a regular expression, and on Chrome the two are about on par.\n  // This function uses `eval` (non-lexical) to produce such a\n  // predicate from a space-separated string of words.\n  //\n  // It starts by sorting the words by length.\n\n  function makePredicate(words) {\n    words = words.split(\" \");\n    var f = \"\", cats = [];\n    out: for (var i = 0; i < words.length; ++i) {\n      for (var j = 0; j < cats.length; ++j)\n        if (cats[j][0].length == words[i].length) {\n          cats[j].push(words[i]);\n          continue out;\n        }\n      cats.push([words[i]]);\n    }\n    function compareTo(arr) {\n      if (arr.length == 1) return f += \"return str === \" + JSON.stringify(arr[0]) + \";\";\n      f += \"switch(str){\";\n      for (var i = 0; i < arr.length; ++i) f += \"case \" + JSON.stringify(arr[i]) + \":\";\n      f += \"return true}return false;\";\n    }\n\n    // When there are more than three length categories, an outer\n    // switch first dispatches on the lengths, to save on comparisons.\n\n    if (cats.length > 3) {\n      cats.sort(function(a, b) {return b.length - a.length;});\n      f += \"switch(str.length){\";\n      for (var i = 0; i < cats.length; ++i) {\n        var cat = cats[i];\n        f += \"case \" + cat[0].length + \":\";\n        compareTo(cat);\n      }\n      f += \"}\";\n\n    // Otherwise, simply generate a flat `switch` statement.\n\n    } else {\n      compareTo(words);\n    }\n    return new Function(\"str\", f);\n  }\n\n  // The ECMAScript 3 reserved word list.\n\n  var isReservedWord3 = makePredicate(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\");\n\n  // ECMAScript 5 reserved words.\n\n  var isReservedWord5 = makePredicate(\"class enum extends super const export import\");\n\n  // The additional reserved words in strict mode.\n\n  var isStrictReservedWord = makePredicate(\"implements interface let package private protected public static yield\");\n\n  // The forbidden variable names in strict mode.\n\n  var isStrictBadIdWord = makePredicate(\"eval arguments\");\n\n  // And the keywords.\n\n  var isKeyword = makePredicate(\"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\");\n\n  // ## Character categories\n\n  // Big ugly regular expressions that match characters in the\n  // whitespace, identifier, and identifier-start categories. These\n  // are only applied when a character is found to actually have a\n  // code point above 128.\n\n  var nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  // Whether a single character denotes a newline.\n\n  var newline = /[\\n\\r\\u2028\\u2029]/;\n\n  // Matches a whole line break (where CRLF is considered a single\n  // line break). Used to count lines.\n\n  var lineBreak = /\\r\\n|[\\n\\r\\u2028\\u2029]/g;\n\n  // Test whether a given character code starts an identifier.\n\n  var isIdentifierStart = exports.isIdentifierStart = function(code) {\n    if (code < 65) return code === 36;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123)return true;\n    return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n  };\n\n  // Test whether a given character is part of an identifier.\n\n  var isIdentifierChar = exports.isIdentifierChar = function(code) {\n    if (code < 48) return code === 36;\n    if (code < 58) return true;\n    if (code < 65) return false;\n    if (code < 91) return true;\n    if (code < 97) return code === 95;\n    if (code < 123)return true;\n    return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n  };\n\n  // ## Tokenizer\n\n  // These are used when `options.locations` is on, for the\n  // `tokStartLoc` and `tokEndLoc` properties.\n\n  function line_loc_t() {\n    this.line = tokCurLine;\n    this.column = tokPos - tokLineStart;\n  }\n\n  // Reset the token state. Used at the start of a parse.\n\n  function initTokenState() {\n    tokCurLine = 1;\n    tokPos = tokLineStart = 0;\n    tokRegexpAllowed = true;\n    skipSpace();\n  }\n\n  // Called at the end of every token. Sets `tokEnd`, `tokVal`, and\n  // `tokRegexpAllowed`, and skips the space after the token, so that\n  // the next one's `tokStart` will point at the right position.\n\n  function finishToken(type, val) {\n    tokEnd = tokPos;\n    if (options.locations) tokEndLoc = new line_loc_t;\n    tokType = type;\n    skipSpace();\n    tokVal = val;\n    tokRegexpAllowed = type.beforeExpr;\n  }\n\n  function skipBlockComment() {\n    var startLoc = options.onComment && options.locations && new line_loc_t;\n    var start = tokPos, end = input.indexOf(\"*/\", tokPos += 2);\n    if (end === -1) raise(tokPos - 2, \"Unterminated comment\");\n    tokPos = end + 2;\n    if (options.locations) {\n      lineBreak.lastIndex = start;\n      var match;\n      while ((match = lineBreak.exec(input)) && match.index < tokPos) {\n        ++tokCurLine;\n        tokLineStart = match.index + match[0].length;\n      }\n    }\n    if (options.onComment)\n      options.onComment(true, input.slice(start + 2, end), start, tokPos,\n                        startLoc, options.locations && new line_loc_t);\n  }\n\n  function skipLineComment() {\n    var start = tokPos;\n    var startLoc = options.onComment && options.locations && new line_loc_t;\n    var ch = input.charCodeAt(tokPos+=2);\n    while (tokPos < inputLen && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n      ++tokPos;\n      ch = input.charCodeAt(tokPos);\n    }\n    if (options.onComment)\n      options.onComment(false, input.slice(start + 2, tokPos), start, tokPos,\n                        startLoc, options.locations && new line_loc_t);\n  }\n\n  // Called at the start of the parse and after every token. Skips\n  // whitespace and comments, and.\n\n  function skipSpace() {\n    while (tokPos < inputLen) {\n      var ch = input.charCodeAt(tokPos);\n      if (ch === 32) { // ' '\n        ++tokPos;\n      } else if (ch === 13) {\n        ++tokPos;\n        var next = input.charCodeAt(tokPos);\n        if (next === 10) {\n          ++tokPos;\n        }\n        if (options.locations) {\n          ++tokCurLine;\n          tokLineStart = tokPos;\n        }\n      } else if (ch === 10 || ch === 8232 || ch === 8233) {\n        ++tokPos;\n        if (options.locations) {\n          ++tokCurLine;\n          tokLineStart = tokPos;\n        }\n      } else if (ch > 8 && ch < 14) {\n        ++tokPos;\n      } else if (ch === 47) { // '/'\n        var next = input.charCodeAt(tokPos + 1);\n        if (next === 42) { // '*'\n          skipBlockComment();\n        } else if (next === 47) { // '/'\n          skipLineComment();\n        } else break;\n      } else if (ch === 160) { // '\\xa0'\n        ++tokPos;\n      } else if (ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n        ++tokPos;\n      } else {\n        break;\n      }\n    }\n  }\n\n  // ### Token reading\n\n  // This is the function that is called to fetch the next token. It\n  // is somewhat obscure, because it works in character codes rather\n  // than characters, and because operator parsing has been inlined\n  // into it.\n  //\n  // All in the name of speed.\n  //\n  // The `forceRegexp` parameter is used in the one case where the\n  // `tokRegexpAllowed` trick does not work. See `parseStatement`.\n\n  function readToken_dot() {\n    var next = input.charCodeAt(tokPos + 1);\n    if (next >= 48 && next <= 57) return readNumber(true);\n    ++tokPos;\n    return finishToken(_dot);\n  }\n\n  function readToken_slash() { // '/'\n    var next = input.charCodeAt(tokPos + 1);\n    if (tokRegexpAllowed) {++tokPos; return readRegexp();}\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_slash, 1);\n  }\n\n  function readToken_mult_modulo() { // '%*'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_multiplyModulo, 1);\n  }\n\n  function readToken_pipe_amp(code) { // '|&'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === code) return finishOp(code === 124 ? _logicalOR : _logicalAND, 2);\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(code === 124 ? _bitwiseOR : _bitwiseAND, 1);\n  }\n\n  function readToken_caret() { // '^'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_bitwiseXOR, 1);\n  }\n\n  function readToken_plus_min(code) { // '+-'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === code) {\n      if (next == 45 && input.charCodeAt(tokPos + 2) == 62 &&\n          newline.test(input.slice(lastEnd, tokPos))) {\n        // A `-->` line comment\n        tokPos += 3;\n        skipLineComment();\n        skipSpace();\n        return readToken();\n      }\n      return finishOp(_incDec, 2);\n    }\n    if (next === 61) return finishOp(_assign, 2);\n    return finishOp(_plusMin, 1);\n  }\n\n  function readToken_lt_gt(code) { // '<>'\n    var next = input.charCodeAt(tokPos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && input.charCodeAt(tokPos + 2) === 62 ? 3 : 2;\n      if (input.charCodeAt(tokPos + size) === 61) return finishOp(_assign, size + 1);\n      return finishOp(_bitShift, size);\n    }\n    if (next == 33 && code == 60 && input.charCodeAt(tokPos + 2) == 45 &&\n        input.charCodeAt(tokPos + 3) == 45) {\n      // `<!--`, an XML-style comment that should be interpreted as a line comment\n      tokPos += 4;\n      skipLineComment();\n      skipSpace();\n      return readToken();\n    }\n    if (next === 61)\n      size = input.charCodeAt(tokPos + 2) === 61 ? 3 : 2;\n    return finishOp(_relational, size);\n  }\n\n  function readToken_eq_excl(code) { // '=!'\n    var next = input.charCodeAt(tokPos + 1);\n    if (next === 61) return finishOp(_equality, input.charCodeAt(tokPos + 2) === 61 ? 3 : 2);\n    return finishOp(code === 61 ? _eq : _prefix, 1);\n  }\n\n  function getTokenFromCode(code) {\n    switch(code) {\n      // The interpretation of a dot depends on whether it is followed\n      // by a digit.\n    case 46: // '.'\n      return readToken_dot();\n\n      // Punctuation tokens.\n    case 40: ++tokPos; return finishToken(_parenL);\n    case 41: ++tokPos; return finishToken(_parenR);\n    case 59: ++tokPos; return finishToken(_semi);\n    case 44: ++tokPos; return finishToken(_comma);\n    case 91: ++tokPos; return finishToken(_bracketL);\n    case 93: ++tokPos; return finishToken(_bracketR);\n    case 123: ++tokPos; return finishToken(_braceL);\n    case 125: ++tokPos; return finishToken(_braceR);\n    case 58: ++tokPos; return finishToken(_colon);\n    case 63: ++tokPos; return finishToken(_question);\n\n      // '0x' is a hexadecimal number.\n    case 48: // '0'\n      var next = input.charCodeAt(tokPos + 1);\n      if (next === 120 || next === 88) return readHexNumber();\n      // Anything else beginning with a digit is an integer, octal\n      // number, or float.\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n      return readNumber(false);\n\n      // Quotes produce strings.\n    case 34: case 39: // '\"', \"'\"\n      return readString(code);\n\n    // Operators are parsed inline in tiny state machines. '=' (61) is\n    // often referred to. `finishOp` simply skips the amount of\n    // characters it is given as second argument, and returns a token\n    // of the type given by its first argument.\n\n    case 47: // '/'\n      return readToken_slash(code);\n\n    case 37: case 42: // '%*'\n      return readToken_mult_modulo();\n\n    case 124: case 38: // '|&'\n      return readToken_pipe_amp(code);\n\n    case 94: // '^'\n      return readToken_caret();\n\n    case 43: case 45: // '+-'\n      return readToken_plus_min(code);\n\n    case 60: case 62: // '<>'\n      return readToken_lt_gt(code);\n\n    case 61: case 33: // '=!'\n      return readToken_eq_excl(code);\n\n    case 126: // '~'\n      return finishOp(_prefix, 1);\n    }\n\n    return false;\n  }\n\n  function readToken(forceRegexp) {\n    if (!forceRegexp) tokStart = tokPos;\n    else tokPos = tokStart + 1;\n    if (options.locations) tokStartLoc = new line_loc_t;\n    if (forceRegexp) return readRegexp();\n    if (tokPos >= inputLen) return finishToken(_eof);\n\n    var code = input.charCodeAt(tokPos);\n    // Identifier or keyword. '\\uXXXX' sequences are allowed in\n    // identifiers, so '\\' also dispatches to that.\n    if (isIdentifierStart(code) || code === 92 /* '\\' */) return readWord();\n\n    var tok = getTokenFromCode(code);\n\n    if (tok === false) {\n      // If we are here, we either found a non-ASCII identifier\n      // character, or something that's entirely disallowed.\n      var ch = String.fromCharCode(code);\n      if (ch === \"\\\\\" || nonASCIIidentifierStart.test(ch)) return readWord();\n      raise(tokPos, \"Unexpected character '\" + ch + \"'\");\n    }\n    return tok;\n  }\n\n  function finishOp(type, size) {\n    var str = input.slice(tokPos, tokPos + size);\n    tokPos += size;\n    finishToken(type, str);\n  }\n\n  // Parse a regular expression. Some context-awareness is necessary,\n  // since a '/' inside a '[]' set does not end the expression.\n\n  function readRegexp() {\n    var content = \"\", escaped, inClass, start = tokPos;\n    for (;;) {\n      if (tokPos >= inputLen) raise(start, \"Unterminated regular expression\");\n      var ch = input.charAt(tokPos);\n      if (newline.test(ch)) raise(start, \"Unterminated regular expression\");\n      if (!escaped) {\n        if (ch === \"[\") inClass = true;\n        else if (ch === \"]\" && inClass) inClass = false;\n        else if (ch === \"/\" && !inClass) break;\n        escaped = ch === \"\\\\\";\n      } else escaped = false;\n      ++tokPos;\n    }\n    var content = input.slice(start, tokPos);\n    ++tokPos;\n    // Need to use `readWord1` because '\\uXXXX' sequences are allowed\n    // here (don't ask).\n    var mods = readWord1();\n    if (mods && !/^[gmsiy]*$/.test(mods)) raise(start, \"Invalid regexp flag\");\n    return finishToken(_regexp, new RegExp(content, mods));\n  }\n\n  // Read an integer in the given radix. Return null if zero digits\n  // were read, the integer value otherwise. When `len` is given, this\n  // will return `null` unless the integer has exactly `len` digits.\n\n  function readInt(radix, len) {\n    var start = tokPos, total = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n      var code = input.charCodeAt(tokPos), val;\n      if (code >= 97) val = code - 97 + 10; // a\n      else if (code >= 65) val = code - 65 + 10; // A\n      else if (code >= 48 && code <= 57) val = code - 48; // 0-9\n      else val = Infinity;\n      if (val >= radix) break;\n      ++tokPos;\n      total = total * radix + val;\n    }\n    if (tokPos === start || len != null && tokPos - start !== len) return null;\n\n    return total;\n  }\n\n  function readHexNumber() {\n    tokPos += 2; // 0x\n    var val = readInt(16);\n    if (val == null) raise(tokStart + 2, \"Expected hexadecimal number\");\n    if (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n    return finishToken(_num, val);\n  }\n\n  // Read an integer, octal integer, or floating-point number.\n\n  function readNumber(startsWithDot) {\n    var start = tokPos, isFloat = false, octal = input.charCodeAt(tokPos) === 48;\n    if (!startsWithDot && readInt(10) === null) raise(start, \"Invalid number\");\n    if (input.charCodeAt(tokPos) === 46) {\n      ++tokPos;\n      readInt(10);\n      isFloat = true;\n    }\n    var next = input.charCodeAt(tokPos);\n    if (next === 69 || next === 101) { // 'eE'\n      next = input.charCodeAt(++tokPos);\n      if (next === 43 || next === 45) ++tokPos; // '+-'\n      if (readInt(10) === null) raise(start, \"Invalid number\");\n      isFloat = true;\n    }\n    if (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\n    var str = input.slice(start, tokPos), val;\n    if (isFloat) val = parseFloat(str);\n    else if (!octal || str.length === 1) val = parseInt(str, 10);\n    else if (/[89]/.test(str) || strict) raise(start, \"Invalid number\");\n    else val = parseInt(str, 8);\n    return finishToken(_num, val);\n  }\n\n  // Read a string value, interpreting backslash-escapes.\n\n  function readString(quote) {\n    tokPos++;\n    var out = \"\";\n    for (;;) {\n      if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n      var ch = input.charCodeAt(tokPos);\n      if (ch === quote) {\n        ++tokPos;\n        return finishToken(_string, out);\n      }\n      if (ch === 92) { // '\\'\n        ch = input.charCodeAt(++tokPos);\n        var octal = /^[0-7]+/.exec(input.slice(tokPos, tokPos + 3));\n        if (octal) octal = octal[0];\n        while (octal && parseInt(octal, 8) > 255) octal = octal.slice(0, -1);\n        if (octal === \"0\") octal = null;\n        ++tokPos;\n        if (octal) {\n          if (strict) raise(tokPos - 2, \"Octal literal in strict mode\");\n          out += String.fromCharCode(parseInt(octal, 8));\n          tokPos += octal.length - 1;\n        } else {\n          switch (ch) {\n          case 110: out += \"\\n\"; break; // 'n' -> '\\n'\n          case 114: out += \"\\r\"; break; // 'r' -> '\\r'\n          case 120: out += String.fromCharCode(readHexChar(2)); break; // 'x'\n          case 117: out += String.fromCharCode(readHexChar(4)); break; // 'u'\n          case 85: out += String.fromCharCode(readHexChar(8)); break; // 'U'\n          case 116: out += \"\\t\"; break; // 't' -> '\\t'\n          case 98: out += \"\\b\"; break; // 'b' -> '\\b'\n          case 118: out += \"\\u000b\"; break; // 'v' -> '\\u000b'\n          case 102: out += \"\\f\"; break; // 'f' -> '\\f'\n          case 48: out += \"\\0\"; break; // 0 -> '\\0'\n          case 13: if (input.charCodeAt(tokPos) === 10) ++tokPos; // '\\r\\n'\n          case 10: // ' \\n'\n            if (options.locations) { tokLineStart = tokPos; ++tokCurLine; }\n            break;\n          default: out += String.fromCharCode(ch); break;\n          }\n        }\n      } else {\n        if (ch === 13 || ch === 10 || ch === 8232 || ch === 8233) raise(tokStart, \"Unterminated string constant\");\n        out += String.fromCharCode(ch); // '\\'\n        ++tokPos;\n      }\n    }\n  }\n\n  // Used to read character escape sequences ('\\x', '\\u', '\\U').\n\n  function readHexChar(len) {\n    var n = readInt(16, len);\n    if (n === null) raise(tokStart, \"Bad character escape sequence\");\n    return n;\n  }\n\n  // Used to signal to callers of `readWord1` whether the word\n  // contained any escape sequences. This is needed because words with\n  // escape sequences must not be interpreted as keywords.\n\n  var containsEsc;\n\n  // Read an identifier, and return it as a string. Sets `containsEsc`\n  // to whether the word contained a '\\u' escape.\n  //\n  // Only builds up the word character-by-character when it actually\n  // containeds an escape, as a micro-optimization.\n\n  function readWord1() {\n    containsEsc = false;\n    var word, first = true, start = tokPos;\n    for (;;) {\n      var ch = input.charCodeAt(tokPos);\n      if (isIdentifierChar(ch)) {\n        if (containsEsc) word += input.charAt(tokPos);\n        ++tokPos;\n      } else if (ch === 92) { // \"\\\"\n        if (!containsEsc) word = input.slice(start, tokPos);\n        containsEsc = true;\n        if (input.charCodeAt(++tokPos) != 117) // \"u\"\n          raise(tokPos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n        ++tokPos;\n        var esc = readHexChar(4);\n        var escStr = String.fromCharCode(esc);\n        if (!escStr) raise(tokPos - 1, \"Invalid Unicode escape\");\n        if (!(first ? isIdentifierStart(esc) : isIdentifierChar(esc)))\n          raise(tokPos - 4, \"Invalid Unicode escape\");\n        word += escStr;\n      } else {\n        break;\n      }\n      first = false;\n    }\n    return containsEsc ? word : input.slice(start, tokPos);\n  }\n\n  // Read an identifier or keyword token. Will check for reserved\n  // words when necessary.\n\n  function readWord() {\n    var word = readWord1();\n    var type = _name;\n    if (!containsEsc) {\n      if (isKeyword(word)) type = keywordTypes[word];\n      else if (options.forbidReserved &&\n               (options.ecmaVersion === 3 ? isReservedWord3 : isReservedWord5)(word) ||\n               strict && isStrictReservedWord(word))\n        raise(tokStart, \"The keyword '\" + word + \"' is reserved\");\n    }\n    return finishToken(type, word);\n  }\n\n  // ## Parser\n\n  // A recursive descent parser operates by defining functions for all\n  // syntactic elements, and recursively calling those, each function\n  // advancing the input stream and returning an AST node. Precedence\n  // of constructs (for example, the fact that `!x[1]` means `!(x[1])`\n  // instead of `(!x)[1]` is handled by the fact that the parser\n  // function that parses unary prefix operators is called first, and\n  // in turn calls the function that parses `[]` subscripts  that\n  // way, it'll receive the node for `x[1]` already parsed, and wraps\n  // *that* in the unary operator node.\n  //\n  // Acorn uses an [operator precedence parser][opp] to handle binary\n  // operator precedence, because it is much more compact than using\n  // the technique outlined above, which uses different, nesting\n  // functions to specify precedence, for all of the ten binary\n  // precedence levels that JavaScript defines.\n  //\n  // [opp]: http://en.wikipedia.org/wiki/Operator-precedence_parser\n\n  // ### Parser utilities\n\n  // Continue to the next token.\n\n  function next() {\n    lastStart = tokStart;\n    lastEnd = tokEnd;\n    lastEndLoc = tokEndLoc;\n    readToken();\n  }\n\n  // Enter strict mode. Re-reads the next token to please pedantic\n  // tests (\"use strict\"; 010; -- should fail).\n\n  function setStrict(strct) {\n    strict = strct;\n    tokPos = lastEnd;\n    if (options.locations) {\n      while (tokPos < tokLineStart) {\n        tokLineStart = input.lastIndexOf(\"\\n\", tokLineStart - 2) + 1;\n        --tokCurLine;\n      }\n    }\n    skipSpace();\n    readToken();\n  }\n\n  // Start an AST node, attaching a start offset.\n\n  function node_t() {\n    this.type = null;\n    this.start = tokStart;\n    this.end = null;\n  }\n\n  function node_loc_t() {\n    this.start = tokStartLoc;\n    this.end = null;\n    if (sourceFile !== null) this.source = sourceFile;\n  }\n\n  function startNode() {\n    var node = new node_t();\n    if (options.locations)\n      node.loc = new node_loc_t();\n    if (options.directSourceFile)\n      node.sourceFile = options.directSourceFile;\n    if (options.ranges)\n      node.range = [tokStart, 0];\n    return node;\n  }\n\n  // Start a node whose start offset information should be based on\n  // the start of another node. For example, a binary operator node is\n  // only started after its left-hand side has already been parsed.\n\n  function startNodeFrom(other) {\n    var node = new node_t();\n    node.start = other.start;\n    if (options.locations) {\n      node.loc = new node_loc_t();\n      node.loc.start = other.loc.start;\n    }\n    if (options.ranges)\n      node.range = [other.range[0], 0];\n\n    return node;\n  }\n\n  // Finish an AST node, adding `type` and `end` properties.\n\n  function finishNode(node, type) {\n    node.type = type;\n    node.end = lastEnd;\n    if (options.locations)\n      node.loc.end = lastEndLoc;\n    if (options.ranges)\n      node.range[1] = lastEnd;\n    return node;\n  }\n\n  // Test whether a statement node is the string literal `\"use strict\"`.\n\n  function isUseStrict(stmt) {\n    return options.ecmaVersion >= 5 && stmt.type === \"ExpressionStatement\" &&\n      stmt.expression.type === \"Literal\" && stmt.expression.value === \"use strict\";\n  }\n\n  // Predicate that tests whether the next token is of the given\n  // type, and if yes, consumes it as a side effect.\n\n  function eat(type) {\n    if (tokType === type) {\n      next();\n      return true;\n    }\n  }\n\n  // Test whether a semicolon can be inserted at the current position.\n\n  function canInsertSemicolon() {\n    return !options.strictSemicolons &&\n      (tokType === _eof || tokType === _braceR || newline.test(input.slice(lastEnd, tokStart)));\n  }\n\n  // Consume a semicolon, or, failing that, see if we are allowed to\n  // pretend that there is a semicolon at this position.\n\n  function semicolon() {\n    if (!eat(_semi) && !canInsertSemicolon()) unexpected();\n  }\n\n  // Expect a token of a given type. If found, consume it, otherwise,\n  // raise an unexpected token error.\n\n  function expect(type) {\n    if (tokType === type) next();\n    else unexpected();\n  }\n\n  // Raise an unexpected token error.\n\n  function unexpected() {\n    raise(tokStart, \"Unexpected token\");\n  }\n\n  // Verify that a node is an lval  something that can be assigned\n  // to.\n\n  function checkLVal(expr) {\n    if (expr.type !== \"Identifier\" && expr.type !== \"MemberExpression\")\n      raise(expr.start, \"Assigning to rvalue\");\n    if (strict && expr.type === \"Identifier\" && isStrictBadIdWord(expr.name))\n      raise(expr.start, \"Assigning to \" + expr.name + \" in strict mode\");\n  }\n\n  // ### Statement parsing\n\n  // Parse a program. Initializes the parser, reads any number of\n  // statements, and wraps them in a Program node.  Optionally takes a\n  // `program` argument.  If present, the statements will be appended\n  // to its body instead of creating a new node.\n\n  function parseTopLevel(program) {\n    lastStart = lastEnd = tokPos;\n    if (options.locations) lastEndLoc = new line_loc_t;\n    inFunction = strict = null;\n    labels = [];\n    readToken();\n\n    var node = program || startNode(), first = true;\n    if (!program) node.body = [];\n    while (tokType !== _eof) {\n      var stmt = parseStatement();\n      node.body.push(stmt);\n      if (first && isUseStrict(stmt)) setStrict(true);\n      first = false;\n    }\n    return finishNode(node, \"Program\");\n  }\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  // Parse a single statement.\n  //\n  // If expecting a statement and finding a slash operator, parse a\n  // regular expression literal. This is to handle cases like\n  // `if (foo) /blah/.exec(foo);`, where looking at the previous token\n  // does not help.\n\n  function parseStatement() {\n    if (tokType === _slash || tokType === _assign && tokVal == \"/=\")\n      readToken(true);\n\n    var starttype = tokType, node = startNode();\n\n    // Most types of statements are recognized by the keyword they\n    // start with. Many are trivial to parse, some require a bit of\n    // complexity.\n\n    switch (starttype) {\n    case _break: case _continue:\n      next();\n      var isBreak = starttype === _break;\n      if (eat(_semi) || canInsertSemicolon()) node.label = null;\n      else if (tokType !== _name) unexpected();\n      else {\n        node.label = parseIdent();\n        semicolon();\n      }\n\n      // Verify that there is an actual destination to break or\n      // continue to.\n      for (var i = 0; i < labels.length; ++i) {\n        var lab = labels[i];\n        if (node.label == null || lab.name === node.label.name) {\n          if (lab.kind != null && (isBreak || lab.kind === \"loop\")) break;\n          if (node.label && isBreak) break;\n        }\n      }\n      if (i === labels.length) raise(node.start, \"Unsyntactic \" + starttype.keyword);\n      return finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n\n    case _debugger:\n      next();\n      semicolon();\n      return finishNode(node, \"DebuggerStatement\");\n\n    case _do:\n      next();\n      labels.push(loopLabel);\n      node.body = parseStatement();\n      labels.pop();\n      expect(_while);\n      node.test = parseParenExpression();\n      semicolon();\n      return finishNode(node, \"DoWhileStatement\");\n\n      // Disambiguating between a `for` and a `for`/`in` loop is\n      // non-trivial. Basically, we have to parse the init `var`\n      // statement or expression, disallowing the `in` operator (see\n      // the second parameter to `parseExpression`), and then check\n      // whether the next token is `in`. When there is no init part\n      // (semicolon immediately after the opening parenthesis), it is\n      // a regular `for` loop.\n\n    case _for:\n      next();\n      labels.push(loopLabel);\n      expect(_parenL);\n      if (tokType === _semi) return parseFor(node, null);\n      if (tokType === _var) {\n        var init = startNode();\n        next();\n        parseVar(init, true);\n        finishNode(init, \"VariableDeclaration\");\n        if (init.declarations.length === 1 && eat(_in))\n          return parseForIn(node, init);\n        return parseFor(node, init);\n      }\n      var init = parseExpression(false, true);\n      if (eat(_in)) {checkLVal(init); return parseForIn(node, init);}\n      return parseFor(node, init);\n\n    case _function:\n      next();\n      return parseFunction(node, true);\n\n    case _if:\n      next();\n      node.test = parseParenExpression();\n      node.consequent = parseStatement();\n      node.alternate = eat(_else) ? parseStatement() : null;\n      return finishNode(node, \"IfStatement\");\n\n    case _return:\n      if (!inFunction) raise(tokStart, \"'return' outside of function\");\n      next();\n\n      // In `return` (and `break`/`continue`), the keywords with\n      // optional arguments, we eagerly look for a semicolon or the\n      // possibility to insert one.\n\n      if (eat(_semi) || canInsertSemicolon()) node.argument = null;\n      else { node.argument = parseExpression(); semicolon(); }\n      return finishNode(node, \"ReturnStatement\");\n\n    case _switch:\n      next();\n      node.discriminant = parseParenExpression();\n      node.cases = [];\n      expect(_braceL);\n      labels.push(switchLabel);\n\n      // Statements under must be grouped (by label) in SwitchCase\n      // nodes. `cur` is used to keep the node that we are currently\n      // adding statements to.\n\n      for (var cur, sawDefault; tokType != _braceR;) {\n        if (tokType === _case || tokType === _default) {\n          var isCase = tokType === _case;\n          if (cur) finishNode(cur, \"SwitchCase\");\n          node.cases.push(cur = startNode());\n          cur.consequent = [];\n          next();\n          if (isCase) cur.test = parseExpression();\n          else {\n            if (sawDefault) raise(lastStart, \"Multiple default clauses\"); sawDefault = true;\n            cur.test = null;\n          }\n          expect(_colon);\n        } else {\n          if (!cur) unexpected();\n          cur.consequent.push(parseStatement());\n        }\n      }\n      if (cur) finishNode(cur, \"SwitchCase\");\n      next(); // Closing brace\n      labels.pop();\n      return finishNode(node, \"SwitchStatement\");\n\n    case _throw:\n      next();\n      if (newline.test(input.slice(lastEnd, tokStart)))\n        raise(lastEnd, \"Illegal newline after throw\");\n      node.argument = parseExpression();\n      semicolon();\n      return finishNode(node, \"ThrowStatement\");\n\n    case _try:\n      next();\n      node.block = parseBlock();\n      node.handler = null;\n      if (tokType === _catch) {\n        var clause = startNode();\n        next();\n        expect(_parenL);\n        clause.param = parseIdent();\n        if (strict && isStrictBadIdWord(clause.param.name))\n          raise(clause.param.start, \"Binding \" + clause.param.name + \" in strict mode\");\n        expect(_parenR);\n        clause.guard = null;\n        clause.body = parseBlock();\n        node.handler = finishNode(clause, \"CatchClause\");\n      }\n      node.guardedHandlers = empty;\n      node.finalizer = eat(_finally) ? parseBlock() : null;\n      if (!node.handler && !node.finalizer)\n        raise(node.start, \"Missing catch or finally clause\");\n      return finishNode(node, \"TryStatement\");\n\n    case _var:\n      next();\n      parseVar(node);\n      semicolon();\n      return finishNode(node, \"VariableDeclaration\");\n\n    case _while:\n      next();\n      node.test = parseParenExpression();\n      labels.push(loopLabel);\n      node.body = parseStatement();\n      labels.pop();\n      return finishNode(node, \"WhileStatement\");\n\n    case _with:\n      if (strict) raise(tokStart, \"'with' in strict mode\");\n      next();\n      node.object = parseParenExpression();\n      node.body = parseStatement();\n      return finishNode(node, \"WithStatement\");\n\n    case _braceL:\n      return parseBlock();\n\n    case _semi:\n      next();\n      return finishNode(node, \"EmptyStatement\");\n\n      // If the statement does not start with a statement keyword or a\n      // brace, it's an ExpressionStatement or LabeledStatement. We\n      // simply start parsing an expression, and afterwards, if the\n      // next token is a colon and the expression was a simple\n      // Identifier node, we switch to interpreting it as a label.\n\n    default:\n      var maybeName = tokVal, expr = parseExpression();\n      if (starttype === _name && expr.type === \"Identifier\" && eat(_colon)) {\n        for (var i = 0; i < labels.length; ++i)\n          if (labels[i].name === maybeName) raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n        var kind = tokType.isLoop ? \"loop\" : tokType === _switch ? \"switch\" : null;\n        labels.push({name: maybeName, kind: kind});\n        node.body = parseStatement();\n        labels.pop();\n        node.label = expr;\n        return finishNode(node, \"LabeledStatement\");\n      } else {\n        node.expression = expr;\n        semicolon();\n        return finishNode(node, \"ExpressionStatement\");\n      }\n    }\n  }\n\n  // Used for constructs like `switch` and `if` that insist on\n  // parentheses around their expression.\n\n  function parseParenExpression() {\n    expect(_parenL);\n    var val = parseExpression();\n    expect(_parenR);\n    return val;\n  }\n\n  // Parse a semicolon-enclosed block of statements, handling `\"use\n  // strict\"` declarations when `allowStrict` is true (used for\n  // function bodies).\n\n  function parseBlock(allowStrict) {\n    var node = startNode(), first = true, strict = false, oldStrict;\n    node.body = [];\n    expect(_braceL);\n    while (!eat(_braceR)) {\n      var stmt = parseStatement();\n      node.body.push(stmt);\n      if (first && allowStrict && isUseStrict(stmt)) {\n        oldStrict = strict;\n        setStrict(strict = true);\n      }\n      first = false;\n    }\n    if (strict && !oldStrict) setStrict(false);\n    return finishNode(node, \"BlockStatement\");\n  }\n\n  // Parse a regular `for` loop. The disambiguation code in\n  // `parseStatement` will already have parsed the init statement or\n  // expression.\n\n  function parseFor(node, init) {\n    node.init = init;\n    expect(_semi);\n    node.test = tokType === _semi ? null : parseExpression();\n    expect(_semi);\n    node.update = tokType === _parenR ? null : parseExpression();\n    expect(_parenR);\n    node.body = parseStatement();\n    labels.pop();\n    return finishNode(node, \"ForStatement\");\n  }\n\n  // Parse a `for`/`in` loop.\n\n  function parseForIn(node, init) {\n    node.left = init;\n    node.right = parseExpression();\n    expect(_parenR);\n    node.body = parseStatement();\n    labels.pop();\n    return finishNode(node, \"ForInStatement\");\n  }\n\n  // Parse a list of variable declarations.\n\n  function parseVar(node, noIn) {\n    node.declarations = [];\n    node.kind = \"var\";\n    for (;;) {\n      var decl = startNode();\n      decl.id = parseIdent();\n      if (strict && isStrictBadIdWord(decl.id.name))\n        raise(decl.id.start, \"Binding \" + decl.id.name + \" in strict mode\");\n      decl.init = eat(_eq) ? parseExpression(true, noIn) : null;\n      node.declarations.push(finishNode(decl, \"VariableDeclarator\"));\n      if (!eat(_comma)) break;\n    }\n    return node;\n  }\n\n  // ### Expression parsing\n\n  // These nest, from the most general expression type at the top to\n  // 'atomic', nondivisible expression types at the bottom. Most of\n  // the functions will simply let the function(s) below them parse,\n  // and, *if* the syntactic construct they handle is present, wrap\n  // the AST node that the inner parser gave them in another node.\n\n  // Parse a full expression. The arguments are used to forbid comma\n  // sequences (in argument lists, array literals, or object literals)\n  // or the `in` operator (in for loops initalization expressions).\n\n  function parseExpression(noComma, noIn) {\n    var expr = parseMaybeAssign(noIn);\n    if (!noComma && tokType === _comma) {\n      var node = startNodeFrom(expr);\n      node.expressions = [expr];\n      while (eat(_comma)) node.expressions.push(parseMaybeAssign(noIn));\n      return finishNode(node, \"SequenceExpression\");\n    }\n    return expr;\n  }\n\n  // Parse an assignment expression. This includes applications of\n  // operators like `+=`.\n\n  function parseMaybeAssign(noIn) {\n    var left = parseMaybeConditional(noIn);\n    if (tokType.isAssign) {\n      var node = startNodeFrom(left);\n      node.operator = tokVal;\n      node.left = left;\n      next();\n      node.right = parseMaybeAssign(noIn);\n      checkLVal(left);\n      return finishNode(node, \"AssignmentExpression\");\n    }\n    return left;\n  }\n\n  // Parse a ternary conditional (`?:`) operator.\n\n  function parseMaybeConditional(noIn) {\n    var expr = parseExprOps(noIn);\n    if (eat(_question)) {\n      var node = startNodeFrom(expr);\n      node.test = expr;\n      node.consequent = parseExpression(true);\n      expect(_colon);\n      node.alternate = parseExpression(true, noIn);\n      return finishNode(node, \"ConditionalExpression\");\n    }\n    return expr;\n  }\n\n  // Start the precedence parser.\n\n  function parseExprOps(noIn) {\n    return parseExprOp(parseMaybeUnary(), -1, noIn);\n  }\n\n  // Parse binary operators with the operator precedence parsing\n  // algorithm. `left` is the left-hand side of the operator.\n  // `minPrec` provides context that allows the function to stop and\n  // defer further parser to one of its callers when it encounters an\n  // operator that has a lower precedence than the set it is parsing.\n\n  function parseExprOp(left, minPrec, noIn) {\n    var prec = tokType.binop;\n    if (prec != null && (!noIn || tokType !== _in)) {\n      if (prec > minPrec) {\n        var node = startNodeFrom(left);\n        node.left = left;\n        node.operator = tokVal;\n        var op = tokType;\n        next();\n        node.right = parseExprOp(parseMaybeUnary(), prec, noIn);\n        var exprNode = finishNode(node, (op === _logicalOR || op === _logicalAND) ? \"LogicalExpression\" : \"BinaryExpression\");\n        return parseExprOp(exprNode, minPrec, noIn);\n      }\n    }\n    return left;\n  }\n\n  // Parse unary operators, both prefix and postfix.\n\n  function parseMaybeUnary() {\n    if (tokType.prefix) {\n      var node = startNode(), update = tokType.isUpdate;\n      node.operator = tokVal;\n      node.prefix = true;\n      tokRegexpAllowed = true;\n      next();\n      node.argument = parseMaybeUnary();\n      if (update) checkLVal(node.argument);\n      else if (strict && node.operator === \"delete\" &&\n               node.argument.type === \"Identifier\")\n        raise(node.start, \"Deleting local variable in strict mode\");\n      return finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    }\n    var expr = parseExprSubscripts();\n    while (tokType.postfix && !canInsertSemicolon()) {\n      var node = startNodeFrom(expr);\n      node.operator = tokVal;\n      node.prefix = false;\n      node.argument = expr;\n      checkLVal(expr);\n      next();\n      expr = finishNode(node, \"UpdateExpression\");\n    }\n    return expr;\n  }\n\n  // Parse call, dot, and `[]`-subscript expressions.\n\n  function parseExprSubscripts() {\n    return parseSubscripts(parseExprAtom());\n  }\n\n  function parseSubscripts(base, noCalls) {\n    if (eat(_dot)) {\n      var node = startNodeFrom(base);\n      node.object = base;\n      node.property = parseIdent(true);\n      node.computed = false;\n      return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n    } else if (eat(_bracketL)) {\n      var node = startNodeFrom(base);\n      node.object = base;\n      node.property = parseExpression();\n      node.computed = true;\n      expect(_bracketR);\n      return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n    } else if (!noCalls && eat(_parenL)) {\n      var node = startNodeFrom(base);\n      node.callee = base;\n      node.arguments = parseExprList(_parenR, false);\n      return parseSubscripts(finishNode(node, \"CallExpression\"), noCalls);\n    } else return base;\n  }\n\n  // Parse an atomic expression  either a single token that is an\n  // expression, an expression started by a keyword like `function` or\n  // `new`, or an expression wrapped in punctuation like `()`, `[]`,\n  // or `{}`.\n\n  function parseExprAtom() {\n    switch (tokType) {\n    case _this:\n      var node = startNode();\n      next();\n      return finishNode(node, \"ThisExpression\");\n    case _name:\n      return parseIdent();\n    case _num: case _string: case _regexp:\n      var node = startNode();\n      node.value = tokVal;\n      node.raw = input.slice(tokStart, tokEnd);\n      next();\n      return finishNode(node, \"Literal\");\n\n    case _null: case _true: case _false:\n      var node = startNode();\n      node.value = tokType.atomValue;\n      node.raw = tokType.keyword;\n      next();\n      return finishNode(node, \"Literal\");\n\n    case _parenL:\n      var tokStartLoc1 = tokStartLoc, tokStart1 = tokStart;\n      next();\n      var val = parseExpression();\n      val.start = tokStart1;\n      val.end = tokEnd;\n      if (options.locations) {\n        val.loc.start = tokStartLoc1;\n        val.loc.end = tokEndLoc;\n      }\n      if (options.ranges)\n        val.range = [tokStart1, tokEnd];\n      expect(_parenR);\n      return val;\n\n    case _bracketL:\n      var node = startNode();\n      next();\n      node.elements = parseExprList(_bracketR, true, true);\n      return finishNode(node, \"ArrayExpression\");\n\n    case _braceL:\n      return parseObj();\n\n    case _function:\n      var node = startNode();\n      next();\n      return parseFunction(node, false);\n\n    case _new:\n      return parseNew();\n\n    default:\n      unexpected();\n    }\n  }\n\n  // New's precedence is slightly tricky. It must allow its argument\n  // to be a `[]` or dot subscript expression, but not a call  at\n  // least, not without wrapping it in parentheses. Thus, it uses the\n\n  function parseNew() {\n    var node = startNode();\n    next();\n    node.callee = parseSubscripts(parseExprAtom(), true);\n    if (eat(_parenL)) node.arguments = parseExprList(_parenR, false);\n    else node.arguments = empty;\n    return finishNode(node, \"NewExpression\");\n  }\n\n  // Parse an object literal.\n\n  function parseObj() {\n    var node = startNode(), first = true, sawGetSet = false;\n    node.properties = [];\n    next();\n    while (!eat(_braceR)) {\n      if (!first) {\n        expect(_comma);\n        if (options.allowTrailingCommas && eat(_braceR)) break;\n      } else first = false;\n\n      var prop = {key: parsePropertyName()}, isGetSet = false, kind;\n      if (eat(_colon)) {\n        prop.value = parseExpression(true);\n        kind = prop.kind = \"init\";\n      } else if (options.ecmaVersion >= 5 && prop.key.type === \"Identifier\" &&\n                 (prop.key.name === \"get\" || prop.key.name === \"set\")) {\n        isGetSet = sawGetSet = true;\n        kind = prop.kind = prop.key.name;\n        prop.key = parsePropertyName();\n        if (tokType !== _parenL) unexpected();\n        prop.value = parseFunction(startNode(), false);\n      } else unexpected();\n\n      // getters and setters are not allowed to clash  either with\n      // each other or with an init property  and in strict mode,\n      // init properties are also not allowed to be repeated.\n\n      if (prop.key.type === \"Identifier\" && (strict || sawGetSet)) {\n        for (var i = 0; i < node.properties.length; ++i) {\n          var other = node.properties[i];\n          if (other.key.name === prop.key.name) {\n            var conflict = kind == other.kind || isGetSet && other.kind === \"init\" ||\n              kind === \"init\" && (other.kind === \"get\" || other.kind === \"set\");\n            if (conflict && !strict && kind === \"init\" && other.kind === \"init\") conflict = false;\n            if (conflict) raise(prop.key.start, \"Redefinition of property\");\n          }\n        }\n      }\n      node.properties.push(prop);\n    }\n    return finishNode(node, \"ObjectExpression\");\n  }\n\n  function parsePropertyName() {\n    if (tokType === _num || tokType === _string) return parseExprAtom();\n    return parseIdent(true);\n  }\n\n  // Parse a function declaration or literal (depending on the\n  // `isStatement` parameter).\n\n  function parseFunction(node, isStatement) {\n    if (tokType === _name) node.id = parseIdent();\n    else if (isStatement) unexpected();\n    else node.id = null;\n    node.params = [];\n    var first = true;\n    expect(_parenL);\n    while (!eat(_parenR)) {\n      if (!first) expect(_comma); else first = false;\n      node.params.push(parseIdent());\n    }\n\n    // Start a new scope with regard to labels and the `inFunction`\n    // flag (restore them to their old value afterwards).\n    var oldInFunc = inFunction, oldLabels = labels;\n    inFunction = true; labels = [];\n    node.body = parseBlock(true);\n    inFunction = oldInFunc; labels = oldLabels;\n\n    // If this is a strict mode function, verify that argument names\n    // are not repeated, and it does not try to bind the words `eval`\n    // or `arguments`.\n    if (strict || node.body.body.length && isUseStrict(node.body.body[0])) {\n      for (var i = node.id ? -1 : 0; i < node.params.length; ++i) {\n        var id = i < 0 ? node.id : node.params[i];\n        if (isStrictReservedWord(id.name) || isStrictBadIdWord(id.name))\n          raise(id.start, \"Defining '\" + id.name + \"' in strict mode\");\n        if (i >= 0) for (var j = 0; j < i; ++j) if (id.name === node.params[j].name)\n          raise(id.start, \"Argument name clash in strict mode\");\n      }\n    }\n\n    return finishNode(node, isStatement ? \"FunctionDeclaration\" : \"FunctionExpression\");\n  }\n\n  // Parses a comma-separated list of expressions, and returns them as\n  // an array. `close` is the token type that ends the list, and\n  // `allowEmpty` can be turned on to allow subsequent commas with\n  // nothing in between them to be parsed as `null` (which is needed\n  // for array literals).\n\n  function parseExprList(close, allowTrailingComma, allowEmpty) {\n    var elts = [], first = true;\n    while (!eat(close)) {\n      if (!first) {\n        expect(_comma);\n        if (allowTrailingComma && options.allowTrailingCommas && eat(close)) break;\n      } else first = false;\n\n      if (allowEmpty && tokType === _comma) elts.push(null);\n      else elts.push(parseExpression(true));\n    }\n    return elts;\n  }\n\n  // Parse the next token as an identifier. If `liberal` is true (used\n  // when parsing properties), it will also convert keywords into\n  // identifiers.\n\n  function parseIdent(liberal) {\n    var node = startNode();\n    node.name = tokType === _name ? tokVal : (liberal && !options.forbidReserved && tokType.keyword) || unexpected();\n    tokRegexpAllowed = false;\n    next();\n    return finishNode(node, \"Identifier\");\n  }\n\n});\n\n\n/***/ }),\n\n/***/ \"./original-repo/interpreter.js\":\n/*!**************************************!*\\\n  !*** ./original-repo/interpreter.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(acorn) {/**\n * @license\n * Copyright 2013 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Interpreting JavaScript in JavaScript.\n * @author fraser@google.com (Neil Fraser)\n */\n\n\n/**\n * Create a new interpreter.\n * @param {string|!Object} code Raw JavaScript text or AST.\n * @param {Function=} opt_initFunc Optional initialization function.  Used to\n *     define APIs.  When called it is passed the interpreter object and the\n *     global scope object.\n * @constructor\n */\nvar Interpreter = function(code, opt_initFunc) {\n  if (typeof code === 'string') {\n    code = acorn.parse(code, Interpreter.PARSE_OPTIONS);\n  }\n  // Get a handle on Acorn's node_t object.\n  this.nodeConstructor = code.constructor;\n  // Clone the root 'Program' node so that the AST may be modified.\n  var ast = new this.nodeConstructor({options:{}});\n  for (var prop in code) {\n    ast[prop] = (prop === 'body') ? code[prop].slice() : code[prop];\n  }\n  this.ast = ast;\n  this.initFunc_ = opt_initFunc;\n  this.paused_ = false;\n  this.polyfills_ = [];\n  // Unique identifier for native functions.  Used in serialization.\n  this.functionCounter_ = 0;\n  // Map node types to our step function names; a property lookup is faster\n  // than string concatenation with \"step\" prefix.\n  this.stepFunctions_ = Object.create(null);\n  var stepMatch = /^step([A-Z]\\w*)$/;\n  var m;\n  for (var methodName in this) {\n    if ((typeof this[methodName] === 'function') &&\n        (m = methodName.match(stepMatch))) {\n      this.stepFunctions_[m[1]] = this[methodName].bind(this);\n    }\n  }\n  // Create and initialize the global scope.\n  this.globalScope = this.createScope(this.ast, null);\n  this.globalObject = this.globalScope.object;\n  // Run the polyfills.\n  this.ast = acorn.parse(this.polyfills_.join('\\n'), Interpreter.PARSE_OPTIONS);\n  this.polyfills_ = undefined;  // Allow polyfill strings to garbage collect.\n  Interpreter.stripLocations_(this.ast, undefined, undefined);\n  var state = new Interpreter.State(this.ast, this.globalScope);\n  state.done = false;\n  this.stateStack = [state];\n  this.run();\n  this.value = undefined;\n  // Point at the main program.\n  this.ast = ast;\n  var state = new Interpreter.State(this.ast, this.globalScope);\n  state.done = false;\n  this.stateStack.length = 0;\n  this.stateStack[0] = state;\n  // Preserve publicly properties from being pruned/renamed by JS compilers.\n  // Add others as needed.\n  this['stateStack'] = this.stateStack;\n};\n\n/**\n  * Completion Value Types.\n  * @enum {number}\n  */\n Interpreter.Completion = {\n   NORMAL: 0,\n   BREAK: 1,\n   CONTINUE: 2,\n   RETURN: 3,\n   THROW: 4\n };\n\n/**\n * @const {!Object} Configuration used for all Acorn parsing.\n */\nInterpreter.PARSE_OPTIONS = {\n  ecmaVersion: 5\n};\n\n/**\n * Property descriptor of readonly properties.\n */\nInterpreter.READONLY_DESCRIPTOR = {\n  configurable: true,\n  enumerable: true,\n  writable: false\n};\n\n/**\n * Property descriptor of non-enumerable properties.\n */\nInterpreter.NONENUMERABLE_DESCRIPTOR = {\n  configurable: true,\n  enumerable: false,\n  writable: true\n};\n\n/**\n * Property descriptor of readonly, non-enumerable properties.\n */\nInterpreter.READONLY_NONENUMERABLE_DESCRIPTOR = {\n  configurable: true,\n  enumerable: false,\n  writable: false\n};\n\n/**\n * Property descriptor of non-configurable, readonly, non-enumerable properties.\n * E.g. NaN, Infinity.\n */\nInterpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR = {\n  configurable: false,\n  enumerable: false,\n  writable: false\n};\n\n/**\n * Property descriptor of variables.\n */\nInterpreter.VARIABLE_DESCRIPTOR = {\n  configurable: false,\n  enumerable: true,\n  writable: true\n};\n\n/**\n * Unique symbol for indicating that a step has encountered an error, has\n * added it to the stack, and will be thrown within the user's program.\n * When STEP_ERROR is thrown in the JS-Interpreter, the error can be ignored.\n */\nInterpreter.STEP_ERROR = {'STEP_ERROR': true};\n\n/**\n * Unique symbol for indicating that a reference is a variable on the scope,\n * not an object property.\n */\nInterpreter.SCOPE_REFERENCE = {'SCOPE_REFERENCE': true};\n\n/**\n * Unique symbol for indicating, when used as the value of the value\n * parameter in calls to setProperty and friends, that the value\n * should be taken from the property descriptor instead.\n */\nInterpreter.VALUE_IN_DESCRIPTOR = {'VALUE_IN_DESCRIPTOR': true};\n\n/**\n * Unique symbol for indicating that a RegExp timeout has occurred in a VM.\n */\nInterpreter.REGEXP_TIMEOUT = {'REGEXP_TIMEOUT': true};\n\n/**\n * For cycle detection in array to string and error conversion;\n * see spec bug github.com/tc39/ecma262/issues/289\n * Since this is for atomic actions only, it can be a class property.\n */\nInterpreter.toStringCycles_ = [];\n\n/**\n * Node's vm module, if loaded and required.\n * @type {Object}\n */\nInterpreter.vm = null;\n\n/**\n * The global object (`window` in a browser, `global` in node.js) is `this`.\n */\nInterpreter.nativeGlobal = this;\n\n/**\n * Code for executing regular expressions in a thread.\n */\nInterpreter.WORKER_CODE = [\n  \"onmessage = function(e) {\",\n    \"var result;\",\n    \"var data = e.data;\",\n    \"switch (data[0]) {\",\n      \"case 'split':\",\n        // ['split', string, separator, limit]\n        \"result = data[1].split(data[2], data[3]);\",\n        \"break;\",\n      \"case 'match':\",\n        // ['match', string, regexp]\n        \"result = data[1].match(data[2]);\",\n        \"break;\",\n      \"case 'search':\",\n        // ['search', string, regexp]\n        \"result = data[1].search(data[2]);\",\n        \"break;\",\n      \"case 'replace':\",\n        // ['replace', string, regexp, newSubstr]\n        \"result = data[1].replace(data[2], data[3]);\",\n        \"break;\",\n      \"case 'exec':\",\n        // ['exec', regexp, lastIndex, string]\n        \"var regexp = data[1];\",\n        \"regexp.lastIndex = data[2];\",\n        \"result = [regexp.exec(data[3]), data[1].lastIndex];\",\n        \"break;\",\n      \"default:\",\n        \"throw Error('Unknown RegExp operation: ' + data[0]);\",\n    \"}\",\n    \"postMessage(result);\",\n  \"};\"];\n\n/**\n * Is a value a legal integer for an array length?\n * @param {Interpreter.Value} x Value to check.\n * @return {number} Zero, or a positive integer if the value can be\n *     converted to such.  NaN otherwise.\n */\nInterpreter.legalArrayLength = function(x) {\n  var n = x >>> 0;\n  // Array length must be between 0 and 2^32-1 (inclusive).\n  return (n === Number(x)) ? n : NaN;\n};\n\n/**\n * Is a value a legal integer for an array index?\n * @param {Interpreter.Value} x Value to check.\n * @return {number} Zero, or a positive integer if the value can be\n *     converted to such.  NaN otherwise.\n */\nInterpreter.legalArrayIndex = function(x) {\n  var n = x >>> 0;\n  // Array index cannot be 2^32-1, otherwise length would be 2^32.\n  // 0xffffffff is 2^32-1.\n  return (String(n) === String(x) && n !== 0xffffffff) ? n : NaN;\n};\n\n/**\n * Remove start and end values from AST, or set start and end values to a\n * constant value.  Used to remove highlighting from polyfills and to set\n * highlighting in an eval to cover the entire eval expression.\n * @param {!Object} node AST node.\n * @param {number=} start Starting character of all nodes, or undefined.\n * @param {number=} end Ending character of all nodes, or undefined.\n * @private\n */\nInterpreter.stripLocations_ = function(node, start, end) {\n  if (start) {\n    node['start'] = start;\n  } else {\n    delete node['start'];\n  }\n  if (end) {\n    node['end'] = end;\n  } else {\n    delete node['end'];\n  }\n  for (var name in node) {\n    if (node.hasOwnProperty(name)) {\n      var prop = node[name];\n      if (prop && typeof prop === 'object') {\n        Interpreter.stripLocations_(prop, start, end);\n      }\n    }\n  }\n};\n\n/**\n * Some pathological regular expressions can take geometric time.\n * Regular expressions are handled in one of three ways:\n * 0 - throw as invalid.\n * 1 - execute natively (risk of unresponsive program).\n * 2 - execute in separate thread (not supported by IE 9).\n */\nInterpreter.prototype['REGEXP_MODE'] = 2;\n\n/**\n * If REGEXP_MODE = 2, the length of time (in ms) to allow a RegExp\n * thread to execute before terminating it.\n */\nInterpreter.prototype['REGEXP_THREAD_TIMEOUT'] = 1000;\n\n/**\n * Length of time (in ms) to allow a polyfill to run before ending step.\n * If set to 0, polyfills will execute step by step.\n * If set to 1000, polyfills will run for up to a second per step\n * (execution will resume in the polyfill in the next step).\n * If set to Infinity, polyfills will run to completion in a single step.\n */\nInterpreter.prototype['POLYFILL_TIMEOUT'] = 1000;\n\n/**\n * Flag indicating that a getter function needs to be called immediately.\n * @private\n */\nInterpreter.prototype.getterStep_ = false;\n\n/**\n * Flag indicating that a setter function needs to be called immediately.\n * @private\n */\nInterpreter.prototype.setterStep_ = false;\n\n/**\n * Add more code to the interpreter.\n * @param {string|!Object} code Raw JavaScript text or AST.\n */\nInterpreter.prototype.appendCode = function(code) {\n  var state = this.stateStack[0];\n  if (!state || state.node['type'] !== 'Program') {\n    throw Error('Expecting original AST to start with a Program node.');\n  }\n  if (typeof code === 'string') {\n    code = acorn.parse(code, Interpreter.PARSE_OPTIONS);\n  }\n  if (!code || code['type'] !== 'Program') {\n    throw Error('Expecting new AST to start with a Program node.');\n  }\n  this.populateScope_(code, state.scope);\n  // Append the new program to the old one.\n  Array.prototype.push.apply(state.node['body'], code['body']);\n  state.done = false;\n};\n\n/**\n * Execute one step of the interpreter.\n * @return {boolean} True if a step was executed, false if no more instructions.\n */\nInterpreter.prototype.step = function() {\n  var stack = this.stateStack;\n  var startTime = Date.now();\n  do {\n    var state = stack[stack.length - 1];\n    if (!state) {\n      return false;\n    }\n    var node = state.node, type = node['type'];\n    if (type === 'Program' && state.done) {\n      return false;\n    } else if (this.paused_) {\n      return true;\n    }\n    try {\n      var nextState = this.stepFunctions_[type](stack, state, node);\n    } catch (e) {\n      // Eat any step errors.  They have been thrown on the stack.\n      if (e !== Interpreter.STEP_ERROR) {\n        // Uh oh.  This is a real error in the JS-Interpreter.  Rethrow.\n        throw e;\n      }\n    }\n    if (nextState) {\n      stack.push(nextState);\n    }\n    if (this.getterStep_) {\n      // Getter from this step was not handled.\n      throw Error('Getter not supported in this context');\n    }\n    if (this.setterStep_) {\n      // Setter from this step was not handled.\n      throw Error('Setter not supported in this context');\n    }\n    // This may be polyfill code.  Keep executing until we arrive at user code.\n  } while (!node['end'] && startTime + this['POLYFILL_TIMEOUT'] > Date.now());\n  return true;\n};\n\n/**\n * Execute the interpreter to program completion.  Vulnerable to infinite loops.\n * @return {boolean} True if a execution is asynchronously blocked,\n *     false if no more instructions.\n */\nInterpreter.prototype.run = function() {\n  while (!this.paused_ && this.step()) {}\n  return this.paused_;\n};\n\n/**\n * Initialize the global object with buitin properties and functions.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initGlobal = function(globalObject) {\n  // Initialize uneditable global properties.\n  this.setProperty(globalObject, 'NaN', NaN,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'Infinity', Infinity,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'undefined', undefined,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'window', globalObject,\n      Interpreter.READONLY_DESCRIPTOR);\n  this.setProperty(globalObject, 'this', globalObject,\n      Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'self', globalObject);  // Editable.\n\n  // Create the objects which will become Object.prototype and\n  // Function.prototype, which are needed to bootstrap everything else.\n  this.OBJECT_PROTO = new Interpreter.Object(null);\n  this.FUNCTION_PROTO = new Interpreter.Object(this.OBJECT_PROTO);\n  // Initialize global objects.\n  this.initFunction(globalObject);\n  this.initObject(globalObject);\n  // Unable to set globalObject's parent prior (OBJECT did not exist).\n  // Note that in a browser this would be `Window`, whereas in Node.js it would\n  // be `Object`.  This interpreter is closer to Node in that it has no DOM.\n  globalObject.proto = this.OBJECT_PROTO;\n  this.setProperty(globalObject, 'constructor', this.OBJECT,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.initArray(globalObject);\n  this.initString(globalObject);\n  this.initBoolean(globalObject);\n  this.initNumber(globalObject);\n  this.initDate(globalObject);\n  this.initRegExp(globalObject);\n  this.initError(globalObject);\n  this.initMath(globalObject);\n  this.initJSON(globalObject);\n\n  // Initialize global functions.\n  var thisInterpreter = this;\n  var func = this.createNativeFunction(\n      function(x) {throw EvalError(\"Can't happen\");}, false);\n  func.eval = true;\n  this.setProperty(globalObject, 'eval', func,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(globalObject, 'parseInt',\n      this.createNativeFunction(parseInt, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'parseFloat',\n      this.createNativeFunction(parseFloat, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(globalObject, 'isNaN',\n      this.createNativeFunction(isNaN, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(globalObject, 'isFinite',\n      this.createNativeFunction(isFinite, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var strFunctions = [\n    [escape, 'escape'], [unescape, 'unescape'],\n    [decodeURI, 'decodeURI'], [decodeURIComponent, 'decodeURIComponent'],\n    [encodeURI, 'encodeURI'], [encodeURIComponent, 'encodeURIComponent']\n  ];\n  for (var i = 0; i < strFunctions.length; i++) {\n    var wrapper = (function(nativeFunc) {\n      return function(str) {\n        try {\n          return nativeFunc(str);\n        } catch (e) {\n          // decodeURI('%xy') will throw an error.  Catch and rethrow.\n          thisInterpreter.throwException(thisInterpreter.URI_ERROR, e.message);\n        }\n      };\n    })(strFunctions[i][0]);\n    this.setProperty(globalObject, strFunctions[i][1],\n        this.createNativeFunction(wrapper, false),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n  }\n  // Preserve publicly properties from being pruned/renamed by JS compilers.\n  // Add others as needed.\n  this['OBJECT'] = this.OBJECT;     this['OBJECT_PROTO'] = this.OBJECT_PROTO;\n  this['FUNCTION'] = this.FUNCTION; this['FUNCTION_PROTO'] = this.FUNCTION_PROTO;\n  this['ARRAY'] = this.ARRAY;       this['ARRAY_PROTO'] = this.ARRAY_PROTO;\n  this['REGEXP'] = this.REGEXP;     this['REGEXP_PROTO'] = this.REGEXP_PROTO;\n  this['DATE'] = this.DATE;         this['DATE_PROTO'] = this.DATE_PROTO;\n\n  // Run any user-provided initialization.\n  if (this.initFunc_) {\n    this.initFunc_(this, globalObject);\n  }\n};\n\n/**\n * Initialize the Function class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initFunction = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  var identifierRegexp = /^[A-Za-z_$][\\w$]*$/;\n  // Function constructor.\n  wrapper = function Function(var_args) {\n    if (arguments.length) {\n      var code = String(arguments[arguments.length - 1]);\n    } else {\n      var code = '';\n    }\n    var argsStr = Array.prototype.slice.call(arguments, 0, -1).join(',').trim();\n    if (argsStr) {\n      var args = argsStr.split(/\\s*,\\s*/);\n      for (var i = 0; i < args.length; i++) {\n        var name = args[i];\n        if (!identifierRegexp.test(name)) {\n          thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR,\n              'Invalid function argument: ' + name);\n        }\n      }\n      argsStr = args.join(', ');\n    }\n    // Acorn needs to parse code in the context of a function or else `return`\n    // statements will be syntax errors.\n    try {\n      var ast = acorn.parse('(function(' + argsStr + ') {' + code + '})',\n          Interpreter.PARSE_OPTIONS);\n    } catch (e) {\n      // Acorn threw a SyntaxError.  Rethrow as a trappable error.\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR,\n          'Invalid code: ' + e.message);\n    }\n    if (ast['body'].length !== 1) {\n      // Function('a', 'return a + 6;}; {alert(1);');\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR,\n          'Invalid code in function body.');\n    }\n    var node = ast['body'][0]['expression'];\n    // Note that if this constructor is called as `new Function()` the function\n    // object created by stepCallExpression and assigned to `this` is discarded.\n    // Interestingly, the scope for constructed functions is the global scope,\n    // even if they were constructed in some other scope.\n    return thisInterpreter.createFunction(node, thisInterpreter.globalScope, 'anonymous');\n  };\n  this.FUNCTION = this.createNativeFunction(wrapper, true);\n\n  this.setProperty(globalObject, 'Function', this.FUNCTION,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  // Throw away the created prototype and use the root prototype.\n  this.setProperty(this.FUNCTION, 'prototype', this.FUNCTION_PROTO,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Configure Function.prototype.\n  this.setProperty(this.FUNCTION_PROTO, 'constructor', this.FUNCTION,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.FUNCTION_PROTO.nativeFunc = function() {};\n  this.FUNCTION_PROTO.nativeFunc.id = this.functionCounter_++;\n  this.FUNCTION_PROTO.illegalConstructor = true;\n  this.setProperty(this.FUNCTION_PROTO, 'length', 0,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.FUNCTION_PROTO.class = 'Function';\n\n  wrapper = function apply(thisArg, args) {\n    var state =\n        thisInterpreter.stateStack[thisInterpreter.stateStack.length - 1];\n    // Rewrite the current CallExpression state to apply a different function.\n    state.func_ = this;\n    // Assign the `this` object.\n    state.funcThis_ = thisArg;\n    // Bind any provided arguments.\n    state.arguments_ = [];\n    if (args !== null && args !== undefined) {\n      if (args instanceof Interpreter.Object) {\n        state.arguments_ = thisInterpreter.arrayPseudoToNative(args);\n      } else {\n        thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n            'CreateListFromArrayLike called on non-object');\n      }\n    }\n    state.doneExec_ = false;\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'apply', wrapper);\n\n  wrapper = function call(thisArg /*, var_args */) {\n    var state =\n        thisInterpreter.stateStack[thisInterpreter.stateStack.length - 1];\n    // Rewrite the current CallExpression state to call a different function.\n    state.func_ = this;\n    // Assign the `this` object.\n    state.funcThis_ = thisArg;\n    // Bind any provided arguments.\n    state.arguments_ = [];\n    for (var i = 1; i < arguments.length; i++) {\n      state.arguments_.push(arguments[i]);\n    }\n    state.doneExec_ = false;\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'call', wrapper);\n\n  this.polyfills_.push(\n// Polyfill copied from:\n// developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind\n\"Object.defineProperty(Function.prototype, 'bind',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function bind(oThis) {\",\n    \"if (typeof this !== 'function') {\",\n      \"throw TypeError('What is trying to be bound is not callable');\",\n    \"}\",\n    \"var aArgs   = Array.prototype.slice.call(arguments, 1),\",\n        \"fToBind = this,\",\n        \"fNOP    = function() {},\",\n        \"fBound  = function() {\",\n          \"return fToBind.apply(this instanceof fNOP\",\n                 \"? this\",\n                 \": oThis,\",\n                 \"aArgs.concat(Array.prototype.slice.call(arguments)));\",\n        \"};\",\n    \"if (this.prototype) {\",\n      \"fNOP.prototype = this.prototype;\",\n    \"}\",\n    \"fBound.prototype = new fNOP();\",\n    \"return fBound;\",\n  \"}\",\n\"});\",\n\"\");\n\n  // Function has no parent to inherit from, so it needs its own mandatory\n  // toString and valueOf functions.\n  wrapper = function toString() {\n    return String(this);\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'toString', wrapper);\n  this.setProperty(this.FUNCTION, 'toString',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  wrapper = function valueOf() {\n    return this.valueOf();\n  };\n  this.setNativeFunctionPrototype(this.FUNCTION, 'valueOf', wrapper);\n  this.setProperty(this.FUNCTION, 'valueOf',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Initialize the Object class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initObject = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Object constructor.\n  wrapper = function Object(value) {\n    if (value === undefined || value === null) {\n      // Create a new object.\n      if (thisInterpreter.calledWithNew()) {\n        // Called as `new Object()`.\n        return this;\n      } else {\n        // Called as `Object()`.\n        return thisInterpreter.createObjectProto(thisInterpreter.OBJECT_PROTO);\n      }\n    }\n    if (!(value instanceof Interpreter.Object)) {\n      // Wrap the value as an object.\n      var box = thisInterpreter.createObjectProto(\n          thisInterpreter.getPrototype(value));\n      box.data = value;\n      return box;\n    }\n    // Return the provided object.\n    return value;\n  };\n  this.OBJECT = this.createNativeFunction(wrapper, true);\n  // Throw away the created prototype and use the root prototype.\n  this.setProperty(this.OBJECT, 'prototype', this.OBJECT_PROTO,\n                   Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.OBJECT_PROTO, 'constructor', this.OBJECT,\n                   Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(globalObject, 'Object', this.OBJECT,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  /**\n   * Checks if the provided value is null or undefined.\n   * If so, then throw an error in the call stack.\n   * @param {Interpreter.Value} value Value to check.\n   */\n  var throwIfNullUndefined = function(value) {\n    if (value === undefined || value === null) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          \"Cannot convert '\" + value + \"' to object\");\n    }\n  };\n\n  // Static methods on Object.\n  wrapper = function getOwnPropertyNames(obj) {\n    throwIfNullUndefined(obj);\n    var props = (obj instanceof Interpreter.Object) ? obj.properties : obj;\n    return thisInterpreter.arrayNativeToPseudo(\n        Object.getOwnPropertyNames(props));\n  };\n  this.setProperty(this.OBJECT, 'getOwnPropertyNames',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function keys(obj) {\n    throwIfNullUndefined(obj);\n    if (obj instanceof Interpreter.Object) {\n      obj = obj.properties;\n    }\n    return thisInterpreter.arrayNativeToPseudo(Object.keys(obj));\n  };\n  this.setProperty(this.OBJECT, 'keys',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function create_(proto) {\n    // Support for the second argument is the responsibility of a polyfill.\n    if (proto === null) {\n      return thisInterpreter.createObjectProto(null);\n    }\n    if (!(proto instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Object prototype may only be an Object or null');\n    }\n    return thisInterpreter.createObjectProto(proto);\n  };\n  this.setProperty(this.OBJECT, 'create',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Add a polyfill to handle create's second argument.\n  this.polyfills_.push(\n\"(function() {\",\n  \"var create_ = Object.create;\",\n  \"Object.create = function create(proto, props) {\",\n    \"var obj = create_(proto);\",\n    \"props && Object.defineProperties(obj, props);\",\n    \"return obj;\",\n  \"};\",\n\"})();\",\n\"\");\n\n  wrapper = function defineProperty(obj, prop, descriptor) {\n    prop = String(prop);\n    if (!(obj instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Object.defineProperty called on non-object');\n    }\n    if (!(descriptor instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Property description must be an object');\n    }\n    if (!obj.properties[prop] && obj.preventExtensions) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          \"Can't define property '\" + prop + \"', object is not extensible\");\n    }\n    // The polyfill guarantees no inheritance and no getter functions.\n    // Therefore the descriptor properties map is the native object needed.\n    thisInterpreter.setProperty(obj, prop, Interpreter.VALUE_IN_DESCRIPTOR,\n                                descriptor.properties);\n    return obj;\n  };\n  this.setProperty(this.OBJECT, 'defineProperty',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.polyfills_.push(\n// Flatten the descriptor to remove any inheritance or getter functions.\n\"(function() {\",\n  \"var defineProperty_ = Object.defineProperty;\",\n  \"Object.defineProperty = function defineProperty(obj, prop, d1) {\",\n    \"var d2 = {};\",\n    \"if ('configurable' in d1) d2.configurable = d1.configurable;\",\n    \"if ('enumerable' in d1) d2.enumerable = d1.enumerable;\",\n    \"if ('writable' in d1) d2.writable = d1.writable;\",\n    \"if ('value' in d1) d2.value = d1.value;\",\n    \"if ('get' in d1) d2.get = d1.get;\",\n    \"if ('set' in d1) d2.set = d1.set;\",\n    \"return defineProperty_(obj, prop, d2);\",\n  \"};\",\n\"})();\",\n\n\"Object.defineProperty(Object, 'defineProperties',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function defineProperties(obj, props) {\",\n    \"var keys = Object.keys(props);\",\n    \"for (var i = 0; i < keys.length; i++) {\",\n      \"Object.defineProperty(obj, keys[i], props[keys[i]]);\",\n    \"}\",\n    \"return obj;\",\n  \"}\",\n\"});\",\n\"\");\n\n  wrapper = function getOwnPropertyDescriptor(obj, prop) {\n    if (!(obj instanceof Interpreter.Object)) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Object.getOwnPropertyDescriptor called on non-object');\n    }\n    prop = String(prop);\n    if (!(prop in obj.properties)) {\n      return undefined;\n    }\n    var descriptor = Object.getOwnPropertyDescriptor(obj.properties, prop);\n    var getter = obj.getter[prop];\n    var setter = obj.setter[prop];\n\n    var pseudoDescriptor =\n        thisInterpreter.createObjectProto(thisInterpreter.OBJECT_PROTO);\n    if (getter || setter) {\n      thisInterpreter.setProperty(pseudoDescriptor, 'get', getter);\n      thisInterpreter.setProperty(pseudoDescriptor, 'set', setter);\n    } else {\n      thisInterpreter.setProperty(pseudoDescriptor, 'value',\n          descriptor.value);\n      thisInterpreter.setProperty(pseudoDescriptor, 'writable',\n          descriptor.writable);\n    }\n    thisInterpreter.setProperty(pseudoDescriptor, 'configurable',\n        descriptor.configurable);\n    thisInterpreter.setProperty(pseudoDescriptor, 'enumerable',\n        descriptor.enumerable);\n    return pseudoDescriptor;\n  };\n  this.setProperty(this.OBJECT, 'getOwnPropertyDescriptor',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function getPrototypeOf(obj) {\n    throwIfNullUndefined(obj);\n    return thisInterpreter.getPrototype(obj);\n  };\n  this.setProperty(this.OBJECT, 'getPrototypeOf',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function isExtensible(obj) {\n    return Boolean(obj) && !obj.preventExtensions;\n  };\n  this.setProperty(this.OBJECT, 'isExtensible',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  wrapper = function preventExtensions(obj) {\n    if (obj instanceof Interpreter.Object) {\n      obj.preventExtensions = true;\n    }\n    return obj;\n  };\n  this.setProperty(this.OBJECT, 'preventExtensions',\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on Object.\n  this.setNativeFunctionPrototype(this.OBJECT, 'toString',\n      Interpreter.Object.prototype.toString);\n  this.setNativeFunctionPrototype(this.OBJECT, 'toLocaleString',\n      Interpreter.Object.prototype.toString);\n  this.setNativeFunctionPrototype(this.OBJECT, 'valueOf',\n      Interpreter.Object.prototype.valueOf);\n\n  wrapper = function hasOwnProperty(prop) {\n    throwIfNullUndefined(this);\n    if (this instanceof Interpreter.Object) {\n      return String(prop) in this.properties;\n    }\n    // Primitive.\n    return this.hasOwnProperty(prop);\n  };\n  this.setNativeFunctionPrototype(this.OBJECT, 'hasOwnProperty', wrapper);\n\n  wrapper = function propertyIsEnumerable(prop) {\n    throwIfNullUndefined(this);\n    if (this instanceof Interpreter.Object) {\n      return Object.prototype.propertyIsEnumerable.call(this.properties, prop);\n    }\n    // Primitive.\n    return this.propertyIsEnumerable(prop);\n  };\n  this.setNativeFunctionPrototype(this.OBJECT, 'propertyIsEnumerable', wrapper);\n\n  wrapper = function isPrototypeOf(obj) {\n    while (true) {\n      // Note, circular loops shouldn't be possible.\n      obj = thisInterpreter.getPrototype(obj);\n      if (!obj) {\n        // No parent; reached the top.\n        return false;\n      }\n      if (obj === this) {\n        return true;\n      }\n    }\n  };\n  this.setNativeFunctionPrototype(this.OBJECT, 'isPrototypeOf',  wrapper);\n};\n\n/**\n * Initialize the Array class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initArray = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Array constructor.\n  wrapper = function Array(var_args) {\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Array()`.\n      var newArray = this;\n    } else {\n      // Called as `Array()`.\n      var newArray = thisInterpreter.createArray();\n    }\n    var first = arguments[0];\n    if (arguments.length === 1 && typeof first === 'number') {\n      if (isNaN(Interpreter.legalArrayLength(first))) {\n        thisInterpreter.throwException(thisInterpreter.RANGE_ERROR,\n                                       'Invalid array length');\n      }\n      newArray.properties.length = first;\n    } else {\n      for (var i = 0; i < arguments.length; i++) {\n        newArray.properties[i] = arguments[i];\n      }\n      newArray.properties.length = i;\n    }\n    return newArray;\n  };\n  this.ARRAY = this.createNativeFunction(wrapper, true);\n  this.ARRAY_PROTO = this.ARRAY.properties['prototype'];\n  this.setProperty(globalObject, 'Array', this.ARRAY,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Static methods on Array.\n  wrapper = function isArray(obj) {\n    return obj && obj.class === 'Array';\n  };\n  this.setProperty(this.ARRAY, 'isArray',\n                   this.createNativeFunction(wrapper, false),\n                   Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on Array.\n  this.setProperty(this.ARRAY_PROTO, 'length', 0,\n      {configurable: false, enumerable: false, writable: true});\n  this.ARRAY_PROTO.class = 'Array';\n\n  this.polyfills_.push(\n\"Object.defineProperty(Array.prototype, 'pop',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function pop() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 0) {\",\n      \"o.length = 0;\",\n      \"return undefined;\",\n    \"}\",\n    \"len--;\",\n    \"var x = o[len];\",\n    \"delete o[len];\",  // Needed for non-arrays.\n    \"o.length = len;\",\n    \"return x;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'push',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function push(var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"for (var i = 0; i < arguments.length; i++) {\",\n      \"o[len] = arguments[i];\",\n      \"len++;\",\n    \"}\",\n    \"o.length = len;\",\n    \"return len;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'shift',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function shift() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 0) {\",\n      \"o.length = 0;\",\n      \"return undefined;\",\n    \"}\",\n    \"var value = o[0];\",\n    \"for (var i = 0; i < len - 1; i++) {\",\n      \"o[i] = o[i + 1];\",\n    \"}\",\n    \"delete o[i];\",  // Needed for non-arrays.\n    \"o.length = len - 1;\",\n    \"return value;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'unshift',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function unshift(var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 0) {\",\n      \"len = 0;\",\n    \"}\",\n    \"for (var i = len - 1; i >= 0; i--) {\",\n      \"o[i + arguments.length] = o[i];\",\n    \"}\",\n    \"for (var i = 0; i < arguments.length; i++) {\",\n      \"o[i] = arguments[i];\",\n    \"}\",\n    \"return o.length = len + arguments.length;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'reverse',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function reverse() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len || len < 2) {\",\n      \"return o;\",  // Not an array, or too short to reverse.\n    \"}\",\n    \"for (var i = 0; i < len / 2 - 0.5; i++) {\",\n      \"var x = o[i];\",\n      \"o[i] = o[len - i - 1];\",\n      \"o[len - i - 1] = x;\",\n    \"}\",\n    \"return o;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'indexOf',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function indexOf(searchElement, fromIndex) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"var n = fromIndex | 0;\",\n    \"if (!len || n >= len) {\",\n      \"return -1;\",\n    \"}\",\n    \"var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\",\n    \"while (i < len) {\",\n      \"if (i in o && o[i] === searchElement) {\",\n        \"return i;\",\n      \"}\",\n      \"i++;\",\n    \"}\",\n    \"return -1;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'lastIndexOf',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function lastIndexOf(searchElement, fromIndex) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (!len) {\",\n      \"return -1;\",\n    \"}\",\n    \"var n = len - 1;\",\n    \"if (arguments.length > 1) {\",\n      \"n = fromIndex | 0;\",\n      \"if (n) {\",\n        \"n = (n > 0 || -1) * Math.floor(Math.abs(n));\",\n      \"}\",\n    \"}\",\n    \"var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);\",\n    \"while (i >= 0) {\",\n      \"if (i in o && o[i] === searchElement) {\",\n        \"return i;\",\n      \"}\",\n      \"i--;\",\n    \"}\",\n    \"return -1;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'slice',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function slice(start, end) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    // Handle negative value for \"start\"\n    \"start |= 0;\",\n    \"start = (start >= 0) ? start : Math.max(0, len + start);\",\n    // Handle negative value for \"end\"\n    \"if (typeof end !== 'undefined') {\",\n      \"if (end !== Infinity) {\",\n        \"end |= 0;\",\n      \"}\",\n      \"if (end < 0) {\",\n        \"end = len + end;\",\n      \"} else {\",\n        \"end = Math.min(end, len);\",\n      \"}\",\n    \"} else {\",\n      \"end = len;\",\n    \"}\",\n    \"var size = end - start;\",\n    \"var cloned = [];\",\n    \"for (var i = 0; i < size; i++) {\",\n      \"cloned[i] = o[start + i];\",\n    \"}\",\n    \"return cloned;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'splice',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function splice(start, deleteCount, var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"start |= 0;\",\n    \"if (start < 0) {\",\n      \"start = Math.max(len + start, 0);\",\n    \"} else {\",\n      \"start = Math.min(start, len);\",\n    \"}\",\n    \"if (arguments.length < 1) {\",\n      \"deleteCount = len - start;\",\n    \"} else {\",\n      \"deleteCount |= 0;\",\n      \"deleteCount = Math.max(0, Math.min(deleteCount, len - start));\",\n    \"}\",\n    \"var removed = [];\",\n    // Remove specified elements.\n    \"for (var i = start; i < start + deleteCount; i++) {\",\n      \"removed[removed.length++] = o[i];\",\n      \"o[i] = o[i + deleteCount];\",\n    \"}\",\n    // Move other element to fill the gap.\n    \"for (var i = start + deleteCount; i < len - deleteCount; i++) {\",\n      \"o[i] = o[i + deleteCount];\",\n    \"}\",\n    // Delete superfluous properties.\n    \"for (var i = len - deleteCount; i < len; i++) {\",\n      \"delete o[i];\",\n    \"}\",\n    \"len -= deleteCount;\",\n    // Insert specified items.\n    \"for (var i = len - 1; i >= start; i--) {\",\n      \"o[i + arguments.length - 2] = o[i];\",\n    \"}\",\n    \"len += arguments.length - 2;\",\n    \"for (var i = 2; i < arguments.length; i++) {\",\n      \"o[start + i - 2] = arguments[i];\",\n    \"}\",\n    \"o.length = len;\",\n    \"return removed;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'concat',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function concat(var_args) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var cloned = [];\",\n    \"for (var i = -1; i < arguments.length; i++) {\",\n      \"var value = (i === -1) ? o : arguments[i];\",\n      \"if (Array.isArray(value)) {\",\n        \"cloned.push.apply(cloned, value);\",\n      \"} else {\",\n        \"cloned.push(value);\",\n      \"}\",\n    \"}\",\n    \"return cloned;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'join',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function join(opt_separator) {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var sep = typeof opt_separator === 'undefined' ?\",\n        \"',' : ('' + opt_separator);\",\n    \"var str = '';\",\n    \"for (var i = 0; i < o.length; i++) {\",\n      \"if (i && sep) {\",\n        \"str += sep;\",\n      \"}\",\n      \"str += o[i];\",\n    \"}\",\n    \"return str;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/every\n\"Object.defineProperty(Array.prototype, 'every',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function every(callbackfn, thisArg) {\",\n    \"if (!this || typeof callbackfn !== 'function') throw TypeError();\",\n    \"var t, k;\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (arguments.length > 1) t = thisArg;\",\n    \"k = 0;\",\n    \"while (k < len) {\",\n      \"if (k in o && !callbackfn.call(t, o[k], k, o)) return false;\",\n      \"k++;\",\n    \"}\",\n    \"return true;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\n\"Object.defineProperty(Array.prototype, 'filter',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function filter(fun, var_args) {\",\n    \"if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"var res = [];\",\n    \"var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\",\n    \"for (var i = 0; i < len; i++) {\",\n      \"if (i in o) {\",\n        \"var val = o[i];\",\n        \"if (fun.call(thisArg, val, i, o)) res.push(val);\",\n      \"}\",\n    \"}\",\n    \"return res;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\n\"Object.defineProperty(Array.prototype, 'forEach',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function forEach(callback, thisArg) {\",\n    \"if (!this || typeof callback !== 'function') throw TypeError();\",\n    \"var t, k;\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (arguments.length > 1) t = thisArg;\",\n    \"k = 0;\",\n    \"while (k < len) {\",\n      \"if (k in o) callback.call(t, o[k], k, o);\",\n      \"k++;\",\n    \"}\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/map\n\"Object.defineProperty(Array.prototype, 'map',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function map(callback, thisArg) {\",\n    \"if (!this || typeof callback !== 'function') throw TypeError();\",\n    \"var t, a, k;\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"if (arguments.length > 1) t = thisArg;\",\n    \"a = new Array(len);\",\n    \"k = 0;\",\n    \"while (k < len) {\",\n      \"if (k in o) a[k] = callback.call(t, o[k], k, o);\",\n      \"k++;\",\n    \"}\",\n    \"return a;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\n\"Object.defineProperty(Array.prototype, 'reduce',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function reduce(callback /*, initialValue*/) {\",\n    \"if (!this || typeof callback !== 'function') throw TypeError();\",\n    \"var o = Object(this), len = o.length >>> 0, k = 0, value;\",\n    \"if (arguments.length === 2) {\",\n      \"value = arguments[1];\",\n    \"} else {\",\n      \"while (k < len && !(k in o)) k++;\",\n      \"if (k >= len) {\",\n        \"throw TypeError('Reduce of empty array with no initial value');\",\n      \"}\",\n      \"value = o[k++];\",\n    \"}\",\n    \"for (; k < len; k++) {\",\n      \"if (k in o) value = callback(value, o[k], k, o);\",\n    \"}\",\n    \"return value;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight\n\"Object.defineProperty(Array.prototype, 'reduceRight',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function reduceRight(callback /*, initialValue*/) {\",\n    \"if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();\",\n    \"var o = Object(this), len = o.length >>> 0, k = len - 1, value;\",\n    \"if (arguments.length >= 2) {\",\n      \"value = arguments[1];\",\n    \"} else {\",\n      \"while (k >= 0 && !(k in o)) k--;\",\n      \"if (k < 0) {\",\n        \"throw TypeError('Reduce of empty array with no initial value');\",\n      \"}\",\n      \"value = o[k--];\",\n    \"}\",\n    \"for (; k >= 0; k--) {\",\n      \"if (k in o) value = callback(value, o[k], k, o);\",\n    \"}\",\n    \"return value;\",\n  \"}\",\n\"});\",\n\n// Polyfill copied from:\n// developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/some\n\"Object.defineProperty(Array.prototype, 'some',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function some(fun/*, thisArg*/) {\",\n    \"if (!this || typeof fun !== 'function') throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var len = o.length >>> 0;\",\n    \"var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\",\n    \"for (var i = 0; i < len; i++) {\",\n      \"if (i in o && fun.call(thisArg, o[i], i, o)) {\",\n        \"return true;\",\n      \"}\",\n    \"}\",\n    \"return false;\",\n  \"}\",\n\"});\",\n\n\n\"Object.defineProperty(Array.prototype, 'sort',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function sort(opt_comp) {\",  // Bubble sort!\n    \"if (!this) throw TypeError();\",\n    \"if (typeof opt_comp !== 'function') {\",\n      \"opt_comp = undefined;\",\n    \"}\",\n    \"for (var i = 0; i < this.length; i++) {\",\n      \"var changes = 0;\",\n      \"for (var j = 0; j < this.length - i - 1; j++) {\",\n        \"if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :\",\n            \"(String(this[j]) > String(this[j + 1]))) {\",\n          \"var swap = this[j];\",\n          \"this[j] = this[j + 1];\",\n          \"this[j + 1] = swap;\",\n          \"changes++;\",\n        \"}\",\n      \"}\",\n      \"if (!changes) break;\",\n    \"}\",\n    \"return this;\",\n  \"}\",\n\"});\",\n\n\"Object.defineProperty(Array.prototype, 'toLocaleString',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function toLocaleString() {\",\n    \"if (!this) throw TypeError();\",\n    \"var o = Object(this);\",\n    \"var out = [];\",\n    \"for (var i = 0; i < o.length; i++) {\",\n      \"out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();\",\n    \"}\",\n    \"return out.join(',');\",\n  \"}\",\n\"});\",\n\"\");\n};\n\n/**\n * Initialize the String class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initString = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // String constructor.\n  wrapper = function String(value) {\n    value = arguments.length ? Interpreter.nativeGlobal.String(value) : '';\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new String()`.\n      this.data = value;\n      return this;\n    } else {\n      // Called as `String()`.\n      return value;\n    }\n  };\n  this.STRING = this.createNativeFunction(wrapper, true);\n  this.setProperty(globalObject, 'String', this.STRING,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Static methods on String.\n  this.setProperty(this.STRING, 'fromCharCode',\n      this.createNativeFunction(String.fromCharCode, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on String.\n  // Methods with exclusively primitive arguments.\n  var functions = ['charAt', 'charCodeAt', 'concat', 'indexOf', 'lastIndexOf',\n      'slice', 'substr', 'substring', 'toLocaleLowerCase', 'toLocaleUpperCase',\n      'toLowerCase', 'toUpperCase', 'trim'];\n  for (var i = 0; i < functions.length; i++) {\n    this.setNativeFunctionPrototype(this.STRING, functions[i],\n                                    String.prototype[functions[i]]);\n  }\n\n  wrapper = function localeCompare(compareString, locales, options) {\n    locales = thisInterpreter.pseudoToNative(locales);\n    options = thisInterpreter.pseudoToNative(options);\n    try {\n      return String(this).localeCompare(compareString, locales, options);\n    } catch (e) {\n      thisInterpreter.throwException(thisInterpreter.ERROR,\n          'localeCompare: ' + e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.STRING, 'localeCompare', wrapper);\n\n  wrapper = function split(separator, limit, callback) {\n    var string = String(this);\n    limit = limit ? Number(limit) : undefined;\n    // Example of catastrophic split RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.split(/^(a+)+b/)\n    if (thisInterpreter.isa(separator, thisInterpreter.REGEXP)) {\n      separator = separator.data;\n      thisInterpreter.maybeThrowRegExp(separator, callback);\n      if (thisInterpreter['REGEXP_MODE'] === 2) {\n        if (Interpreter.vm) {\n          // Run split in vm.\n          var sandbox = {\n            'string': string,\n            'separator': separator,\n            'limit': limit\n          };\n          var code = 'string.split(separator, limit)';\n          var jsList =\n              thisInterpreter.vmCall(code, sandbox, separator, callback);\n          if (jsList !== Interpreter.REGEXP_TIMEOUT) {\n            callback(thisInterpreter.arrayNativeToPseudo(jsList));\n          }\n        } else {\n          // Run split in separate thread.\n          var splitWorker = thisInterpreter.createWorker();\n          var pid = thisInterpreter.regExpTimeout(separator, splitWorker,\n              callback);\n          splitWorker.onmessage = function(e) {\n            clearTimeout(pid);\n            callback(thisInterpreter.arrayNativeToPseudo(e.data));\n          };\n          splitWorker.postMessage(['split', string, separator, limit]);\n        }\n        return;\n      }\n    }\n    // Run split natively.\n    var jsList = string.split(separator, limit);\n    callback(thisInterpreter.arrayNativeToPseudo(jsList));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'split', wrapper);\n\n  wrapper = function match(regexp, callback) {\n    var string = String(this);\n    if (thisInterpreter.isa(regexp, thisInterpreter.REGEXP)) {\n      regexp = regexp.data;\n    } else {\n      regexp = new RegExp(regexp);\n    }\n    // Example of catastrophic match RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.match(/^(a+)+b/)\n    thisInterpreter.maybeThrowRegExp(regexp, callback);\n    if (thisInterpreter['REGEXP_MODE'] === 2) {\n      if (Interpreter.vm) {\n        // Run match in vm.\n        var sandbox = {\n          'string': string,\n          'regexp': regexp\n        };\n        var code = 'string.match(regexp)';\n        var m = thisInterpreter.vmCall(code, sandbox, regexp, callback);\n        if (m !== Interpreter.REGEXP_TIMEOUT) {\n          callback(m && thisInterpreter.arrayNativeToPseudo(m));\n        }\n      } else {\n        // Run match in separate thread.\n        var matchWorker = thisInterpreter.createWorker();\n        var pid = thisInterpreter.regExpTimeout(regexp, matchWorker, callback);\n        matchWorker.onmessage = function(e) {\n          clearTimeout(pid);\n          callback(e.data && thisInterpreter.arrayNativeToPseudo(e.data));\n        };\n        matchWorker.postMessage(['match', string, regexp]);\n      }\n      return;\n    }\n    // Run match natively.\n    var m = string.match(regexp);\n    callback(m && thisInterpreter.arrayNativeToPseudo(m));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'match', wrapper);\n\n  wrapper = function search(regexp, callback) {\n    var string = String(this);\n    if (thisInterpreter.isa(regexp, thisInterpreter.REGEXP)) {\n      regexp = regexp.data;\n    } else {\n      regexp = new RegExp(regexp);\n    }\n    // Example of catastrophic search RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.search(/^(a+)+b/)\n    thisInterpreter.maybeThrowRegExp(regexp, callback);\n    if (thisInterpreter['REGEXP_MODE'] === 2) {\n      if (Interpreter.vm) {\n        // Run search in vm.\n        var sandbox = {\n          'string': string,\n          'regexp': regexp\n        };\n        var code = 'string.search(regexp)';\n        var n = thisInterpreter.vmCall(code, sandbox, regexp, callback);\n        if (n !== Interpreter.REGEXP_TIMEOUT) {\n          callback(n);\n        }\n      } else {\n        // Run search in separate thread.\n        var searchWorker = thisInterpreter.createWorker();\n        var pid = thisInterpreter.regExpTimeout(regexp, searchWorker, callback);\n        searchWorker.onmessage = function(e) {\n          clearTimeout(pid);\n          callback(e.data);\n        };\n        searchWorker.postMessage(['search', string, regexp]);\n      }\n      return;\n    }\n    // Run search natively.\n    callback(string.search(regexp));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'search', wrapper);\n\n  wrapper = function replace_(substr, newSubstr, callback) {\n    // Support for function replacements is the responsibility of a polyfill.\n    var string = String(this);\n    newSubstr = String(newSubstr);\n    // Example of catastrophic replace RegExp:\n    // 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac'.replace(/^(a+)+b/, '')\n    if (thisInterpreter.isa(substr, thisInterpreter.REGEXP)) {\n      substr = substr.data;\n      thisInterpreter.maybeThrowRegExp(substr, callback);\n      if (thisInterpreter['REGEXP_MODE'] === 2) {\n        if (Interpreter.vm) {\n          // Run replace in vm.\n          var sandbox = {\n            'string': string,\n            'substr': substr,\n            'newSubstr': newSubstr\n          };\n          var code = 'string.replace(substr, newSubstr)';\n          var str = thisInterpreter.vmCall(code, sandbox, substr, callback);\n          if (str !== Interpreter.REGEXP_TIMEOUT) {\n            callback(str);\n          }\n        } else {\n          // Run replace in separate thread.\n          var replaceWorker = thisInterpreter.createWorker();\n          var pid = thisInterpreter.regExpTimeout(substr, replaceWorker,\n              callback);\n          replaceWorker.onmessage = function(e) {\n            clearTimeout(pid);\n            callback(e.data);\n          };\n          replaceWorker.postMessage(['replace', string, substr, newSubstr]);\n        }\n        return;\n      }\n    }\n    // Run replace natively.\n    callback(string.replace(substr, newSubstr));\n  };\n  this.setAsyncFunctionPrototype(this.STRING, 'replace', wrapper);\n  // Add a polyfill to handle replace's second argument being a function.\n  this.polyfills_.push(\n\"(function() {\",\n  \"var replace_ = String.prototype.replace;\",\n  \"String.prototype.replace = function replace(substr, newSubstr) {\",\n    \"if (typeof newSubstr !== 'function') {\",\n      // string.replace(string|regexp, string)\n      \"return replace_.call(this, substr, newSubstr);\",\n    \"}\",\n    \"var str = this;\",\n    \"if (substr instanceof RegExp) {\",  // string.replace(regexp, function)\n      \"var subs = [];\",\n      \"var m = substr.exec(str);\",\n      \"while (m) {\",\n        \"m.push(m.index, str);\",\n        \"var inject = newSubstr.apply(null, m);\",\n        \"subs.push([m.index, m[0].length, inject]);\",\n        \"m = substr.global ? substr.exec(str) : null;\",\n      \"}\",\n      \"for (var i = subs.length - 1; i >= 0; i--) {\",\n        \"str = str.substring(0, subs[i][0]) + subs[i][2] + \" +\n            \"str.substring(subs[i][0] + subs[i][1]);\",\n      \"}\",\n    \"} else {\",                         // string.replace(string, function)\n      \"var i = str.indexOf(substr);\",\n      \"if (i !== -1) {\",\n        \"var inject = newSubstr(str.substr(i, substr.length), i, str);\",\n        \"str = str.substring(0, i) + inject + \" +\n            \"str.substring(i + substr.length);\",\n      \"}\",\n    \"}\",\n    \"return str;\",\n  \"};\",\n\"})();\",\n\"\");\n};\n\n/**\n * Initialize the Boolean class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initBoolean = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Boolean constructor.\n  wrapper = function Boolean(value) {\n    value = Interpreter.nativeGlobal.Boolean(value);\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Boolean()`.\n      this.data = value;\n      return this;\n    } else {\n      // Called as `Boolean()`.\n      return value;\n    }\n  };\n  this.BOOLEAN = this.createNativeFunction(wrapper, true);\n  this.setProperty(globalObject, 'Boolean', this.BOOLEAN,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Initialize the Number class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initNumber = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Number constructor.\n  wrapper = function Number(value) {\n    value = arguments.length ? Interpreter.nativeGlobal.Number(value) : 0;\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Number()`.\n      this.data = value;\n      return this;\n    } else {\n      // Called as `Number()`.\n      return value;\n    }\n  };\n  this.NUMBER = this.createNativeFunction(wrapper, true);\n  this.setProperty(globalObject, 'Number', this.NUMBER,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var numConsts = ['MAX_VALUE', 'MIN_VALUE', 'NaN', 'NEGATIVE_INFINITY',\n                   'POSITIVE_INFINITY'];\n  for (var i = 0; i < numConsts.length; i++) {\n    this.setProperty(this.NUMBER, numConsts[i], Number[numConsts[i]],\n        Interpreter.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);\n  }\n\n  // Instance methods on Number.\n  wrapper = function toExponential(fractionDigits) {\n    try {\n      return Number(this).toExponential(fractionDigits);\n    } catch (e) {\n      // Throws if fractionDigits isn't within 0-20.\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toExponential', wrapper);\n\n  wrapper = function toFixed(digits) {\n    try {\n      return Number(this).toFixed(digits);\n    } catch (e) {\n      // Throws if digits isn't within 0-20.\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toFixed', wrapper);\n\n  wrapper = function toPrecision(precision) {\n    try {\n      return Number(this).toPrecision(precision);\n    } catch (e) {\n      // Throws if precision isn't within range (depends on implementation).\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toPrecision', wrapper);\n\n  wrapper = function toString(radix) {\n    try {\n      return Number(this).toString(radix);\n    } catch (e) {\n      // Throws if radix isn't within 2-36.\n      thisInterpreter.throwException(thisInterpreter.ERROR, e.message);\n    }\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toString', wrapper);\n\n  wrapper = function toLocaleString(locales, options) {\n    locales = locales ? thisInterpreter.pseudoToNative(locales) : undefined;\n    options = options ? thisInterpreter.pseudoToNative(options) : undefined;\n    return Number(this).toLocaleString(locales, options);\n  };\n  this.setNativeFunctionPrototype(this.NUMBER, 'toLocaleString', wrapper);\n};\n\n/**\n * Initialize the Date class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initDate = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // Date constructor.\n  wrapper = function Date(value, var_args) {\n    if (!thisInterpreter.calledWithNew()) {\n      // Called as `Date()`.\n      // Calling Date() as a function returns a string, no arguments are heeded.\n      return Interpreter.nativeGlobal.Date();\n    }\n    // Called as `new Date()`.\n    var args = [null].concat(Array.from(arguments));\n    this.data = new (Function.prototype.bind.apply(\n        Interpreter.nativeGlobal.Date, args));\n    return this;\n  };\n  this.DATE = this.createNativeFunction(wrapper, true);\n  this.DATE_PROTO = this.DATE.properties['prototype'];\n  this.setProperty(globalObject, 'Date', this.DATE,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Static methods on Date.\n  this.setProperty(this.DATE, 'now', this.createNativeFunction(Date.now, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(this.DATE, 'parse',\n      this.createNativeFunction(Date.parse, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(this.DATE, 'UTC', this.createNativeFunction(Date.UTC, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  // Instance methods on Date.\n  var functions = ['getDate', 'getDay', 'getFullYear', 'getHours',\n      'getMilliseconds', 'getMinutes', 'getMonth', 'getSeconds', 'getTime',\n      'getTimezoneOffset', 'getUTCDate', 'getUTCDay', 'getUTCFullYear',\n      'getUTCHours', 'getUTCMilliseconds', 'getUTCMinutes', 'getUTCMonth',\n      'getUTCSeconds', 'getYear',\n      'setDate', 'setFullYear', 'setHours', 'setMilliseconds',\n      'setMinutes', 'setMonth', 'setSeconds', 'setTime', 'setUTCDate',\n      'setUTCFullYear', 'setUTCHours', 'setUTCMilliseconds', 'setUTCMinutes',\n      'setUTCMonth', 'setUTCSeconds', 'setYear',\n      'toDateString', 'toISOString', 'toJSON', 'toGMTString',\n      'toLocaleDateString', 'toLocaleString', 'toLocaleTimeString',\n      'toTimeString', 'toUTCString'];\n  for (var i = 0; i < functions.length; i++) {\n    wrapper = (function(nativeFunc) {\n      return function(var_args) {\n        var date = this.data;\n        if (!(date instanceof Date)) {\n          thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n              nativeFunc + ' not called on a Date');\n        }\n        var args = [];\n        for (var i = 0; i < arguments.length; i++) {\n          args[i] = thisInterpreter.pseudoToNative(arguments[i]);\n        }\n        return date[nativeFunc].apply(date, args);\n      };\n    })(functions[i]);\n    this.setNativeFunctionPrototype(this.DATE, functions[i], wrapper);\n  }\n};\n\n/**\n * Initialize Regular Expression object.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initRegExp = function(globalObject) {\n  var thisInterpreter = this;\n  var wrapper;\n  // RegExp constructor.\n  wrapper = function RegExp(pattern, flags) {\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new RegExp()`.\n      var rgx = this;\n    } else {\n      // Called as `RegExp()`.\n      var rgx = thisInterpreter.createObjectProto(thisInterpreter.REGEXP_PROTO);\n    }\n    pattern = pattern ? String(pattern) : '';\n    flags = flags ? String(flags) : '';\n    thisInterpreter.populateRegExp(rgx,\n        new Interpreter.nativeGlobal.RegExp(pattern, flags));\n    return rgx;\n  };\n  this.REGEXP = this.createNativeFunction(wrapper, true);\n  this.REGEXP_PROTO = this.REGEXP.properties['prototype'];\n  this.setProperty(globalObject, 'RegExp', this.REGEXP,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  this.setProperty(this.REGEXP.properties['prototype'], 'global', undefined,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.REGEXP.properties['prototype'], 'ignoreCase', undefined,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.REGEXP.properties['prototype'], 'multiline', undefined,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.REGEXP.properties['prototype'], 'source', '(?:)',\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n\n  // Use polyfill to avoid complexity of regexp threads.\n  this.polyfills_.push(\n\"Object.defineProperty(RegExp.prototype, 'test',\",\n    \"{configurable: true, writable: true, value:\",\n  \"function test(str) {\",\n    \"return String(str).search(this) !== -1\",\n  \"}\",\n\"});\");\n\n  wrapper = function exec(string, callback) {\n    var regexp = this.data;\n    string = String(string);\n    // Get lastIndex from wrapped regexp, since this is settable.\n    regexp.lastIndex = Number(thisInterpreter.getProperty(this, 'lastIndex'));\n    // Example of catastrophic exec RegExp:\n    // /^(a+)+b/.exec('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaac')\n    thisInterpreter.maybeThrowRegExp(regexp, callback);\n    if (thisInterpreter['REGEXP_MODE'] === 2) {\n      if (Interpreter.vm) {\n        // Run exec in vm.\n        var sandbox = {\n          'string': string,\n          'regexp': regexp\n        };\n        var code = 'regexp.exec(string)';\n        var match = thisInterpreter.vmCall(code, sandbox, regexp, callback);\n        if (match !== Interpreter.REGEXP_TIMEOUT) {\n          thisInterpreter.setProperty(this, 'lastIndex', regexp.lastIndex);\n          callback(matchToPseudo(match));\n        }\n      } else {\n        // Run exec in separate thread.\n        // Note that lastIndex is not preserved when a RegExp is passed to a\n        // Web Worker.  Thus it needs to be passed back and forth separately.\n        var execWorker = thisInterpreter.createWorker();\n        var pid = thisInterpreter.regExpTimeout(regexp, execWorker, callback);\n        var thisPseudoRegExp = this;\n        execWorker.onmessage = function(e) {\n          clearTimeout(pid);\n          // Return tuple: [result, lastIndex]\n          thisInterpreter.setProperty(thisPseudoRegExp, 'lastIndex', e.data[1]);\n          callback(matchToPseudo(e.data[0]));\n        };\n        execWorker.postMessage(['exec', regexp, regexp.lastIndex, string]);\n      }\n      return;\n    }\n    // Run exec natively.\n    var match = regexp.exec(string);\n    thisInterpreter.setProperty(this, 'lastIndex', regexp.lastIndex);\n    callback(matchToPseudo(match));\n\n    function matchToPseudo(match) {\n      if (match) {\n        var result = thisInterpreter.arrayNativeToPseudo(match);\n        // match has additional properties.\n        thisInterpreter.setProperty(result, 'index', match.index);\n        thisInterpreter.setProperty(result, 'input', match.input);\n        return result;\n      }\n      return null;\n    }\n  };\n  this.setAsyncFunctionPrototype(this.REGEXP, 'exec', wrapper);\n};\n\n/**\n * Initialize the Error class.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initError = function(globalObject) {\n  var thisInterpreter = this;\n  // Error constructor.\n  this.ERROR = this.createNativeFunction(function Error(opt_message) {\n    if (thisInterpreter.calledWithNew()) {\n      // Called as `new Error()`.\n      var newError = this;\n    } else {\n      // Called as `Error()`.\n      var newError = thisInterpreter.createObject(thisInterpreter.ERROR);\n    }\n    if (opt_message) {\n      thisInterpreter.setProperty(newError, 'message', String(opt_message),\n          Interpreter.NONENUMERABLE_DESCRIPTOR);\n    }\n    return newError;\n  }, true);\n  this.setProperty(globalObject, 'Error', this.ERROR,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.ERROR.properties['prototype'], 'message', '',\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(this.ERROR.properties['prototype'], 'name', 'Error',\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var createErrorSubclass = function(name) {\n    var constructor = thisInterpreter.createNativeFunction(\n        function(opt_message) {\n          if (thisInterpreter.calledWithNew()) {\n            // Called as `new XyzError()`.\n            var newError = this;\n          } else {\n            // Called as `XyzError()`.\n            var newError = thisInterpreter.createObject(constructor);\n          }\n          if (opt_message) {\n            thisInterpreter.setProperty(newError, 'message',\n                String(opt_message), Interpreter.NONENUMERABLE_DESCRIPTOR);\n          }\n          return newError;\n        }, true);\n    thisInterpreter.setProperty(constructor, 'prototype',\n        thisInterpreter.createObject(thisInterpreter.ERROR),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n    thisInterpreter.setProperty(constructor.properties['prototype'], 'name',\n        name, Interpreter.NONENUMERABLE_DESCRIPTOR);\n    thisInterpreter.setProperty(globalObject, name, constructor,\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n    return constructor;\n  };\n\n  this.EVAL_ERROR = createErrorSubclass('EvalError');\n  this.RANGE_ERROR = createErrorSubclass('RangeError');\n  this.REFERENCE_ERROR = createErrorSubclass('ReferenceError');\n  this.SYNTAX_ERROR = createErrorSubclass('SyntaxError');\n  this.TYPE_ERROR = createErrorSubclass('TypeError');\n  this.URI_ERROR = createErrorSubclass('URIError');\n};\n\n/**\n * Initialize Math object.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initMath = function(globalObject) {\n  var myMath = this.createObjectProto(this.OBJECT_PROTO);\n  this.setProperty(globalObject, 'Math', myMath,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  var mathConsts = ['E', 'LN2', 'LN10', 'LOG2E', 'LOG10E', 'PI',\n                    'SQRT1_2', 'SQRT2'];\n  for (var i = 0; i < mathConsts.length; i++) {\n    this.setProperty(myMath, mathConsts[i], Math[mathConsts[i]],\n        Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  }\n  var numFunctions = ['abs', 'acos', 'asin', 'atan', 'atan2', 'ceil', 'cos',\n                      'exp', 'floor', 'log', 'max', 'min', 'pow', 'random',\n                      'round', 'sin', 'sqrt', 'tan'];\n  for (var i = 0; i < numFunctions.length; i++) {\n    this.setProperty(myMath, numFunctions[i],\n        this.createNativeFunction(Math[numFunctions[i]], false),\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n  }\n};\n\n/**\n * Initialize JSON object.\n * @param {!Interpreter.Object} globalObject Global object.\n */\nInterpreter.prototype.initJSON = function(globalObject) {\n  var thisInterpreter = this;\n  var myJSON = thisInterpreter.createObjectProto(this.OBJECT_PROTO);\n  this.setProperty(globalObject, 'JSON', myJSON,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n\n  var wrapper = function parse(text) {\n    try {\n      var nativeObj = JSON.parse(String(text));\n    } catch (e) {\n      thisInterpreter.throwException(thisInterpreter.SYNTAX_ERROR, e.message);\n    }\n    return thisInterpreter.nativeToPseudo(nativeObj);\n  };\n  this.setProperty(myJSON, 'parse', this.createNativeFunction(wrapper, false));\n\n  wrapper = function stringify(value, replacer, space) {\n    if (replacer && replacer.class === 'Function') {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR,\n          'Function replacer on JSON.stringify not supported');\n    } else if (replacer && replacer.class === 'Array') {\n      replacer = thisInterpreter.arrayPseudoToNative(replacer);\n      replacer = replacer.filter(function(word) {\n        // Spec says we should also support boxed primitives here.\n        return typeof word === 'string' || typeof word === 'number';\n      });\n    } else {\n      replacer = null;\n    }\n    // Spec says we should also support boxed primitives here.\n    if (typeof space !== 'string' && typeof space !== 'number') {\n      space = undefined;\n    }\n\n    var nativeObj = thisInterpreter.pseudoToNative(value);\n    try {\n      var str = JSON.stringify(nativeObj, replacer, space);\n    } catch (e) {\n      thisInterpreter.throwException(thisInterpreter.TYPE_ERROR, e.message);\n    }\n    return str;\n  };\n  this.setProperty(myJSON, 'stringify',\n      this.createNativeFunction(wrapper, false));\n};\n\n/**\n * Is an object of a certain class?\n * @param {Interpreter.Value} child Object to check.\n * @param {Interpreter.Object} constructor Constructor of object.\n * @return {boolean} True if object is the class or inherits from it.\n *     False otherwise.\n */\nInterpreter.prototype.isa = function(child, constructor) {\n  if (child === null || child === undefined || !constructor) {\n    return false;\n  }\n  var proto = constructor.properties['prototype'];\n  if (child === proto) {\n    return true;\n  }\n  // The first step up the prototype chain is harder since the child might be\n  // a primitive value.  Subsequent steps can just follow the .proto property.\n  child = this.getPrototype(child);\n  while (child) {\n    if (child === proto) {\n      return true;\n    }\n    child = child.proto;\n  }\n  return false;\n};\n\n/**\n * Initialize a pseudo regular expression object based on a native regular\n * expression object.\n * @param {!Interpreter.Object} pseudoRegexp The existing object to set.\n * @param {!RegExp} nativeRegexp The native regular expression.\n */\nInterpreter.prototype.populateRegExp = function(pseudoRegexp, nativeRegexp) {\n  pseudoRegexp.data = new RegExp(nativeRegexp.source, nativeRegexp.flags);\n  // lastIndex is settable, all others are read-only attributes\n  this.setProperty(pseudoRegexp, 'lastIndex', nativeRegexp.lastIndex,\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'source', nativeRegexp.source,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'global', nativeRegexp.global,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'ignoreCase', nativeRegexp.ignoreCase,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  this.setProperty(pseudoRegexp, 'multiline', nativeRegexp.multiline,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Create a Web Worker to execute regular expressions.\n * Using a separate file fails in Chrome when run locally on a file:// URI.\n * Using a data encoded URI fails in IE and Edge.\n * Using a blob works in IE11 and all other browsers.\n * @return {!Worker} Web Worker with regexp execution code loaded.\n */\nInterpreter.prototype.createWorker = function() {\n  var blob = this.createWorker.blob_;\n  if (!blob) {\n    blob = new Blob([Interpreter.WORKER_CODE.join('\\n')],\n        {type: 'application/javascript'});\n    // Cache the blob, so it doesn't need to be created next time.\n    this.createWorker.blob_ = blob;\n  }\n  return new Worker(URL.createObjectURL(blob));\n};\n\n/**\n * Execute regular expressions in a node vm.\n * @param {string} code Code to execute.\n * @param {!Object} sandbox Global variables for new vm.\n * @param {!RegExp} nativeRegExp Regular expression.\n * @param {!Function} callback Asynchronous callback function.\n */\nInterpreter.prototype.vmCall = function(code, sandbox, nativeRegExp, callback) {\n  var options = {'timeout': this['REGEXP_THREAD_TIMEOUT']};\n  try {\n    return Interpreter.vm['runInNewContext'](code, sandbox, options);\n  } catch (e) {\n    callback(null);\n    this.throwException(this.ERROR, 'RegExp Timeout: ' + nativeRegExp);\n  }\n  return Interpreter.REGEXP_TIMEOUT;\n};\n\n/**\n * If REGEXP_MODE is 0, then throw an error.\n * Also throw if REGEXP_MODE is 2 and JS doesn't support Web Workers or vm.\n * @param {!RegExp} nativeRegExp Regular expression.\n * @param {!Function} callback Asynchronous callback function.\n */\nInterpreter.prototype.maybeThrowRegExp = function(nativeRegExp, callback) {\n  var ok;\n  if (this['REGEXP_MODE'] === 0) {\n    // Fail: No RegExp support.\n    ok = false;\n  } else if (this['REGEXP_MODE'] === 1) {\n    // Ok: Native RegExp support.\n    ok = true;\n  } else {\n    // Sandboxed RegExp handling.\n    if (Interpreter.vm) {\n      // Ok: Node's vm module already loaded.\n      ok = true;\n    } else if (typeof Worker === 'function' && typeof URL === 'function') {\n      // Ok: Web Workers available.\n      ok = true;\n    } else if (true) {\n      // Try to load Node's vm module.\n      try {\n        Interpreter.vm = __webpack_require__(/*! vm */ \"./node_modules/vm-browserify/index.js\");\n      } catch (e) {}\n      ok = !!Interpreter.vm;\n    } else {}\n  }\n  if (!ok) {\n    callback(null);\n    this.throwException(this.ERROR, 'Regular expressions not supported: ' +\n        nativeRegExp);\n  }\n};\n\n/**\n * Set a timeout for regular expression threads.  Unless cancelled, this will\n * terminate the thread and throw an error.\n * @param {!RegExp} nativeRegExp Regular expression (used for error message).\n * @param {!Worker} worker Thread to terminate.\n * @param {!Function} callback Async callback function to continue execution.\n * @return {number} PID of timeout.  Used to cancel if thread completes.\n */\nInterpreter.prototype.regExpTimeout = function(nativeRegExp, worker, callback) {\n  var thisInterpreter = this;\n  return setTimeout(function() {\n      worker.terminate();\n      callback(null);\n      try {\n        thisInterpreter.throwException(thisInterpreter.ERROR,\n            'RegExp Timeout: ' + nativeRegExp);\n      } catch (e) {\n        // Eat the expected Interpreter.STEP_ERROR.\n      }\n  }, this['REGEXP_THREAD_TIMEOUT']);\n};\n\n/**\n * Create a new data object based on a constructor's prototype.\n * @param {Interpreter.Object} constructor Parent constructor function,\n *     or null if scope object.\n * @return {!Interpreter.Object} New data object.\n */\nInterpreter.prototype.createObject = function(constructor) {\n  return this.createObjectProto(constructor &&\n                                constructor.properties['prototype']);\n};\n\n/**\n * Create a new data object based on a prototype.\n * @param {Interpreter.Object} proto Prototype object.\n * @return {!Interpreter.Object} New data object.\n */\nInterpreter.prototype.createObjectProto = function(proto) {\n  if (typeof proto !== 'object') {\n    throw Error('Non object prototype');\n  }\n  var obj = new Interpreter.Object(proto);\n  if (this.isa(obj, this.ERROR)) {\n    // Record this object as being an error so that its toString function can\n    // process it correctly (toString has no access to the interpreter and could\n    // not otherwise determine that the object is an error).\n    obj.class = 'Error';\n  }\n  return obj;\n};\n\n/**\n * Create a new array.\n * @return {!Interpreter.Object} New array.\n */\nInterpreter.prototype.createArray = function() {\n  var array = this.createObjectProto(this.ARRAY_PROTO);\n  // Arrays have length.\n  this.setProperty(array, 'length', 0,\n      {configurable: false, enumerable: false, writable: true});\n  array.class = 'Array';\n  return array;\n};\n\n/**\n * Create a new function object (could become interpreted or native or async).\n * @param {number} argumentLength Number of arguments.\n * @param {boolean} isConstructor True if function can be used with 'new'.\n * @return {!Interpreter.Object} New function.\n * @private\n */\nInterpreter.prototype.createFunctionBase_ = function(argumentLength,\n                                                     isConstructor) {\n  var func = this.createObjectProto(this.FUNCTION_PROTO);\n  if (isConstructor) {\n    var proto = this.createObjectProto(this.OBJECT_PROTO);\n    this.setProperty(func, 'prototype', proto,\n                     Interpreter.NONENUMERABLE_DESCRIPTOR);\n    this.setProperty(proto, 'constructor', func,\n                     Interpreter.NONENUMERABLE_DESCRIPTOR);\n  } else {\n    func.illegalConstructor = true;\n  }\n  this.setProperty(func, 'length', argumentLength,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  func.class = 'Function';\n  // When making changes to this function, check to see if those changes also\n  // need to be made to the creation of FUNCTION_PROTO in initFunction.\n  return func;\n};\n\n/**\n * Create a new interpreted function.\n * @param {!Object} node AST node defining the function.\n * @param {!Interpreter.Scope} scope Parent scope.\n * @param {string=} opt_name Optional name for function.\n * @return {!Interpreter.Object} New function.\n */\nInterpreter.prototype.createFunction = function(node, scope, opt_name) {\n  var func = this.createFunctionBase_(node['params'].length, true);\n  func.parentScope = scope;\n  func.node = node;\n  // Choose a name for this function.\n  // function foo() {}             -> 'foo'\n  // var bar = function() {};      -> 'bar'\n  // var bar = function foo() {};  -> 'foo'\n  // foo.bar = function() {};      -> ''\n  // var bar = new Function('');   -> 'anonymous'\n  var name = node['id'] ? String(node['id']['name']) : (opt_name || '');\n  this.setProperty(func, 'name', name,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  return func;\n};\n\n/**\n * Create a new native function.\n * @param {!Function} nativeFunc JavaScript function.\n * @param {boolean} isConstructor True if function can be used with 'new'.\n * @return {!Interpreter.Object} New function.\n */\nInterpreter.prototype.createNativeFunction = function(nativeFunc,\n                                                      isConstructor) {\n  var func = this.createFunctionBase_(nativeFunc.length, isConstructor);\n  func.nativeFunc = nativeFunc;\n  nativeFunc.id = this.functionCounter_++;\n  this.setProperty(func, 'name', nativeFunc.name,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  return func;\n};\n\n/**\n * Create a new native asynchronous function.\n * @param {!Function} asyncFunc JavaScript function.\n * @return {!Interpreter.Object} New function.\n */\nInterpreter.prototype.createAsyncFunction = function(asyncFunc) {\n  var func = this.createFunctionBase_(asyncFunc.length, true);\n  func.asyncFunc = asyncFunc;\n  asyncFunc.id = this.functionCounter_++;\n  this.setProperty(func, 'name', asyncFunc.name,\n      Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);\n  return func;\n};\n\n/**\n * Converts from a native JavaScript object or value to a JS-Interpreter object.\n * Can handle JSON-style values, regular expressions, dates and functions.\n * Does NOT handle cycles.\n * @param {*} nativeObj The native JavaScript object to be converted.\n * @return {Interpreter.Value} The equivalent JS-Interpreter object.\n */\nInterpreter.prototype.nativeToPseudo = function(nativeObj) {\n  if (nativeObj instanceof Interpreter.Object) {\n    throw Error('Object is already pseudo');\n  }\n  if ((typeof nativeObj !== 'object' && typeof nativeObj !== 'function') ||\n      nativeObj === null) {\n    return nativeObj;\n  }\n\n  if (nativeObj instanceof RegExp) {\n    var pseudoRegexp = this.createObjectProto(this.REGEXP_PROTO);\n    this.populateRegExp(pseudoRegexp, nativeObj);\n    return pseudoRegexp;\n  }\n\n  if (nativeObj instanceof Date) {\n    var pseudoDate = this.createObjectProto(this.DATE_PROTO);\n    pseudoDate.data = new Date(nativeObj.valueOf());\n    return pseudoDate;\n  }\n\n  if (typeof nativeObj === 'function') {\n    var thisInterpreter = this;\n    var wrapper = function() {\n      var args = Array.prototype.slice.call(arguments).map(function(i) {\n          return thisInterpreter.pseudoToNative(i);\n      });\n      var value = nativeObj.apply(thisInterpreter, args);\n      return thisInterpreter.nativeToPseudo(value);\n    };\n    var prototype = Object.getOwnPropertyDescriptor(nativeObj, 'prototype');\n    return this.createNativeFunction(wrapper, !!prototype);\n  }\n\n  if (Array.isArray(nativeObj)) {  // Array.\n    var pseudoArray = this.createArray();\n    for (var i = 0; i < nativeObj.length; i++) {\n      if (i in nativeObj) {\n        this.setProperty(pseudoArray, i, this.nativeToPseudo(nativeObj[i]));\n      }\n    }\n    return pseudoArray;\n  }\n\n  // Object.\n  var pseudoObj = this.createObjectProto(this.OBJECT_PROTO);\n  for (var key in nativeObj) {\n    this.setProperty(pseudoObj, key, this.nativeToPseudo(nativeObj[key]));\n  }\n  return pseudoObj;\n};\n\n/**\n * Converts from a JS-Interpreter object to native JavaScript object.\n * Can handle JSON-style values, regular expressions, and dates.\n * Does handle cycles.\n * @param {Interpreter.Value} pseudoObj The JS-Interpreter object to be\n * converted.\n * @param {Object=} opt_cycles Cycle detection (used in recursive calls).\n * @return {*} The equivalent native JavaScript object or value.\n */\nInterpreter.prototype.pseudoToNative = function(pseudoObj, opt_cycles) {\n  if ((typeof pseudoObj !== 'object' && typeof pseudoObj !== 'function') ||\n      pseudoObj === null) {\n    return pseudoObj;\n  }\n  if (!(pseudoObj instanceof Interpreter.Object)) {\n    throw Error('Object is not pseudo');\n  }\n\n  if (this.isa(pseudoObj, this.REGEXP)) {  // Regular expression.\n    var nativeRegExp = new RegExp(pseudoObj.data.source, pseudoObj.data.flags);\n    nativeRegExp.lastIndex = pseudoObj.data.lastIndex;\n    return nativeRegExp;\n  }\n\n  if (this.isa(pseudoObj, this.DATE)) {  // Date.\n    return new Date(pseudoObj.data.valueOf());\n  }\n\n  var cycles = opt_cycles || {\n    pseudo: [],\n    native: []\n  };\n  var i = cycles.pseudo.indexOf(pseudoObj);\n  if (i !== -1) {\n    return cycles.native[i];\n  }\n  cycles.pseudo.push(pseudoObj);\n  var nativeObj;\n  if (this.isa(pseudoObj, this.ARRAY)) {  // Array.\n    nativeObj = [];\n    cycles.native.push(nativeObj);\n    var len = this.getProperty(pseudoObj, 'length');\n    for (var i = 0; i < len; i++) {\n      if (this.hasProperty(pseudoObj, i)) {\n        nativeObj[i] =\n            this.pseudoToNative(this.getProperty(pseudoObj, i), cycles);\n      }\n    }\n  } else {  // Object.\n    nativeObj = {};\n    cycles.native.push(nativeObj);\n    var val;\n    for (var key in pseudoObj.properties) {\n      val = this.pseudoToNative(pseudoObj.properties[key], cycles);\n      // Use defineProperty to avoid side effects if setting '__proto__'.\n      Object.defineProperty(nativeObj, key,\n          {value: val, writable: true, enumerable: true, configurable: true});\n    }\n  }\n  cycles.pseudo.pop();\n  cycles.native.pop();\n  return nativeObj;\n};\n\n/**\n * Converts from a native JavaScript array to a JS-Interpreter array.\n * Does handle non-numeric properties (like str.match's index prop).\n * Does NOT recurse into the array's contents.\n * @param {!Array} nativeArray The JavaScript array to be converted.\n * @return {!Interpreter.Object} The equivalent JS-Interpreter array.\n */\nInterpreter.prototype.arrayNativeToPseudo = function(nativeArray) {\n  var pseudoArray = this.createArray();\n  var props = Object.getOwnPropertyNames(nativeArray);\n  for (var i = 0; i < props.length; i++) {\n    this.setProperty(pseudoArray, props[i], nativeArray[props[i]]);\n  }\n  return pseudoArray;\n};\n\n/**\n * Converts from a JS-Interpreter array to native JavaScript array.\n * Does handle non-numeric properties (like str.match's index prop).\n * Does NOT recurse into the array's contents.\n * @param {!Interpreter.Object} pseudoArray The JS-Interpreter array,\n *     or JS-Interpreter object pretending to be an array.\n * @return {!Array} The equivalent native JavaScript array.\n */\nInterpreter.prototype.arrayPseudoToNative = function(pseudoArray) {\n  var nativeArray = [];\n  for (var key in pseudoArray.properties) {\n    nativeArray[key] = this.getProperty(pseudoArray, key);\n  }\n  // pseudoArray might be an object pretending to be an array.  In this case\n  // it's possible that length is non-existent, invalid, or smaller than the\n  // largest defined numeric property.  Set length explicitly here.\n  nativeArray.length = Interpreter.legalArrayLength(\n      this.getProperty(pseudoArray, 'length')) || 0;\n  return nativeArray;\n};\n\n/**\n * Look up the prototype for this value.\n * @param {Interpreter.Value} value Data object.\n * @return {Interpreter.Object} Prototype object, null if none.\n */\nInterpreter.prototype.getPrototype = function(value) {\n  switch (typeof value) {\n    case 'number':\n      return this.NUMBER.properties['prototype'];\n    case 'boolean':\n      return this.BOOLEAN.properties['prototype'];\n    case 'string':\n      return this.STRING.properties['prototype'];\n  }\n  if (value) {\n    return value.proto;\n  }\n  return null;\n};\n\n/**\n * Fetch a property value from a data object.\n * @param {Interpreter.Value} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @return {Interpreter.Value} Property value (may be undefined).\n */\nInterpreter.prototype.getProperty = function(obj, name) {\n  if (this.getterStep_) {\n    throw Error('Getter not supported in that context');\n  }\n  name = String(name);\n  if (obj === undefined || obj === null) {\n    this.throwException(this.TYPE_ERROR,\n                        \"Cannot read property '\" + name + \"' of \" + obj);\n  }\n  if (typeof obj === 'object' && !(obj instanceof Interpreter.Object)) {\n    throw TypeError('Expecting native value or pseudo object');\n  }\n  if (name === 'length') {\n    // Special cases for magic length property.\n    if (this.isa(obj, this.STRING)) {\n      return String(obj).length;\n    }\n  } else if (name.charCodeAt(0) < 0x40) {\n    // Might have numbers in there?\n    // Special cases for string array indexing\n    if (this.isa(obj, this.STRING)) {\n      var n = Interpreter.legalArrayIndex(name);\n      if (!isNaN(n) && n < String(obj).length) {\n        return String(obj)[n];\n      }\n    }\n  }\n  do {\n    if (obj.properties && name in obj.properties) {\n      var getter = obj.getter[name];\n      if (getter) {\n        // Flag this function as being a getter and thus needing immediate\n        // execution (rather than being the value of the property).\n        this.getterStep_ = true;\n        return getter;\n      }\n      return obj.properties[name];\n    }\n  } while ((obj = this.getPrototype(obj)));\n  return undefined;\n};\n\n/**\n * Does the named property exist on a data object.\n * @param {!Interpreter.Object} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @return {boolean} True if property exists.\n */\nInterpreter.prototype.hasProperty = function(obj, name) {\n  if (!(obj instanceof Interpreter.Object)) {\n    throw TypeError('Primitive data type has no properties');\n  }\n  name = String(name);\n  if (name === 'length' && this.isa(obj, this.STRING)) {\n    return true;\n  }\n  if (this.isa(obj, this.STRING)) {\n    var n = Interpreter.legalArrayIndex(name);\n    if (!isNaN(n) && n < String(obj).length) {\n      return true;\n    }\n  }\n  do {\n    if (obj.properties && name in obj.properties) {\n      return true;\n    }\n  } while ((obj = this.getPrototype(obj)));\n  return false;\n};\n\n/**\n * Set a property value on a data object.\n * @param {Interpreter.Value} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @param {Interpreter.Value} value New property value.\n *     Use Interpreter.VALUE_IN_DESCRIPTOR if value is handled by\n *     descriptor instead.\n * @param {Object=} opt_descriptor Optional descriptor object.\n * @return {!Interpreter.Object|undefined} Returns a setter function if one\n *     needs to be called, otherwise undefined.\n */\nInterpreter.prototype.setProperty = function(obj, name, value, opt_descriptor) {\n  if (this.setterStep_) {\n    // Getter from previous call to setProperty was not handled.\n    throw Error('Setter not supported in that context');\n  }\n  name = String(name);\n  if (obj === undefined || obj === null) {\n    this.throwException(this.TYPE_ERROR,\n                        \"Cannot set property '\" + name + \"' of \" + obj);\n  }\n  if (typeof obj === 'object' && !(obj instanceof Interpreter.Object)) {\n    throw TypeError('Expecting native value or pseudo object');\n  }\n  if (opt_descriptor && ('get' in opt_descriptor || 'set' in opt_descriptor) &&\n      ('value' in opt_descriptor || 'writable' in opt_descriptor)) {\n    this.throwException(this.TYPE_ERROR, 'Invalid property descriptor. ' +\n        'Cannot both specify accessors and a value or writable attribute');\n  }\n  var strict = !this.stateStack || this.getScope().strict;\n  if (!(obj instanceof Interpreter.Object)) {\n    if (strict) {\n      this.throwException(this.TYPE_ERROR, \"Can't create property '\" + name +\n                          \"' on '\" + obj + \"'\");\n    }\n    return;\n  }\n  if (this.isa(obj, this.STRING)) {\n    var n = Interpreter.legalArrayIndex(name);\n    if (name === 'length' || (!isNaN(n) && n < String(obj).length)) {\n      // Can't set length or letters on String objects.\n      if (strict) {\n        this.throwException(this.TYPE_ERROR, \"Cannot assign to read only \" +\n            \"property '\" + name + \"' of String '\" + obj.data + \"'\");\n      }\n      return;\n    }\n  }\n  if (obj.class === 'Array') {\n    // Arrays have a magic length variable that is bound to the elements.\n    var len = obj.properties.length;\n    var i;\n    if (name === 'length') {\n      // Delete elements if length is smaller.\n      if (opt_descriptor) {\n        if (!('value' in opt_descriptor)) {\n          return;\n        }\n        value = opt_descriptor.value;\n      }\n      value = Interpreter.legalArrayLength(value);\n      if (isNaN(value)) {\n        this.throwException(this.RANGE_ERROR, 'Invalid array length');\n      }\n      if (value < len) {\n        for (i in obj.properties) {\n          i = Interpreter.legalArrayIndex(i);\n          if (!isNaN(i) && value <= i) {\n            delete obj.properties[i];\n          }\n        }\n      }\n    } else if (!isNaN(i = Interpreter.legalArrayIndex(name))) {\n      // Increase length if this index is larger.\n      obj.properties.length = Math.max(len, i + 1);\n    }\n  }\n  if (obj.preventExtensions && !(name in obj.properties)) {\n    if (strict) {\n      this.throwException(this.TYPE_ERROR, \"Can't add property '\" + name +\n                          \"', object is not extensible\");\n    }\n    return;\n  }\n  if (opt_descriptor) {\n    // Define the property.\n    var descriptor = {};\n    if ('get' in opt_descriptor && opt_descriptor.get) {\n      obj.getter[name] = opt_descriptor.get;\n      descriptor.get = this.setProperty.placeholderGet_;\n    }\n    if ('set' in opt_descriptor && opt_descriptor.set) {\n      obj.setter[name] = opt_descriptor.set;\n      descriptor.set = this.setProperty.placeholderSet_;\n    }\n    if ('configurable' in opt_descriptor) {\n      descriptor.configurable = opt_descriptor.configurable;\n    }\n    if ('enumerable' in opt_descriptor) {\n      descriptor.enumerable = opt_descriptor.enumerable;\n    }\n    if ('writable' in opt_descriptor) {\n      descriptor.writable = opt_descriptor.writable;\n      delete obj.getter[name];\n      delete obj.setter[name];\n    }\n    if ('value' in opt_descriptor) {\n      descriptor.value = opt_descriptor.value;\n      delete obj.getter[name];\n      delete obj.setter[name];\n    } else if (value !== Interpreter.VALUE_IN_DESCRIPTOR) {\n      descriptor.value = value;\n      delete obj.getter[name];\n      delete obj.setter[name];\n    }\n    try {\n      Object.defineProperty(obj.properties, name, descriptor);\n    } catch (e) {\n      this.throwException(this.TYPE_ERROR, 'Cannot redefine property: ' + name);\n    }\n    // Now that the definition has suceeded, clean up any obsolete get/set funcs.\n    if ('get' in opt_descriptor && !opt_descriptor.get) {\n      delete obj.getter[name];\n    }\n    if ('set' in opt_descriptor && !opt_descriptor.set) {\n      delete obj.setter[name];\n    }\n  } else {\n    // Set the property.\n    if (value === Interpreter.VALUE_IN_DESCRIPTOR) {\n      throw ReferenceError('Value not specified.');\n    }\n    // Determine the parent (possibly self) where the property is defined.\n    var defObj = obj;\n    while (!(name in defObj.properties)) {\n      defObj = this.getPrototype(defObj);\n      if (!defObj) {\n        // This is a new property.\n        defObj = obj;\n        break;\n      }\n    }\n    if (defObj.setter && defObj.setter[name]) {\n      this.setterStep_ = true;\n      return defObj.setter[name];\n    }\n    if (defObj.getter && defObj.getter[name]) {\n      if (strict) {\n        this.throwException(this.TYPE_ERROR, \"Cannot set property '\" + name +\n            \"' of object '\" + obj + \"' which only has a getter\");\n      }\n    } else {\n      // No setter, simple assignment.\n      try {\n        obj.properties[name] = value;\n      } catch (e) {\n        if (strict) {\n          this.throwException(this.TYPE_ERROR, \"Cannot assign to read only \" +\n              \"property '\" + name + \"' of object '\" + obj + \"'\");\n        }\n      }\n    }\n  }\n};\n\nInterpreter.prototype.setProperty.placeholderGet_ = function() {throw Error('Placeholder getter')};\nInterpreter.prototype.setProperty.placeholderSet_ = function() {throw Error('Placeholder setter')};\n\n/**\n * Convenience method for adding a native function as a non-enumerable property\n * onto an object's prototype.\n * @param {!Interpreter.Object} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @param {!Function} wrapper Function object.\n */\nInterpreter.prototype.setNativeFunctionPrototype =\n    function(obj, name, wrapper) {\n  this.setProperty(obj.properties['prototype'], name,\n      this.createNativeFunction(wrapper, false),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Convenience method for adding an async function as a non-enumerable property\n * onto an object's prototype.\n * @param {!Interpreter.Object} obj Data object.\n * @param {Interpreter.Value} name Name of property.\n * @param {!Function} wrapper Function object.\n */\nInterpreter.prototype.setAsyncFunctionPrototype =\n    function(obj, name, wrapper) {\n  this.setProperty(obj.properties['prototype'], name,\n      this.createAsyncFunction(wrapper),\n      Interpreter.NONENUMERABLE_DESCRIPTOR);\n};\n\n/**\n * Returns the current scope from the stateStack.\n * @return {!Interpreter.Scope} Current scope.\n */\nInterpreter.prototype.getScope = function() {\n  var scope = this.stateStack[this.stateStack.length - 1].scope;\n  if (!scope) {\n    throw Error('No scope found.');\n  }\n  return scope;\n};\n\n/**\n * Create a new scope dictionary.\n * @param {!Object} node AST node defining the scope container\n *     (e.g. a function).\n * @param {Interpreter.Scope} parentScope Scope to link to.\n * @return {!Interpreter.Scope} New scope.\n */\nInterpreter.prototype.createScope = function(node, parentScope) {\n  // Determine if this scope starts with `use strict`.\n  var strict = false;\n  if (parentScope && parentScope.strict) {\n    strict = true;\n  } else {\n    var firstNode = node['body'] && node['body'][0];\n    if (firstNode && firstNode.expression &&\n        firstNode.expression['type'] === 'Literal' &&\n        firstNode.expression.value === 'use strict') {\n      strict = true;\n    }\n  }\n  var object = this.createObjectProto(null);\n  var scope = new Interpreter.Scope(parentScope, strict, object);\n  if (!parentScope) {\n    this.initGlobal(scope.object);\n  }\n  this.populateScope_(node, scope);\n  return scope;\n};\n\n/**\n * Create a new special scope dictionary. Similar to createScope(), but\n * doesn't assume that the scope is for a function body.\n * This is used for 'catch' clauses and 'with' statements.\n * @param {!Interpreter.Scope} parentScope Scope to link to.\n * @param {Interpreter.Object=} opt_object Optional object to transform into\n *     scope.\n * @return {!Interpreter.Scope} New scope.\n */\nInterpreter.prototype.createSpecialScope = function(parentScope, opt_object) {\n  if (!parentScope) {\n    throw Error('parentScope required');\n  }\n  var object = opt_object || this.createObjectProto(null);\n  return new Interpreter.Scope(parentScope, parentScope.strict, object);\n};\n\n/**\n * Retrieves a value from the scope chain.\n * @param {string} name Name of variable.\n * @return {Interpreter.Value} Any value.\n *   May be flagged as being a getter and thus needing immediate execution\n *   (rather than being the value of the property).\n */\nInterpreter.prototype.getValueFromScope = function(name) {\n  var scope = this.getScope();\n  while (scope && scope !== this.globalScope) {\n    if (name in scope.object.properties) {\n      return scope.object.properties[name];\n    }\n    scope = scope.parentScope;\n  }\n  // The root scope is also an object which has inherited properties and\n  // could also have getters.\n  if (scope === this.globalScope && this.hasProperty(scope.object, name)) {\n    return this.getProperty(scope.object, name);\n  }\n  // Typeof operator is unique: it can safely look at non-defined variables.\n  var prevNode = this.stateStack[this.stateStack.length - 1].node;\n  if (prevNode['type'] === 'UnaryExpression' &&\n      prevNode['operator'] === 'typeof') {\n    return undefined;\n  }\n  this.throwException(this.REFERENCE_ERROR, name + ' is not defined');\n};\n\n/**\n * Sets a value to the current scope.\n * @param {string} name Name of variable.\n * @param {Interpreter.Value} value Value.\n * @return {!Interpreter.Object|undefined} Returns a setter function if one\n *     needs to be called, otherwise undefined.\n */\nInterpreter.prototype.setValueToScope = function(name, value) {\n  var scope = this.getScope();\n  var strict = scope.strict;\n  while (scope && scope !== this.globalScope) {\n    if (name in scope.object.properties) {\n      scope.object.properties[name] = value;\n      return undefined;\n    }\n    scope = scope.parentScope;\n  }\n  // The root scope is also an object which has readonly properties and\n  // could also have setters.\n  if (scope === this.globalScope &&\n      (!strict || this.hasProperty(scope.object, name))) {\n    return this.setProperty(scope.object, name, value);\n  }\n  this.throwException(this.REFERENCE_ERROR, name + ' is not defined');\n};\n\n/**\n * Create a new scope for the given node.\n * @param {!Object} node AST node (program or function).\n * @param {!Interpreter.Scope} scope Scope dictionary to populate.\n * @private\n */\nInterpreter.prototype.populateScope_ = function(node, scope) {\n  if (node['type'] === 'VariableDeclaration') {\n    for (var i = 0; i < node['declarations'].length; i++) {\n      this.setProperty(scope.object, node['declarations'][i]['id']['name'],\n          undefined, Interpreter.VARIABLE_DESCRIPTOR);\n    }\n  } else if (node['type'] === 'FunctionDeclaration') {\n    this.setProperty(scope.object, node['id']['name'],\n        this.createFunction(node, scope), Interpreter.VARIABLE_DESCRIPTOR);\n    return;  // Do not recurse into function.\n  } else if (node['type'] === 'FunctionExpression') {\n    return;  // Do not recurse into function.\n  } else if (node['type'] === 'ExpressionStatement') {\n    return;  // Expressions can't contain variable/function declarations.\n  }\n  var nodeClass = node['constructor'];\n  for (var name in node) {\n    var prop = node[name];\n    if (prop && typeof prop === 'object') {\n      if (Array.isArray(prop)) {\n        for (var i = 0; i < prop.length; i++) {\n          if (prop[i] && prop[i].constructor === nodeClass) {\n            this.populateScope_(prop[i], scope);\n          }\n        }\n      } else {\n        if (prop.constructor === nodeClass) {\n          this.populateScope_(prop, scope);\n        }\n      }\n    }\n  }\n};\n\n/**\n * Is the current state directly being called with as a construction with 'new'.\n * @return {boolean} True if 'new foo()', false if 'foo()'.\n */\nInterpreter.prototype.calledWithNew = function() {\n  return this.stateStack[this.stateStack.length - 1].isConstructor;\n};\n\n/**\n * Gets a value from the scope chain or from an object property.\n * @param {!Array} ref Name of variable or object/propname tuple.\n * @return {Interpreter.Value} Any value.\n *   May be flagged as being a getter and thus needing immediate execution\n *   (rather than being the value of the property).\n */\nInterpreter.prototype.getValue = function(ref) {\n  if (ref[0] === Interpreter.SCOPE_REFERENCE) {\n    // A null/varname variable lookup.\n    return this.getValueFromScope(ref[1]);\n  } else {\n    // An obj/prop components tuple (foo.bar).\n    return this.getProperty(ref[0], ref[1]);\n  }\n};\n\n/**\n * Sets a value to the scope chain or to an object property.\n * @param {!Array} ref Name of variable or object/propname tuple.\n * @param {Interpreter.Value} value Value.\n * @return {!Interpreter.Object|undefined} Returns a setter function if one\n *     needs to be called, otherwise undefined.\n */\nInterpreter.prototype.setValue = function(ref, value) {\n  if (ref[0] === Interpreter.SCOPE_REFERENCE) {\n    // A null/varname variable lookup.\n    return this.setValueToScope(ref[1], value);\n  } else {\n    // An obj/prop components tuple (foo.bar).\n    return this.setProperty(ref[0], ref[1], value);\n  }\n};\n\n/**\n * Throw an exception in the interpreter that can be handled by an\n * interpreter try/catch statement.  If unhandled, a real exception will\n * be thrown.  Can be called with either an error class and a message, or\n * with an actual object to be thrown.\n * @param {!Interpreter.Object|Interpreter.Value} errorClass Type of error\n *   (if message is provided) or the value to throw (if no message).\n * @param {string=} opt_message Message being thrown.\n */\nInterpreter.prototype.throwException = function(errorClass, opt_message) {\n  if (opt_message === undefined) {\n    var error = errorClass;  // This is a value to throw, not an error class.\n  } else {\n    var error = this.createObject(errorClass);\n    this.setProperty(error, 'message', opt_message,\n        Interpreter.NONENUMERABLE_DESCRIPTOR);\n  }\n  this.unwind(Interpreter.Completion.THROW, error, undefined);\n  // Abort anything related to the current step.\n  throw Interpreter.STEP_ERROR;\n};\n\n/**\n * Unwind the stack to the innermost relevant enclosing TryStatement,\n * For/ForIn/WhileStatement or Call/NewExpression.  If this results in\n * the stack being completely unwound the thread will be terminated\n * and the appropriate error being thrown.\n * @param {Interpreter.Completion} type Completion type.\n * @param {Interpreter.Value} value Value computed, returned or thrown.\n * @param {string|undefined} label Target label for break or return.\n */\nInterpreter.prototype.unwind = function(type, value, label) {\n  if (type === Interpreter.Completion.NORMAL) {\n    throw TypeError('Should not unwind for NORMAL completions');\n  }\n\n  loop: for (var stack = this.stateStack; stack.length > 0; stack.pop()) {\n    var state = stack[stack.length - 1];\n    switch (state.node['type']) {\n      case 'TryStatement':\n        state.cv = {type: type, value: value, label: label};\n        return;\n      case 'CallExpression':\n      case 'NewExpression':\n        if (type === Interpreter.Completion.RETURN) {\n          state.value = value;\n          return;\n        } else if (type !== Interpreter.Completion.THROW) {\n          throw Error('Unsynatctic break/continue not rejected by Acorn');\n        }\n        break;\n      case 'Program':\n        // Don't pop the stateStack.\n        // Leave the root scope on the tree in case the program is appended to.\n        state.done = true;\n        break loop;\n    }\n    if (type === Interpreter.Completion.BREAK) {\n      if (label ? (state.labels && state.labels.indexOf(label) !== -1) :\n          (state.isLoop || state.isSwitch)) {\n        stack.pop();\n        return;\n      }\n    } else if (type === Interpreter.Completion.CONTINUE) {\n      if (label ? (state.labels && state.labels.indexOf(label) !== -1) :\n          state.isLoop) {\n        return;\n      }\n    }\n  }\n\n  // Unhandled completion.  Throw a real error.\n  var realError;\n  if (this.isa(value, this.ERROR)) {\n    var errorTable = {\n      'EvalError': EvalError,\n      'RangeError': RangeError,\n      'ReferenceError': ReferenceError,\n      'SyntaxError': SyntaxError,\n      'TypeError': TypeError,\n      'URIError': URIError\n    };\n    var name = String(this.getProperty(value, 'name'));\n    var message = this.getProperty(value, 'message').valueOf();\n    var errorConstructor = errorTable[name] || Error;\n    realError = errorConstructor(message);\n  } else {\n    realError = String(value);\n  }\n  throw realError;\n};\n\n/**\n * Create a call to a getter function.\n * @param {!Interpreter.Object} func Function to execute.\n * @param {!Interpreter.Object|!Array} left\n *     Name of variable or object/propname tuple.\n * @private\n */\nInterpreter.prototype.createGetter_ = function(func, left) {\n  if (!this.getterStep_) {\n    throw Error('Unexpected call to createGetter');\n  }\n  // Clear the getter flag.\n  this.getterStep_ = false;\n  // Normally `this` will be specified as the object component (o.x).\n  // Sometimes `this` is explicitly provided (o).\n  var funcThis = Array.isArray(left) ? left[0] : left;\n  var node = new this.nodeConstructor({options:{}});\n  node['type'] = 'CallExpression';\n  var state = new Interpreter.State(node,\n      this.stateStack[this.stateStack.length - 1].scope);\n  state.doneCallee_ = true;\n  state.funcThis_ = funcThis;\n  state.func_ = func;\n  state.doneArgs_ = true;\n  state.arguments_ = [];\n  return state;\n};\n\n/**\n * Create a call to a setter function.\n * @param {!Interpreter.Object} func Function to execute.\n * @param {!Interpreter.Object|!Array} left\n *     Name of variable or object/propname tuple.\n * @param {Interpreter.Value} value Value to set.\n * @private\n */\nInterpreter.prototype.createSetter_ = function(func, left, value) {\n  if (!this.setterStep_) {\n    throw Error('Unexpected call to createSetter');\n  }\n  // Clear the setter flag.\n  this.setterStep_ = false;\n  // Normally `this` will be specified as the object component (o.x).\n  // Sometimes `this` is implicitly the global object (x).\n  var funcThis = Array.isArray(left) ? left[0] : this.globalObject;\n  var node = new this.nodeConstructor({options:{}});\n  node['type'] = 'CallExpression';\n  var state = new Interpreter.State(node,\n      this.stateStack[this.stateStack.length - 1].scope);\n  state.doneCallee_ = true;\n  state.funcThis_ = funcThis;\n  state.func_ = func;\n  state.doneArgs_ = true;\n  state.arguments_ = [value];\n  return state;\n};\n\n/**\n * In non-strict mode `this` must be an object.\n * Must not be called in strict mode.\n * @param {Interpreter.Value} value Proposed value for `this`.\n * @return {!Interpreter.Object} Final value for `this`.\n * @private\n */\nInterpreter.prototype.boxThis_ = function(value) {\n  if (value === undefined || value === null) {\n    // `Undefined` and `null` are changed to the global object.\n    return this.globalObject;\n  }\n  if (!(value instanceof Interpreter.Object)) {\n    // Primitives must be boxed.\n    var box = this.createObjectProto(this.getPrototype(value));\n    box.data = value;\n    return box;\n  }\n  return value;\n};\n\n/**\n * Typedef for JS values.\n * @typedef {!Interpreter.Object|boolean|number|string|undefined|null}\n */\nInterpreter.Value;\n\n/**\n * Class for a state.\n * @param {!Object} node AST node for the state.\n * @param {!Interpreter.Scope} scope Scope object for the state.\n * @constructor\n */\nInterpreter.State = function(node, scope) {\n  this.node = node;\n  this.scope = scope;\n};\n\n/**\n * Class for a scope.\n * @param {Interpreter.Scope} parentScope Parent scope.\n * @param {boolean} strict True if \"use strict\".\n * @param {!Interpreter.Object} object Object containing scope's variables.\n * @struct\n * @constructor\n */\nInterpreter.Scope = function(parentScope, strict, object) {\n  this.parentScope = parentScope;\n  this.strict = strict;\n  this.object = object;\n};\n\n/**\n * Class for an object.\n * @param {Interpreter.Object} proto Prototype object or null.\n * @constructor\n */\nInterpreter.Object = function(proto) {\n  this.getter = Object.create(null);\n  this.setter = Object.create(null);\n  this.properties = Object.create(null);\n  this.proto = proto;\n};\n\n/** @type {Interpreter.Object} */\nInterpreter.Object.prototype.proto = null;\n\n/** @type {string} */\nInterpreter.Object.prototype.class = 'Object';\n\n/** @type {Date|RegExp|boolean|number|string|null} */\nInterpreter.Object.prototype.data = null;\n\n/**\n * Convert this object into a string.\n * @return {string} String value.\n * @override\n */\nInterpreter.Object.prototype.toString = function() {\n  if (!(this instanceof Interpreter.Object)) {\n    // Primitive value.\n    return String(this);\n  }\n\n  if (this.class === 'Array') {\n    // Array contents must not have cycles.\n    var cycles = Interpreter.toStringCycles_;\n    cycles.push(this);\n    try {\n      var strs = [];\n      // Truncate very long strings.  This is not part of the spec,\n      // but it prevents hanging the interpreter for gigantic arrays.\n      var maxLength = this.properties.length;\n      var truncated = false;\n      if (maxLength > 1024) {\n        maxLength = 1000;\n        truncated = true;\n      }\n      for (var i = 0; i < maxLength; i++) {\n        var value = this.properties[i];\n        strs[i] = ((value instanceof Interpreter.Object) &&\n            cycles.indexOf(value) !== -1) ? '...' : value;\n      }\n      if (truncated) {\n        strs.push('...');\n      }\n    } finally {\n      cycles.pop();\n    }\n    return strs.join(',');\n  }\n\n  if (this.class === 'Error') {\n    // Error name and message properties must not have cycles.\n    var cycles = Interpreter.toStringCycles_;\n    if (cycles.indexOf(this) !== -1) {\n      return '[object Error]';\n    }\n    var name, message;\n    // Bug: Does not support getters and setters for name or message.\n    var obj = this;\n    do {\n      if ('name' in obj.properties) {\n        name = obj.properties['name'];\n        break;\n      }\n    } while ((obj = obj.proto));\n    var obj = this;\n    do {\n      if ('message' in obj.properties) {\n        message = obj.properties['message'];\n        break;\n      }\n    } while ((obj = obj.proto));\n    cycles.push(this);\n    try {\n      name = name && String(name);\n      message = message && String(message);\n    } finally {\n      cycles.pop();\n    }\n    return message ? name + ': ' + message : String(name);\n  }\n\n  if (this.data !== null) {\n    // RegExp, Date, and boxed primitives.\n    return String(this.data);\n  }\n\n  return '[object ' + this.class + ']';\n};\n\n/**\n * Return the object's value.\n * @return {Interpreter.Value} Value.\n * @override\n */\nInterpreter.Object.prototype.valueOf = function() {\n  if (this.data === undefined || this.data === null ||\n      this.data instanceof RegExp) {\n    return this;  // An Object, RegExp, or primitive.\n  }\n  if (this.data instanceof Date) {\n    return this.data.valueOf();  // Milliseconds.\n  }\n  return /** @type {(boolean|number|string)} */ (this.data);  // Boxed primitive.\n};\n\n///////////////////////////////////////////////////////////////////////////////\n// Functions to handle each node type.\n///////////////////////////////////////////////////////////////////////////////\n\nInterpreter.prototype['stepArrayExpression'] = function(stack, state, node) {\n  var elements = node['elements'];\n  var n = state.n_ || 0;\n  if (!state.array_) {\n    state.array_ = this.createArray();\n    state.array_.properties.length = elements.length;\n  } else {\n    this.setProperty(state.array_, n, state.value);\n    n++;\n  }\n  while (n < elements.length) {\n    // Skip missing elements - they're not defined, not undefined.\n    if (elements[n]) {\n      state.n_ = n;\n      return new Interpreter.State(elements[n], state.scope);\n    }\n    n++;\n  }\n  stack.pop();\n  stack[stack.length - 1].value = state.array_;\n};\n\nInterpreter.prototype['stepAssignmentExpression'] =\n    function(stack, state, node) {\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    var nextState = new Interpreter.State(node['left'], state.scope);\n    nextState.components = true;\n    return nextState;\n  }\n  if (!state.doneRight_) {\n    if (!state.leftReference_) {\n      state.leftReference_ = state.value;\n    }\n    if (state.doneGetter_) {\n      state.leftValue_ = state.value;\n    }\n    if (!state.doneGetter_ && node['operator'] !== '=') {\n      var leftValue = this.getValue(state.leftReference_);\n      state.leftValue_ = leftValue;\n      if (this.getterStep_) {\n        // Call the getter function.\n        state.doneGetter_ = true;\n        var func = /** @type {!Interpreter.Object} */ (leftValue);\n        return this.createGetter_(func, state.leftReference_);\n      }\n    }\n    state.doneRight_ = true;\n    // When assigning an unnamed function to a variable, the function's name\n    // is set to the variable name.  Record the variable name in case the\n    // right side is a functionExpression.\n    // E.g. foo = function() {};\n    if (node['operator'] === '=' && node['left']['type'] === 'Identifier') {\n      state.destinationName = node['left']['name'];\n    }\n    return new Interpreter.State(node['right'], state.scope);\n  }\n  if (state.doneSetter_) {\n    // Return if setter function.\n    // Setter method on property has completed.\n    // Ignore its return value, and use the original set value instead.\n    stack.pop();\n    stack[stack.length - 1].value = state.setterValue_;\n    return;\n  }\n  var value = state.leftValue_;\n  var rightValue = state.value;\n  switch (node['operator']) {\n    case '=':    value =    rightValue; break;\n    case '+=':   value +=   rightValue; break;\n    case '-=':   value -=   rightValue; break;\n    case '*=':   value *=   rightValue; break;\n    case '/=':   value /=   rightValue; break;\n    case '%=':   value %=   rightValue; break;\n    case '<<=':  value <<=  rightValue; break;\n    case '>>=':  value >>=  rightValue; break;\n    case '>>>=': value >>>= rightValue; break;\n    case '&=':   value &=   rightValue; break;\n    case '^=':   value ^=   rightValue; break;\n    case '|=':   value |=   rightValue; break;\n    default:\n      throw SyntaxError('Unknown assignment expression: ' + node['operator']);\n  }\n  var setter = this.setValue(state.leftReference_, value);\n  if (setter) {\n    state.doneSetter_ = true;\n    state.setterValue_ = value;\n    return this.createSetter_(setter, state.leftReference_, value);\n  }\n  // Return if no setter function.\n  stack.pop();\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepBinaryExpression'] = function(stack, state, node) {\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    return new Interpreter.State(node['left'], state.scope);\n  }\n  if (!state.doneRight_) {\n    state.doneRight_ = true;\n    state.leftValue_ = state.value;\n    return new Interpreter.State(node['right'], state.scope);\n  }\n  stack.pop();\n  var leftValue = state.leftValue_;\n  var rightValue = state.value;\n  var value;\n  switch (node['operator']) {\n    case '==':  value = leftValue ==  rightValue; break;\n    case '!=':  value = leftValue !=  rightValue; break;\n    case '===': value = leftValue === rightValue; break;\n    case '!==': value = leftValue !== rightValue; break;\n    case '>':   value = leftValue >   rightValue; break;\n    case '>=':  value = leftValue >=  rightValue; break;\n    case '<':   value = leftValue <   rightValue; break;\n    case '<=':  value = leftValue <=  rightValue; break;\n    case '+':   value = leftValue +   rightValue; break;\n    case '-':   value = leftValue -   rightValue; break;\n    case '*':   value = leftValue *   rightValue; break;\n    case '/':   value = leftValue /   rightValue; break;\n    case '%':   value = leftValue %   rightValue; break;\n    case '&':   value = leftValue &   rightValue; break;\n    case '|':   value = leftValue |   rightValue; break;\n    case '^':   value = leftValue ^   rightValue; break;\n    case '<<':  value = leftValue <<  rightValue; break;\n    case '>>':  value = leftValue >>  rightValue; break;\n    case '>>>': value = leftValue >>> rightValue; break;\n    case 'in':\n      if (!(rightValue instanceof Interpreter.Object)) {\n        this.throwException(this.TYPE_ERROR,\n            \"'in' expects an object, not '\" + rightValue + \"'\");\n      }\n      value = this.hasProperty(rightValue, leftValue);\n      break;\n    case 'instanceof':\n      if (!this.isa(rightValue, this.FUNCTION)) {\n        this.throwException(this.TYPE_ERROR,\n            'Right-hand side of instanceof is not an object');\n      }\n      value = (leftValue instanceof Interpreter.Object) ?\n          this.isa(leftValue, rightValue) : false;\n      break;\n    default:\n      throw SyntaxError('Unknown binary operator: ' + node['operator']);\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepBlockStatement'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var expression = node['body'][n];\n  if (expression) {\n    state.n_ = n + 1;\n    return new Interpreter.State(expression, state.scope);\n  }\n  stack.pop();\n};\n\nInterpreter.prototype['stepBreakStatement'] = function(stack, state, node) {\n  var label = node['label'] && node['label']['name'];\n  this.unwind(Interpreter.Completion.BREAK, undefined, label);\n};\n\nInterpreter.prototype['stepCallExpression'] = function(stack, state, node) {\n  if (!state.doneCallee_) {\n    state.doneCallee_ = 1;\n    // Components needed to determine value of `this`.\n    var nextState = new Interpreter.State(node['callee'], state.scope);\n    nextState.components = true;\n    return nextState;\n  }\n  if (state.doneCallee_ === 1) {\n    // Determine value of the function.\n    state.doneCallee_ = 2;\n    var func = state.value;\n    if (Array.isArray(func)) {\n      state.func_ = this.getValue(func);\n      if (func[0] === Interpreter.SCOPE_REFERENCE) {\n        // (Globally or locally) named function.  Is it named 'eval'?\n        state.directEval_ = (func[1] === 'eval');\n      } else {\n        // Method function, `this` is object (ignored if invoked as `new`).\n        state.funcThis_ = func[0];\n      }\n      func = state.func_;\n      if (this.getterStep_) {\n        // Call the getter function.\n        state.doneCallee_ = 1;\n        return this.createGetter_(/** @type {!Interpreter.Object} */ (func),\n            state.value);\n      }\n    } else {\n      // Already evaluated function: (function(){...})();\n      state.func_ = func;\n    }\n    state.arguments_ = [];\n    state.n_ = 0;\n  }\n  var func = state.func_;\n  if (!state.doneArgs_) {\n    if (state.n_ !== 0) {\n      state.arguments_.push(state.value);\n    }\n    if (node['arguments'][state.n_]) {\n      return new Interpreter.State(node['arguments'][state.n_++], state.scope);\n    }\n    // Determine value of `this` in function.\n    if (node['type'] === 'NewExpression') {\n      if (!(func instanceof Interpreter.Object) || func.illegalConstructor) {\n        // Illegal: new escape();\n        this.throwException(this.TYPE_ERROR, func + ' is not a constructor');\n      }\n      // Constructor, `this` is new object.\n      if (func === this.ARRAY) {\n        state.funcThis_ = this.createArray();\n      } else {\n        var proto = func.properties['prototype'];\n        if (typeof proto !== 'object' || proto === null) {\n          // Non-object prototypes default to `Object.prototype`.\n          proto = this.OBJECT_PROTO;\n        }\n        state.funcThis_ = this.createObjectProto(proto);\n      }\n      state.isConstructor = true;\n    }\n    state.doneArgs_ = true;\n  }\n  if (!state.doneExec_) {\n    state.doneExec_ = true;\n    if (!(func instanceof Interpreter.Object)) {\n      this.throwException(this.TYPE_ERROR, func + ' is not a function');\n    }\n    var funcNode = func.node;\n    if (funcNode) {\n      var scope = this.createScope(funcNode['body'], func.parentScope);\n      // Add all arguments.\n      for (var i = 0; i < funcNode['params'].length; i++) {\n        var paramName = funcNode['params'][i]['name'];\n        var paramValue = state.arguments_.length > i ? state.arguments_[i] :\n            undefined;\n        this.setProperty(scope.object, paramName, paramValue);\n      }\n      // Build arguments variable.\n      var argsList = this.createArray();\n      for (var i = 0; i < state.arguments_.length; i++) {\n        this.setProperty(argsList, i, state.arguments_[i]);\n      }\n      this.setProperty(scope.object, 'arguments', argsList);\n      // Add the function's name (var x = function foo(){};)\n      var name = funcNode['id'] && funcNode['id']['name'];\n      if (name) {\n        this.setProperty(scope.object, name, func);\n      }\n      if (!scope.strict) {\n        state.funcThis_ = this.boxThis_(state.funcThis_);\n      }\n      this.setProperty(scope.object, 'this', state.funcThis_,\n                       Interpreter.READONLY_DESCRIPTOR);\n      state.value = undefined;  // Default value if no explicit return.\n      return new Interpreter.State(funcNode['body'], scope);\n    } else if (func.eval) {\n      var code = state.arguments_[0];\n      if (typeof code !== 'string') {\n        // JS does not parse String objects:\n        // eval(new String('1 + 1')) -> '1 + 1'\n        state.value = code;\n      } else {\n        try {\n          var ast = acorn.parse(String(code), Interpreter.PARSE_OPTIONS);\n        } catch (e) {\n          // Acorn threw a SyntaxError.  Rethrow as a trappable error.\n          this.throwException(this.SYNTAX_ERROR, 'Invalid code: ' + e.message);\n        }\n        var evalNode = new this.nodeConstructor({options:{}});\n        evalNode['type'] = 'EvalProgram_';\n        evalNode['body'] = ast['body'];\n        Interpreter.stripLocations_(evalNode, node['start'], node['end']);\n        // Create new scope and update it with definitions in eval().\n        var scope = state.directEval_ ? state.scope : this.globalScope;\n        if (scope.strict) {\n          // Strict mode get its own scope in eval.\n          scope = this.createScope(ast, scope);\n        } else {\n          // Non-strict mode pollutes the current scope.\n          this.populateScope_(ast, scope);\n        }\n        this.value = undefined;  // Default value if no code.\n        return new Interpreter.State(evalNode, scope);\n      }\n    } else if (func.nativeFunc) {\n      if (!state.scope.strict) {\n        state.funcThis_ = this.boxThis_(state.funcThis_);\n      }\n      state.value = func.nativeFunc.apply(state.funcThis_, state.arguments_);\n    } else if (func.asyncFunc) {\n      var thisInterpreter = this;\n      var callback = function(value) {\n        state.value = value;\n        thisInterpreter.paused_ = false;\n      };\n      // Force the argument lengths to match, then append the callback.\n      var argLength = func.asyncFunc.length - 1;\n      var argsWithCallback = state.arguments_.concat(\n          new Array(argLength)).slice(0, argLength);\n      argsWithCallback.push(callback);\n      this.paused_ = true;\n      if (!state.scope.strict) {\n        state.funcThis_ = this.boxThis_(state.funcThis_);\n      }\n      func.asyncFunc.apply(state.funcThis_, argsWithCallback);\n      return;\n    } else {\n      /* A child of a function is a function but is not callable.  For example:\n      var F = function() {};\n      F.prototype = escape;\n      var f = new F();\n      f();\n      */\n      this.throwException(this.TYPE_ERROR, func.class + ' is not callable');\n    }\n  } else {\n    // Execution complete.  Put the return value on the stack.\n    stack.pop();\n    if (state.isConstructor && typeof state.value !== 'object') {\n      // Normal case for a constructor is to use the `this` value.\n      stack[stack.length - 1].value = state.funcThis_;\n    } else {\n      // Non-constructors or constructions explicitly returning objects use\n      // the return value.\n      stack[stack.length - 1].value = state.value;\n    }\n  }\n};\n\nInterpreter.prototype['stepCatchClause'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    // Create an empty scope.\n    var scope = this.createSpecialScope(state.scope);\n    // Add the argument.\n    this.setProperty(scope.object, node['param']['name'], state.throwValue);\n    // Execute catch clause.\n    return new Interpreter.State(node['body'], scope);\n  } else {\n    stack.pop();\n  }\n};\n\nInterpreter.prototype['stepConditionalExpression'] =\n    function(stack, state, node) {\n  var mode = state.mode_ || 0;\n  if (mode === 0) {\n    state.mode_ = 1;\n    return new Interpreter.State(node['test'], state.scope);\n  }\n  if (mode === 1) {\n    state.mode_ = 2;\n    var value = Boolean(state.value);\n    if (value && node['consequent']) {\n      // Execute `if` block.\n      return new Interpreter.State(node['consequent'], state.scope);\n    } else if (!value && node['alternate']) {\n      // Execute `else` block.\n      return new Interpreter.State(node['alternate'], state.scope);\n    }\n    // eval('1;if(false){2}') -> undefined\n    this.value = undefined;\n  }\n  stack.pop();\n  if (node['type'] === 'ConditionalExpression') {\n    stack[stack.length - 1].value = state.value;\n  }\n};\n\nInterpreter.prototype['stepContinueStatement'] = function(stack, state, node) {\n  var label = node['label'] && node['label']['name'];\n  this.unwind(Interpreter.Completion.CONTINUE, undefined, label);\n};\n\nInterpreter.prototype['stepDebuggerStatement'] = function(stack, state, node) {\n  // Do nothing.  May be overridden by developers.\n  stack.pop();\n};\n\nInterpreter.prototype['stepDoWhileStatement'] = function(stack, state, node) {\n  if (node['type'] === 'DoWhileStatement' && state.test_ === undefined) {\n    // First iteration of do/while executes without checking test.\n    state.value = true;\n    state.test_ = true;\n  }\n  if (!state.test_) {\n    state.test_ = true;\n    return new Interpreter.State(node['test'], state.scope);\n  }\n  if (!state.value) {  // Done, exit loop.\n    stack.pop();\n  } else if (node['body']) {  // Execute the body.\n    state.test_ = false;\n    state.isLoop = true;\n    return new Interpreter.State(node['body'], state.scope);\n  }\n};\n\nInterpreter.prototype['stepEmptyStatement'] = function(stack, state, node) {\n  stack.pop();\n};\n\nInterpreter.prototype['stepEvalProgram_'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var expression = node['body'][n];\n  if (expression) {\n    state.n_ = n + 1;\n    return new Interpreter.State(expression, state.scope);\n  }\n  stack.pop();\n  stack[stack.length - 1].value = this.value;\n};\n\nInterpreter.prototype['stepExpressionStatement'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    return new Interpreter.State(node['expression'], state.scope);\n  }\n  stack.pop();\n  // Save this value to interpreter.value for use as a return value if\n  // this code is inside an eval function.\n  this.value = state.value;\n};\n\nInterpreter.prototype['stepForInStatement'] = function(stack, state, node) {\n  // First, initialize a variable if exists.  Only do so once, ever.\n  if (!state.doneInit_) {\n    state.doneInit_ = true;\n    if (node['left']['declarations'] &&\n        node['left']['declarations'][0]['init']) {\n      if (state.scope.strict) {\n        this.throwException(this.SYNTAX_ERROR,\n            'for-in loop variable declaration may not have an initializer.');\n      }\n      // Variable initialization: for (var x = 4 in y)\n      return new Interpreter.State(node['left'], state.scope);\n    }\n  }\n  // Second, look up the object.  Only do so once, ever.\n  if (!state.doneObject_) {\n    state.doneObject_ = true;\n    if (!state.variable_) {\n      state.variable_ = state.value;\n    }\n    return new Interpreter.State(node['right'], state.scope);\n  }\n  if (!state.isLoop) {\n    // First iteration.\n    state.isLoop = true;\n    state.object_ = state.value;\n    state.visited_ = Object.create(null);\n  }\n  // Third, find the property name for this iteration.\n  if (state.name_ === undefined) {\n    gotPropName: while (true) {\n      if (state.object_ instanceof Interpreter.Object) {\n        if (!state.props_) {\n          state.props_ = Object.getOwnPropertyNames(state.object_.properties);\n        }\n        while (true) {\n          var prop = state.props_.shift();\n          if (prop === undefined) {\n            break;  // Reached end of this object's properties.\n          }\n          if (!Object.prototype.hasOwnProperty.call(state.object_.properties,\n                prop)) {\n            continue;  // Property has been deleted in the loop.\n          }\n          if (state.visited_[prop]) {\n            continue;  // Already seen this property on a child.\n          }\n          state.visited_[prop] = true;\n          if (!Object.prototype.propertyIsEnumerable.call(\n                state.object_.properties, prop)) {\n            continue;  // Skip non-enumerable property.\n          }\n          state.name_ = prop;\n          break gotPropName;\n        }\n      } else if (state.object_ !== null && state.object_ !== undefined) {\n        // Primitive value (other than null or undefined).\n        if (!state.props_) {\n          state.props_ = Object.getOwnPropertyNames(state.object_);\n        }\n        while (true) {\n          var prop = state.props_.shift();\n          if (prop === undefined) {\n            break;  // Reached end of this value's properties.\n          }\n          state.visited_[prop] = true;\n          if (!Object.prototype.propertyIsEnumerable.call(\n                state.object_, prop)) {\n            continue;  // Skip non-enumerable property.\n          }\n          state.name_ = prop;\n          break gotPropName;\n        }\n      }\n      state.object_ = this.getPrototype(state.object_);\n      state.props_ = null;\n      if (state.object_ === null) {\n        // Done, exit loop.\n        stack.pop();\n        return;\n      }\n    }\n  }\n  // Fourth, find the variable\n  if (!state.doneVariable_) {\n    state.doneVariable_ = true;\n    var left = node['left'];\n    if (left['type'] === 'VariableDeclaration') {\n      // Inline variable declaration: for (var x in y)\n      state.variable_ =\n          [Interpreter.SCOPE_REFERENCE, left['declarations'][0]['id']['name']];\n    } else {\n      // Arbitrary left side: for (foo().bar in y)\n      state.variable_ = null;\n      var nextState = new Interpreter.State(left, state.scope);\n      nextState.components = true;\n      return nextState;\n    }\n  }\n  if (!state.variable_) {\n    state.variable_ = state.value;\n  }\n  // Fifth, set the variable.\n  if (!state.doneSetter_) {\n    state.doneSetter_ = true;\n    var value = state.name_;\n    var setter = this.setValue(state.variable_, value);\n    if (setter) {\n      return this.createSetter_(setter, state.variable_, value);\n    }\n  }\n  // Next step will be step three.\n  state.name_ = undefined;\n  // Reevaluate the variable since it could be a setter on the global object.\n  state.doneVariable_ = false;\n  state.doneSetter_ = false;\n  // Sixth and finally, execute the body if there was one.  this.\n  if (node['body']) {\n    return new Interpreter.State(node['body'], state.scope);\n  }\n};\n\nInterpreter.prototype['stepForStatement'] = function(stack, state, node) {\n  var mode = state.mode_ || 0;\n  if (mode === 0) {\n    state.mode_ = 1;\n    if (node['init']) {\n      return new Interpreter.State(node['init'], state.scope);\n    }\n  } else if (mode === 1) {\n    state.mode_ = 2;\n    if (node['test']) {\n      return new Interpreter.State(node['test'], state.scope);\n    }\n  } else if (mode === 2) {\n    state.mode_ = 3;\n    if (node['test'] && !state.value) {\n      // Done, exit loop.\n      stack.pop();\n    } else {  // Execute the body.\n      state.isLoop = true;\n      return new Interpreter.State(node['body'], state.scope);\n    }\n  } else if (mode === 3) {\n    state.mode_ = 1;\n    if (node['update']) {\n      return new Interpreter.State(node['update'], state.scope);\n    }\n  }\n};\n\nInterpreter.prototype['stepFunctionDeclaration'] =\n    function(stack, state, node) {\n  // This was found and handled when the scope was populated.\n  stack.pop();\n};\n\nInterpreter.prototype['stepFunctionExpression'] = function(stack, state, node) {\n  stack.pop();\n  state = stack[stack.length - 1];\n  state.value = this.createFunction(node, state.scope, state.destinationName);\n};\n\nInterpreter.prototype['stepIdentifier'] = function(stack, state, node) {\n  stack.pop();\n  if (state.components) {\n    stack[stack.length - 1].value = [Interpreter.SCOPE_REFERENCE, node['name']];\n    return;\n  }\n  var value = this.getValueFromScope(node['name']);\n  // An identifier could be a getter if it's a property on the global object.\n  if (this.getterStep_) {\n    // Call the getter function.\n    var func = /** @type {!Interpreter.Object} */ (value);\n    return this.createGetter_(func, this.globalObject);\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepIfStatement'] =\n    Interpreter.prototype['stepConditionalExpression'];\n\nInterpreter.prototype['stepLabeledStatement'] = function(stack, state, node) {\n  // No need to hit this node again on the way back up the stack.\n  stack.pop();\n  // Note that a statement might have multiple labels.\n  var labels = state.labels || [];\n  labels.push(node['label']['name']);\n  var nextState = new Interpreter.State(node['body'], state.scope);\n  nextState.labels = labels;\n  return nextState;\n};\n\nInterpreter.prototype['stepLiteral'] = function(stack, state, node) {\n  stack.pop();\n  var value = node['value'];\n  if (value instanceof RegExp) {\n    var pseudoRegexp = this.createObjectProto(this.REGEXP_PROTO);\n    this.populateRegExp(pseudoRegexp, value);\n    value = pseudoRegexp;\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepLogicalExpression'] = function(stack, state, node) {\n  if (node['operator'] !== '&&' && node['operator'] !== '||') {\n    throw SyntaxError('Unknown logical operator: ' + node['operator']);\n  }\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    return new Interpreter.State(node['left'], state.scope);\n  }\n  if (!state.doneRight_) {\n    if ((node['operator'] === '&&' && !state.value) ||\n        (node['operator'] === '||' && state.value)) {\n      // Shortcut evaluation.\n      stack.pop();\n      stack[stack.length - 1].value = state.value;\n    } else {\n      state.doneRight_ = true;\n      return new Interpreter.State(node['right'], state.scope);\n    }\n  } else {\n    stack.pop();\n    stack[stack.length - 1].value = state.value;\n  }\n};\n\nInterpreter.prototype['stepMemberExpression'] = function(stack, state, node) {\n  if (!state.doneObject_) {\n    state.doneObject_ = true;\n    return new Interpreter.State(node['object'], state.scope);\n  }\n  var propName;\n  if (!node['computed']) {\n    state.object_ = state.value;\n    // obj.foo -- Just access `foo` directly.\n    propName = node['property']['name'];\n  } else if (!state.doneProperty_) {\n    state.object_ = state.value;\n    // obj[foo] -- Compute value of `foo`.\n    state.doneProperty_ = true;\n    return new Interpreter.State(node['property'], state.scope);\n  } else {\n    propName = state.value;\n  }\n  stack.pop();\n  if (state.components) {\n    stack[stack.length - 1].value = [state.object_, propName];\n  } else {\n    var value = this.getProperty(state.object_, propName);\n    if (this.getterStep_) {\n      // Call the getter function.\n      var func = /** @type {!Interpreter.Object} */ (value);\n      return this.createGetter_(func, state.object_);\n    }\n    stack[stack.length - 1].value = value;\n  }\n};\n\nInterpreter.prototype['stepNewExpression'] =\n    Interpreter.prototype['stepCallExpression'];\n\nInterpreter.prototype['stepObjectExpression'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var property = node['properties'][n];\n  if (!state.object_) {\n    // First execution.\n    state.object_ = this.createObjectProto(this.OBJECT_PROTO);\n    state.properties_ = Object.create(null);\n  } else {\n    // Set the property computed in the previous execution.\n    var propName = state.destinationName;\n    if (!state.properties_[propName]) {\n      // Create temp object to collect value, getter, and/or setter.\n      state.properties_[propName] = {};\n    }\n    state.properties_[propName][property['kind']] = state.value;\n    state.n_ = ++n;\n    property = node['properties'][n];\n  }\n  if (property) {\n    // Determine property name.\n    var key = property['key'];\n    if (key['type'] === 'Identifier') {\n      var propName = key['name'];\n    } else if (key['type'] === 'Literal') {\n      var propName = key['value'];\n    } else {\n      throw SyntaxError('Unknown object structure: ' + key['type']);\n    }\n    // When assigning an unnamed function to a property, the function's name\n    // is set to the property name.  Record the property name in case the\n    // value is a functionExpression.\n    // E.g. {foo: function() {}}\n    state.destinationName = propName;\n    return new Interpreter.State(property['value'], state.scope);\n  }\n  for (var key in state.properties_) {\n    var kinds = state.properties_[key];\n    if ('get' in kinds || 'set' in kinds) {\n      // Set a property with a getter or setter.\n      var descriptor = {\n        configurable: true,\n        enumerable: true,\n        get: kinds['get'],\n        set: kinds['set']\n      };\n      this.setProperty(state.object_, key, Interpreter.VALUE_IN_DESCRIPTOR,\n                       descriptor);\n    } else {\n      // Set a normal property with a value.\n      this.setProperty(state.object_, key, kinds['init']);\n    }\n  }\n  stack.pop();\n  stack[stack.length - 1].value = state.object_;\n};\n\nInterpreter.prototype['stepProgram'] = function(stack, state, node) {\n  var expression = node['body'].shift();\n  if (expression) {\n    state.done = false;\n    return new Interpreter.State(expression, state.scope);\n  }\n  state.done = true;\n  // Don't pop the stateStack.\n  // Leave the root scope on the tree in case the program is appended to.\n};\n\nInterpreter.prototype['stepReturnStatement'] = function(stack, state, node) {\n  if (node['argument'] && !state.done_) {\n    state.done_ = true;\n    return new Interpreter.State(node['argument'], state.scope);\n  }\n  this.unwind(Interpreter.Completion.RETURN, state.value, undefined);\n};\n\nInterpreter.prototype['stepSequenceExpression'] = function(stack, state, node) {\n  var n = state.n_ || 0;\n  var expression = node['expressions'][n];\n  if (expression) {\n    state.n_ = n + 1;\n    return new Interpreter.State(expression, state.scope);\n  }\n  stack.pop();\n  stack[stack.length - 1].value = state.value;\n};\n\nInterpreter.prototype['stepSwitchStatement'] = function(stack, state, node) {\n  if (!state.test_) {\n    state.test_ = 1;\n    return new Interpreter.State(node['discriminant'], state.scope);\n  }\n  if (state.test_ === 1) {\n    state.test_ = 2;\n    // Preserve switch value between case tests.\n    state.switchValue_ = state.value;\n    state.defaultCase_ = -1;\n  }\n\n  while (true) {\n    var index = state.index_ || 0;\n    var switchCase = node['cases'][index];\n    if (!state.matched_ && switchCase && !switchCase['test']) {\n      // Test on the default case is null.\n      // Bypass (but store) the default case, and get back to it later.\n      state.defaultCase_ = index;\n      state.index_ = index + 1;\n      continue;\n    }\n    if (!switchCase && !state.matched_ && state.defaultCase_ !== -1) {\n      // Ran through all cases, no match.  Jump to the default.\n      state.matched_ = true;\n      state.index_ = state.defaultCase_;\n      continue;\n    }\n    if (switchCase) {\n      if (!state.matched_ && !state.tested_ && switchCase['test']) {\n        state.tested_ = true;\n        return new Interpreter.State(switchCase['test'], state.scope);\n      }\n      if (state.matched_ || state.value === state.switchValue_) {\n        state.matched_ = true;\n        var n = state.n_ || 0;\n        if (switchCase['consequent'][n]) {\n          state.isSwitch = true;\n          state.n_ = n + 1;\n          return new Interpreter.State(switchCase['consequent'][n],\n                                       state.scope);\n        }\n      }\n      // Move on to next case.\n      state.tested_ = false;\n      state.n_ = 0;\n      state.index_ = index + 1;\n    } else {\n      stack.pop();\n      return;\n    }\n  }\n};\n\nInterpreter.prototype['stepThisExpression'] = function(stack, state, node) {\n  stack.pop();\n  stack[stack.length - 1].value = this.getValueFromScope('this');\n};\n\nInterpreter.prototype['stepThrowStatement'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    return new Interpreter.State(node['argument'], state.scope);\n  } else {\n    this.throwException(state.value);\n  }\n};\n\nInterpreter.prototype['stepTryStatement'] = function(stack, state, node) {\n  if (!state.doneBlock_) {\n    state.doneBlock_ = true;\n    return new Interpreter.State(node['block'], state.scope);\n  }\n  if (state.cv && state.cv.type === Interpreter.Completion.THROW &&\n      !state.doneHandler_ && node['handler']) {\n    state.doneHandler_ = true;\n    var nextState = new Interpreter.State(node['handler'], state.scope);\n    nextState.throwValue = state.cv.value;\n    state.cv = undefined;  // This error has been handled, don't rethrow.\n    return nextState;\n  }\n  if (!state.doneFinalizer_ && node['finalizer']) {\n    state.doneFinalizer_ = true;\n    return new Interpreter.State(node['finalizer'], state.scope);\n  }\n  stack.pop();\n  if (state.cv) {\n    // There was no catch handler, or the catch/finally threw an error.\n    // Throw the error up to a higher try.\n    this.unwind(state.cv.type, state.cv.value, state.cv.label);\n  }\n};\n\nInterpreter.prototype['stepUnaryExpression'] = function(stack, state, node) {\n  if (!state.done_) {\n    state.done_ = true;\n    var nextState = new Interpreter.State(node['argument'], state.scope);\n    nextState.components = node['operator'] === 'delete';\n    return nextState;\n  }\n  stack.pop();\n  var value = state.value;\n  if (node['operator'] === '-') {\n    value = -value;\n  } else if (node['operator'] === '+') {\n    value = +value;\n  } else if (node['operator'] === '!') {\n    value = !value;\n  } else if (node['operator'] === '~') {\n    value = ~value;\n  } else if (node['operator'] === 'delete') {\n    var result = true;\n    // If value is not an array, then it is a primitive, or some other value.\n    // If so, skip the delete and return true.\n    if (Array.isArray(value)) {\n      var obj = value[0];\n      if (obj === Interpreter.SCOPE_REFERENCE) {\n        // `delete foo;` is the same as `delete window.foo;`.\n        obj = state.scope;\n      }\n      var name = String(value[1]);\n      try {\n        delete obj.properties[name];\n      } catch (e) {\n        if (state.scope.strict) {\n          this.throwException(this.TYPE_ERROR, \"Cannot delete property '\" +\n                              name + \"' of '\" + obj + \"'\");\n        } else {\n          result = false;\n        }\n      }\n    }\n    value = result;\n  } else if (node['operator'] === 'typeof') {\n    value = (value && value.class === 'Function') ? 'function' : typeof value;\n  } else if (node['operator'] === 'void') {\n    value = undefined;\n  } else {\n    throw SyntaxError('Unknown unary operator: ' + node['operator']);\n  }\n  stack[stack.length - 1].value = value;\n};\n\nInterpreter.prototype['stepUpdateExpression'] = function(stack, state, node) {\n  if (!state.doneLeft_) {\n    state.doneLeft_ = true;\n    var nextState = new Interpreter.State(node['argument'], state.scope);\n    nextState.components = true;\n    return nextState;\n  }\n  if (!state.leftSide_) {\n    state.leftSide_ = state.value;\n  }\n  if (state.doneGetter_) {\n    state.leftValue_ = state.value;\n  }\n  if (!state.doneGetter_) {\n    var leftValue = this.getValue(state.leftSide_);\n    state.leftValue_ = leftValue;\n    if (this.getterStep_) {\n      // Call the getter function.\n      state.doneGetter_ = true;\n      var func = /** @type {!Interpreter.Object} */ (leftValue);\n      return this.createGetter_(func, state.leftSide_);\n    }\n  }\n  if (state.doneSetter_) {\n    // Return if setter function.\n    // Setter method on property has completed.\n    // Ignore its return value, and use the original set value instead.\n    stack.pop();\n    stack[stack.length - 1].value = state.setterValue_;\n    return;\n  }\n  var leftValue = Number(state.leftValue_);\n  var changeValue;\n  if (node['operator'] === '++') {\n    changeValue = leftValue + 1;\n  } else if (node['operator'] === '--') {\n    changeValue = leftValue - 1;\n  } else {\n    throw SyntaxError('Unknown update expression: ' + node['operator']);\n  }\n  var returnValue = node['prefix'] ? changeValue : leftValue;\n  var setter = this.setValue(state.leftSide_, changeValue);\n  if (setter) {\n    state.doneSetter_ = true;\n    state.setterValue_ = returnValue;\n    return this.createSetter_(setter, state.leftSide_, changeValue);\n  }\n  // Return if no setter function.\n  stack.pop();\n  stack[stack.length - 1].value = returnValue;\n};\n\nInterpreter.prototype['stepVariableDeclaration'] = function(stack, state, node) {\n  var declarations = node['declarations'];\n  var n = state.n_ || 0;\n  var declarationNode = declarations[n];\n  if (state.init_ && declarationNode) {\n    // This setValue call never needs to deal with calling a setter function.\n    // Note that this is setting the init value, not defining the variable.\n    // Variable definition is done when scope is populated.\n    this.setValueToScope(declarationNode['id']['name'], state.value);\n    state.init_ = false;\n    declarationNode = declarations[++n];\n  }\n  while (declarationNode) {\n    // Skip any declarations that are not initialized.  They have already\n    // been defined as undefined in populateScope_.\n    if (declarationNode['init']) {\n      state.n_ = n;\n      state.init_ = true;\n      // When assigning an unnamed function to a variable, the function's name\n      // is set to the variable name.  Record the variable name in case the\n      // right side is a functionExpression.\n      // E.g. var foo = function() {};\n      state.destinationName = declarationNode['id']['name'];\n      return new Interpreter.State(declarationNode['init'], state.scope);\n    }\n    declarationNode = declarations[++n];\n  }\n  stack.pop();\n};\n\nInterpreter.prototype['stepWithStatement'] = function(stack, state, node) {\n  if (!state.doneObject_) {\n    state.doneObject_ = true;\n    return new Interpreter.State(node['object'], state.scope);\n  } else if (!state.doneBody_) {\n    state.doneBody_ = true;\n    var scope = this.createSpecialScope(state.scope, state.value);\n    return new Interpreter.State(node['body'], scope);\n  } else {\n    stack.pop();\n  }\n};\n\nInterpreter.prototype['stepWhileStatement'] =\n    Interpreter.prototype['stepDoWhileStatement'];\n\n// Preserve top-level API functions from being pruned/renamed by JS compilers.\n// Add others as needed.\n// The global object (`window` in a browser, `global` in node.js) is `this`.\nthis['Interpreter'] = Interpreter;\nInterpreter.prototype['step'] = Interpreter.prototype.step;\nInterpreter.prototype['run'] = Interpreter.prototype.run;\nInterpreter.prototype['appendCode'] = Interpreter.prototype.appendCode;\nInterpreter.prototype['createObject'] = Interpreter.prototype.createObject;\nInterpreter.prototype['createObjectProto'] =\n    Interpreter.prototype.createObjectProto;\nInterpreter.prototype['createAsyncFunction'] =\n    Interpreter.prototype.createAsyncFunction;\nInterpreter.prototype['createNativeFunction'] =\n    Interpreter.prototype.createNativeFunction;\nInterpreter.prototype['getProperty'] = Interpreter.prototype.getProperty;\nInterpreter.prototype['setProperty'] = Interpreter.prototype.setProperty;\nInterpreter.prototype['nativeToPseudo'] = Interpreter.prototype.nativeToPseudo;\nInterpreter.prototype['pseudoToNative'] = Interpreter.prototype.pseudoToNative;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./original-repo/acorn.js */ \"./original-repo/acorn.js\")))\n\n/***/ }),\n\n/***/ \"./src/js-interpreter.js\":\n/*!*******************************!*\\\n  !*** ./src/js-interpreter.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _original_repo_interpreter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../original-repo/interpreter */ \"./original-repo/interpreter.js\");\n/* harmony import */ var _original_repo_interpreter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_original_repo_interpreter__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_original_repo_interpreter__WEBPACK_IMPORTED_MODULE_0__[\"Interpreter\"]);\n\n\n/***/ })\n\n/******/ })[\"default\"];\n});","import * as Blockly from 'blockly/core'\n\nimport * as hans from 'blockly/msg/zh-hans'\n\nBlockly.setLocale(hans);//\n\n/**\n * \n */\nBlockly.defineBlocksWithJsonArray(\n    [\n        //\n        {\n            \"type\": \"while_program_start\",\n            \"message0\": \" %1 %2\",\n            \"args0\": [\n                {\n                    \"type\": \"input_dummy\"\n                },\n                {\n                    \"type\": \"input_statement\",\n                    \"name\": \"while_content\"\n                }\n            ],\n            \"previousStatement\": null,\n            \"nextStatement\": null,\n            \"colour\": \"#609FD6\",\n            \"strokeColour\": \"#4088C8\",\n            \"tooltip\": \"123\",\n            \"helpUrl\": \"1\"\n        },\n        //\n        {\n            \"type\": \"move\",\n            \"message0\": \" %1 CM\",\n            \"args0\": [\n                {\n                    \"type\": \"field_input\",\n                    \"name\": \"move_distance\",\n                    \"text\": \"50\"\n                }\n            ],\n            \"previousStatement\": null,\n            \"nextStatement\": null,\n            \"colour\": \"#F7D233\",\n            \"strokeColour\": \"#CCAD2B\",\n            \"tooltip\": \"\",\n            \"helpUrl\": \"\"\n        },\n        {\n            \"type\": \"turn\",\n            \"message0\": \" %1 %2\",\n            \"args0\": [\n                {\n                    \"type\": \"field_dropdown\",\n                    \"name\": \"dirction\",\n                    \"options\": [\n                        [\n                            \"\",\n                            \"0\"\n                        ],\n                        [\n                            \"\",\n                            \"1\"\n                        ]\n                    ]\n                },\n                {\n                    \"type\": \"field_angle\",\n                    \"name\": \"degree\",\n                    \"angle\": 90\n                }\n            ],\n            \"previousStatement\": null,\n            \"nextStatement\": null,\n            \"colour\": \"#F7D233\",\n            \"strokeColour\": \"#CCAD2B\",\n            \"tooltip\": \"\",\n            \"helpUrl\": \"\"\n        },\n        {\n            \"type\": \"arc\",\n            \"message0\": \" %1 %2  %3 CM\",\n            \"args0\": [\n                {\n                    \"type\": \"field_dropdown\",\n                    \"name\": \"dirction\",\n                    \"options\": [\n                        [\n                            \"\",\n                            \"0\"\n                        ],\n                        [\n                            \"\",\n                            \"1\"\n                        ]\n                    ]\n                },\n                {\n                    \"type\": \"field_angle\",\n                    \"name\": \"degree\",\n                    \"angle\": 90\n                },\n                {\n                    \"type\": \"field_number\",\n                    \"name\": \"radius\",\n                    \"value\": 50,\n                    \"min\": 1,\n                    \"max\": 100\n                }\n            ],\n            \"previousStatement\": null,\n            \"nextStatement\": null,\n            \"colour\": \"#F7D233\",\n            \"strokeColour\": \"#CCAD2B\",\n            \"tooltip\": \"\",\n            \"helpUrl\": \"\"\n        },\n        {\n            \"type\": \"draw\",\n            \"message0\": \" %1\",\n            \"args0\": [\n                {\n                    \"type\": \"field_dropdown\",\n                    \"name\": \"pencilState\",\n                    \"options\": [\n                        [\n                            {\n                                \"src\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFIGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDgtMjNUMTE6Mzk6NTQrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA4LTIzVDExOjUxOjAxKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA4LTIzVDExOjUxOjAxKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmVkZGRkMGNlLTU4YmItNDNhMS1iZGNjLTM2OGExM2JhOGEzOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDplZGRkZDBjZS01OGJiLTQzYTEtYmRjYy0zNjhhMTNiYThhMzkiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplZGRkZDBjZS01OGJiLTQzYTEtYmRjYy0zNjhhMTNiYThhMzkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmVkZGRkMGNlLTU4YmItNDNhMS1iZGNjLTM2OGExM2JhOGEzOSIgc3RFdnQ6d2hlbj0iMjAyMS0wOC0yM1QxMTozOTo1NCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+7D8sKwAABN5JREFUeNrt2f9LG2ccB/D8Q7FjalDBHxZEtykzWUfmVlia4aCwL7+soAN/kImwjaqUrWV00JRtWubYF4QOajdypsYabeIqWTVdNW2sa5tq2mTEmkti9rztnuN2u0vu9EzuiTn46Enuzvu87rnneT5PTMl4JL/XGL943lNfX5/y+/1cntHNtB+Ao0dtdwhAHjE9Pe05dAC3l+f9DQ0NPMsI+wJArNy6Pt/Y2LhNETiO8xwqANYRdAFgGUE3AFYRdAVgEUF3ANYQDgSAJYQDA2AF4UABWEA4cACKQJI3JEJJABKbq/Ha2tqeurq6LEUYHh72VTJA6rNPP/a90308ZLW+EKdJS4Pn+ZWyA3z/ndvzuuO1FRQ2egE8ehAO0yRPvFW3Gxc/r/lP4LPJycmyvwomciN/42ZQ1d1ampvVAyB8038N10SiEa4mkwzW5sVx5VtzBiidnZ3r5B5yZQXAYgZ9Wnoh/Hr5R44CSJOnQVvBxsbG9bIC4IfeCGe/OOVVCzAyMuIrO4DeCO+/d2IB1/lt1JxRArg7dWT3NWhqakrncrnNsgPoifDyS233kdy96SNZJQBxK1hYWJgyBIBGhHQ89mc0uvp74Cp3aerLs8Pekx9+ELDbX4laLJYcAAolj/j5K/PucU6nM2wYALUIGOflxnbxsFcMQNwKUqnUkmEA1CBgkkM7Ohp454s1eyWAsbGxKUMBFEPADA9PWm6c1xI3LtXwuI7Van1C/uVTQwEoIWBuT5v7fpKXtoJIJDJjOAApAgkehU2xcV5LjJ95BtDb2xswJIAUgVZ1egH8NfMcrRJ3SIEUNSQANnzzI+7x9QK48o1ZKJNLXSCZtJ4gRgAACpv9JH913JyhfQDCZrPdK2WBZNrLSUNDQz7xuE+HQUxvtSQ/88Oz5FudJ/Ntrp6H+F3qAsm01xPT6XTE5/Nxdrs9KsXADC8ReL5g8p+ccmy/2+PaTf7Yae6x68LNPAUoZYFk0uEauUQiccPtdnubm5tT4tcDEZgw83JPHskjaXG82ndhE+fupUAixz9yOBwRBPZLCSBsOzs7T0KhkLe7u3tJ7hVZJZOmy1+bs7TZSwFc7j+ytBUEg0FNM8P19fVr9H9ivywAklfk9sTEhKe1tXVTrmbAO/8/ABIvvv1RBp9rLZDW1tYEAOyXHUBsgRvq7++fI1WiMNzhSSNsvefix8+HMhTg2GmPsIi6tbW1XAkAwpbNZtcwzmMtUNwaAIEnj+Sd54JCPzI6OspVFIC4z8JQh+GUdHjbSsvmpEB6rLZAYg1A3HHGsSLkcrmW5RCi0ehMRQOINyyKoNnjydNk1I4GFQEg2p7iyS8uLnrRiR5GAM1bFaAKUAWoAlQBqgBVgCpAxQFgdScWi2GNMKMjQAbXxLUND9DV1bWKpAYGBmYLTYs1AKRxrX+PXTY8ANb4aGLkxv1KCCoBkLxf9AVP2PAAPM/faW9vv09vuq+vb14OQQVAenBwcFZYkmtri2HZjolOUA1CEQDZ5JkaBYohFABQTJ65YbAQggJAweSZnAcoIcgAFE2e2YmQFIHELyTepH9bLJY3SA//U7HkmZ4JyiAERftzapJnfiqML2g7OjoeKC2r4zMcU9G1gBKCmuQrphhCoi0tLcJXathXk3xFVYPJZHKRJJ9GYF/tef8Ah0WEDykxsjEAAAAASUVORK5CYII=\",\n                                \"width\": 50,\n                                \"height\": 50,\n                                \"alt\": \"pencil down\"\n                            },\n                            \"1\"\n                        ],\n                        [\n                            {\n                                \"src\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFIGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDgtMjNUMTE6NDA6MTErMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA4LTIzVDExOjUyOjA2KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA4LTIzVDExOjUyOjA2KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU3Y2UzN2ViLTQ0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\",\n                                \"width\": 50,\n                                \"height\": 50,\n                                \"alt\": \"pencil up\"\n                            },\n                            \"0\"\n                        ]\n                    ]\n                }\n            ],\n            \"previousStatement\": null,\n            \"nextStatement\": null,\n            \"colour\": \"#81C679\",\n            \"tooltip\": \"\",\n            \"helpUrl\": \"\"\n        },\n        {\n            \"type\": \"pencilcolor\",\n            \"message0\": \"  %1  %2  %3\",\n            \"args0\": [\n                {\n                    \"type\": \"field_number\",\n                    \"name\": \"red\",\n                    \"value\": 100,\n                    \"min\": 0,\n                    \"max\": 255\n                },\n                {\n                    \"type\": \"field_number\",\n                    \"name\": \"green\",\n                    \"value\": 100,\n                    \"min\": 0,\n                    \"max\": 255\n                },\n                {\n                    \"type\": \"field_number\",\n                    \"name\": \"blue\",\n                    \"value\": 100,\n                    \"min\": 0,\n                    \"max\": 255\n                }\n            ],\n            \"previousStatement\": null,\n            \"nextStatement\": null,\n            \"colour\": \"#81C679\",\n            \"tooltip\": \"\",\n            \"helpUrl\": \"\"\n        }\n    ]\n);\n\n/**\n * \n * @param block\n * @returns {string}\n */\nBlockly.JavaScript['while_program_start'] = function (block) {\n    let while_content = Blockly.JavaScript.statementToCode(block, 'while_content');\n    while_content = while_content.slice(0, -1) // \\n\n    const code =\n`robot.init();\n${while_content}\nrobot.stop();\n`\n    return code;\n};\n\nBlockly.JavaScript['move'] = function (block) {\n    var text_move_distance = block.getFieldValue('move_distance');\n    var code = `robot.move(${text_move_distance});\\n`;\n    return code;\n};\n\nBlockly.JavaScript['turn'] = function (block) {\n    var dropdown_dirction = block.getFieldValue('dirction');\n    var angle_degree = block.getFieldValue('degree');\n    var code = `robot.turn(${dropdown_dirction}, ${angle_degree});\\n`;\n    return code;\n};\n\nBlockly.JavaScript['arc'] = function (block) {\n    var dropdown_dirction = block.getFieldValue('dirction');\n    var angle_degree = block.getFieldValue('degree');\n    var radius = block.getFieldValue('radius');\n    var code = `robot.arc(${dropdown_dirction}, ${angle_degree}, ${radius});\\n`;\n    return code;\n};\n\nBlockly.JavaScript['draw'] = function (block) {\n    var dropdown_pencilstate = block.getFieldValue('pencilState');\n    var code = `robot.drawable(${dropdown_pencilstate});\\n`;\n    return code;\n};\n\nBlockly.JavaScript['pencilcolor'] = function (block) {\n    var number_red = block.getFieldValue('red') / 255.0;\n    var number_green = block.getFieldValue('green') / 255.0;\n    var number_blue = block.getFieldValue('blue') / 255.0;\n    var code = `robot.pencilcolor(${number_red}, ${number_green}, ${number_blue});\\n`;\n    return code;\n};\n","<template>\n  <div id=\"blockly\">\n    <!--  -->\n    <div id=\"blocklyDiv\" ref=\"blocklyDiv\" style=\"height: 500px; width: 800px;\"></div>\n    <button style=\"position: fixed;left: 50px;top: 10px;\" @click=\"block2code\"></button>\n    <!--  -->\n    <div style=\"background-color: lightgrey;width: 800px;text-align: left\">\n      <pre v-html=\"code?code:''\"></pre>\n    </div>\n    <button style=\"position: fixed;left: 150px;top: 10px;\" @click=\"runCode\">eval</button>\n    <button style=\"position: fixed;left: 300px;top: 10px;\" @click=\"runCode2\">new Function</button>\n    <button style=\"position: fixed;left: 500px;top: 10px;\" @click=\"runCode3\">js-interpreter</button>\n  </div>\n</template>\n\n<script>\nimport Blockly from 'blockly'\nimport BlocklyJS from 'blockly/javascript';\nimport './customBlock'\nimport Robot from './robot'\nimport Interpreter from \"js-interpreter\";\nexport default {\n  name: \"blocklyClass4\",\n  data() {\n    return {\n      code: '',\n      options: {\n        horizontalLayout: true,//\n        toolboxPosition: \"end\",//\n        toolbox: {\n          \"kind\": \"flyoutToolbox\",\n          \"contents\": [\n            {\n              \"kind\": \"block\",\n              \"type\": \"while_program_start\",\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"move\",\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"turn\",\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"arc\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"draw\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"pencilcolor\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"controls_repeat_ext\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"controls_whileUntil\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"controls_for\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"controls_if\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"logic_compare\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"logic_operation\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"logic_negate\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"logic_boolean\"\n            },\n            {\n              \"kind\": \"sep\",\n              \"gap\": \"32\"\n            },\n            {\n              \"kind\": \"block\",\n              \"blockxml\": \"<block type='math_number'><field name='NUM'>10</field></block>\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"math_arithmetic\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"math_single\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"text\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"text_length\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"text_print\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"variables_get\"\n            },\n            {\n              \"kind\": \"block\",\n              \"type\": \"variables_set\"\n            },\n          ]\n        }\n      },\n      workspace: null\n    }\n  },\n  mounted() {\n    this.initHighlightBlock()\n    this.workspace = Blockly.inject(this.$refs.blocklyDiv, this.options);\n    this.robot = new Robot()\n  },\n  methods: {\n    /**\n     * block\n     */\n    block2code() {\n      this.code = BlocklyJS.workspaceToCode(this.$refs.blocklyDiv.workspace)\n    },\n    /**\n     * \n     */\n    runCode() {\n      if (!this.code) {\n        alert('');\n        return\n      }\n      window.robot = this.robot\n      eval(this.code)\n    },\n    runCode2() {\n      if (!this.code) {\n        alert('');\n        return\n      }\n      let fn = new Function('robot', this.code)\n      fn(this.robot)\n    },\n    runCode3() {\n      if (!this.code) {\n        alert('');\n        return\n      }\n      // js\n      // jsinitApi\n      let myInterpreter = new Interpreter(this.code, this.initApi);\n      console.log('myInterpreter', myInterpreter)\n      // this.initJsInterpreter(this.code)\n      this.runStepByStep(myInterpreter)\n    },\n    runStepByStep(myInterpreter){\n      if (myInterpreter) {\n        var hasMore = myInterpreter.run();\n        if (hasMore) {\n          // \n          //\n          setTimeout(this.runStepByStep, 10, myInterpreter);\n        } else {\n          this.highlightBlock(null);\n          console.log('');\n        }\n      }\n\n    },\n    initHighlightBlock() {\n      // JavaScriptSTATEMENT_PREFIX\n      Blockly.JavaScript.STATEMENT_PREFIX = 'highlightBlock(%1);\\n';\n      // highlightBlock\n      Blockly.JavaScript.addReservedWords('highlightBlock');\n    },\n\n    highlightBlock(id) {\n      this.workspace.highlightBlock(id);\n    },\n\n    initApi(interpreter, globalObject) {\n      let that = this\n\n      //  'highlightBlock' \n      var hightlightWrapper = function(id) {\n        // console.log(\"highlightBlock\")\n        id = String(id || '');\n        return that.highlightBlock(id);\n      };\n      interpreter.setProperty(globalObject, 'highlightBlock',\n          interpreter.createNativeFunction(hightlightWrapper));\n\n      //  'robot' \n      var robot = interpreter.nativeToPseudo({});\n      interpreter.setProperty(globalObject, 'robot', robot);\n      //  'robot.init' \n      let iniWrapper = function init() {\n        return that.robot.init();\n      };\n      interpreter.setProperty(robot, 'init',\n          interpreter.createNativeFunction(iniWrapper));\n      //  'robot.stop' \n      var stopWrapper = function stop() {\n        return that.robot.stop();\n      };\n      interpreter.setProperty(robot, 'stop',\n          interpreter.createNativeFunction(stopWrapper));\n      //  'robot.move' \n      // interpreter.createAsyncFunctioncallback\n      var moveWrapper = function move(distance, callback) {\n        that.robot.move(distance).then(()=>{\n          console.log('move')\n          callback(1)\n        })\n      };\n      interpreter.setProperty(robot, 'move',\n          interpreter.createAsyncFunction(moveWrapper));\n      //  'robot.arc' \n      var arcWrapper = function arc(dir, degree, radius, callback) {\n        that.robot.arc(dir, degree, radius).then(()=>{\n          console.log('arc')\n          callback()\n        })\n      };\n      interpreter.setProperty(robot, 'arc',\n          interpreter.createAsyncFunction(arcWrapper));\n    }\n  }\n}\n</script>\n\n<style scoped>\n#blockly {\n  position: absolute;\n  left: 50px;\n  top: 50px;\n  bottom: 0;\n  width: calc(100vw - 50px);\n  height: calc(100vh - 50px);\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"blockly\"}},[_c('div',{ref:\"blocklyDiv\",staticStyle:{\"height\":\"500px\",\"width\":\"800px\"},attrs:{\"id\":\"blocklyDiv\"}}),_c('button',{staticStyle:{\"position\":\"fixed\",\"left\":\"50px\",\"top\":\"10px\"},on:{\"click\":_vm.block2code}},[_vm._v(\"\")]),_c('div',{staticStyle:{\"background-color\":\"lightgrey\",\"width\":\"800px\",\"text-align\":\"left\"}},[_c('pre',{domProps:{\"innerHTML\":_vm._s(_vm.code?_vm.code:'')}})]),_c('button',{staticStyle:{\"position\":\"fixed\",\"left\":\"150px\",\"top\":\"10px\"},on:{\"click\":_vm.runCode}},[_vm._v(\"eval\")]),_c('button',{staticStyle:{\"position\":\"fixed\",\"left\":\"300px\",\"top\":\"10px\"},on:{\"click\":_vm.runCode2}},[_vm._v(\"new Function\")]),_c('button',{staticStyle:{\"position\":\"fixed\",\"left\":\"500px\",\"top\":\"10px\"},on:{\"click\":_vm.runCode3}},[_vm._v(\"js-interpreter\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blockClass4.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blockClass4.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./blockClass4.vue?vue&type=template&id=e5ac1c40&scoped=true&\"\nimport script from \"./blockClass4.vue?vue&type=script&lang=js&\"\nexport * from \"./blockClass4.vue?vue&type=script&lang=js&\"\nimport style0 from \"./blockClass4.vue?vue&type=style&index=0&id=e5ac1c40&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5ac1c40\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blockClass4.vue?vue&type=style&index=0&id=e5ac1c40&prod&scoped=true&lang=css&\"","// eslint-disable-next-line no-unused-vars\nclass Robot {\n    constructor() {\n        this.isRun = false\n    }\n    init() {\n        console.log(\"robot\")\n        this.isRun = true\n    }\n    stop() {\n        console.log(\"robot\")\n        this.isRun = false\n    }\n    checkStatus() {\n        if (!this.isRun) {\n            throw ''\n        }\n    }\n    async move(distance) {\n        this.checkStatus()\n        // \n        return new Promise(resolve => {\n            let moveDis = 0\n            let interval = setInterval(() => {\n                if (moveDis < distance) {\n                    console.log(`move ${moveDis++}`)\n                } else {\n                    clearInterval(interval)\n                    interval = undefined\n                    resolve()\n                }\n            }, 100)\n        })\n    }\n    async arc(direction, degree, distance) {\n        this.checkStatus()\n        // \n        return new Promise(resolve => {\n            let moveDis = 0\n            let interval = setInterval(() => {\n                if (moveDis < distance) {\n                    console.log(`direction: ${direction}, move:${moveDis++}, degree: ${degree}`)\n                } else {\n                    clearInterval(interval)\n                    interval = undefined\n                    resolve()\n                }\n            }, 100)\n        })\n    }\n}\nexport default Robot\n"],"sourceRoot":""}