(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e8cc07f"],{1919:function(e,n,o){"use strict";var t={getMeshFromMeshs(e,n){var o=null;return e.forEach(e=>{e.name==n&&(o=e)}),o},getMeshSize(e){const n=e.getHierarchyBoundingVectors(),o={x:n.max.x-n.min.x,y:n.max.y-n.min.y,z:n.max.z-n.min.z};return o}};n["a"]=t},"1e12":function(e,n,o){"use strict";o.r(n);var t=function(){var e=this;e._self._c;return e._m(0)},i=[function(){var e=this,n=e._self._c;return n("div",{staticStyle:{height:"100%",width:"100%"}},[n("div",[n("canvas",{attrs:{id:"renderCanvas"}})])])}],r=o("633b"),a=o("dd4a"),s=o("8681"),c=o.n(s),l=o("1919"),u=null,d=null,h=null,m=null,p=null,g=null,f=null,w=null,y=new r["Vector3"](0,0,0);const M=.5,v=.5,C=.9,P=.8,b=.5;async function x(){u=A(),await B(),k(),await I(),_(),E()}async function I(){const e=await c()();console.log("Ammo",e),u.enablePhysics(new r["Vector3"](0,-10,0),new r["AmmoJSPlugin"](!0,e)),u.onReadyObservable.add((function(){console.log(u.getPhysicsEngine()._physicsPlugin.bjsAMMO.btDefaultCollisionConfiguration()),console.log(u.getPhysicsEngine()._physicsPlugin._collisionConfiguration),console.log(u.getPhysicsEngine()._physicsPlugin._dispatcher),console.log(u.getPhysicsEngine()._physicsPlugin._solver),console.log(u.getPhysicsEngine()._physicsPlugin.world)}))}function _(){m.physicsImpostor=new r["PhysicsImpostor"](m,r["PhysicsImpostor"].BoxImpostor,{mass:0,restitution:b,friction:P},u);var e=l["a"].getMeshFromMeshs(f,"Glass_Plane.006");console.log("robotBody",e);var n=l["a"].getMeshSize(e),o=50;const t=o/10;var i=z(f,u,t,n);f=i}function z(e,n,o,t){var i=new r["Mesh"]("robot",n);i.position.y-=2,e.forEach(e=>{null==e.parent&&i.addChild(e)}),i.getChildMeshes().forEach(e=>{e.scaling.x=Math.abs(e.scaling.x),e.scaling.y=Math.abs(e.scaling.y),e.scaling.z=Math.abs(e.scaling.z),e.physicsImpostor=new r["PhysicsImpostor"](e,r["PhysicsImpostor"].BoxImpostor,{mass:.1},n)}),i.scaling.scaleInPlace(o),i.physicsImpostor=new r["PhysicsImpostor"](i,r["PhysicsImpostor"].NoImpostor,{mass:M,friction:v,restitution:C},n);const a=-t.y/1.1;return i.physicsImpostor.setDeltaPosition(new r["Vector3"](0,a,0)),i.position.subtractInPlace(new r["Vector3"](0,-a,0)),i}function E(){var e=1;const n=e/10;w=new r["TransformNode"]("cubes");const o=80*n;var t=S(u,"cube",o);t.position._y+=o/2,t.position._x-=100,t.material=new r["StandardMaterial"]("amaterial",u),t.material.diffuseColor=new r["Color3"](16/255,156/255,73/255),w[0]=t;var i=S(u,"cube2",o);i.position._y+=o/2,i.position._x-=100,i.position._z+=2*o,i.material=new r["StandardMaterial"]("amaterial",u),i.material.diffuseColor=new r["Color3"](48/255,.4,150/255),w[1]=i;var a=S(u,"cube3",o);a.position._y+=o/2,a.position._x-=100,a.position._z-=2*o,a.material=new r["StandardMaterial"]("amaterial",u),a.material.diffuseColor=new r["Color3"](199/255,88/255,93/255),w[2]=a;let s=new r["ActionManager"](u);t.actionManager=s,i.actionManager=s,a.actionManager=s;var c=new r["HighlightLayer"]("hl1",u);s.registerAction(new r["ExecuteCodeAction"](r["ActionManager"].OnPointerOverTrigger,(function(e){var n=e.meshUnderPointer.id;n==t.name?c.addMesh(t,r["Color3"].White()):n==i.name?c.addMesh(i,r["Color3"].White()):n==a.name&&c.addMesh(a,r["Color3"].White())}))),s.registerAction(new r["ExecuteCodeAction"](r["ActionManager"].OnPointerOutTrigger,(function(e){var n=e.meshUnderPointer.id;n==t.name?c.removeMesh(t):n==i.name?c.removeMesh(i):n==a.name&&c.removeMesh(a)}))),u.freezeMaterials()}function S(e,n,o,t=.25,i=.5,a=.5){const s=o,c=3.1*s/2,l=r["MeshBuilder"].CreateSphere("sphere",{diameter:c,segments:16},e),u=r["Mesh"].CreateBox("box",s,e),d=r["CSG"].FromMesh(u).intersect(r["CSG"].FromMesh(l));l.dispose(),u.dispose();const h=d.toMesh(n,new r["StandardMaterial"]("roundedBoxMaterial",e),e);return h.draggable=!0,h.physicsImpostor=new r["PhysicsImpostor"](h,r["PhysicsImpostor"].BoxImpostor,{mass:t,restitution:i,friction:a}),h.material.freeze(),h.material.specularColor=new r["Color3"](0,0,0),h.freezeWorldMatrix(),h}function k(){var e,n=d.getRenderingCanvas(),o=function(){var e=u.pick(u.pointerX,u.pointerY,(function(e){return e==p||e==m}));return e.hit?e.pickedPoint:null},t=function(t){if(0===t.button){var i=u.pick(u.pointerX,u.pointerY,(function(e){return e!==p&&e!==m&&e!==g}));console.log("pickInfo",i),i.hit&&(e=i.pickedMesh,null==e.parent?console.log("no parent"):e.parent.name==f.name&&(e=e.parent),console.log("currentMesh",e),y=o(t),y&&setTimeout((function(){h.detachControl(n)}),0))}},i=function(n){if(y&&e){var t=o(n);if(t){console.log("startingPoint",y);var i=t.subtract(y);console.log("diff",i),e.position.addInPlace(i),console.log("currentMesh.name",e.name),y=t}}},r=function(){if(y)return h.attachControl(n,!0),void(y=null)};n.addEventListener("pointerdown",t,!1),n.addEventListener("pointerup",r,!1),n.addEventListener("pointermove",i,!1)}async function B(){console.log("initRobot");const e="http://localhost:8088/static/model/",n="sportcar.babylon";var o=await r["SceneLoader"].ImportMeshAsync(null,e,n,u),t=o.meshes;console.log("meshes",t),f=t}function A(){var e=document.getElementById("renderCanvas");d=new r["Engine"](e,!0);var n=new r["Scene"](d);d.runRenderLoop((function(){n.render()})),window.addEventListener("resize",(function(){d.resize()})),h=new r["ArcRotateCamera"]("Camera",0,0,5,new r["Vector3"](0,0,10),n),h.setPosition(new r["Vector3"](20,200,400)),h.upperBetaLimit=1.5,h.lowerRadiusLimit=50,h.upperRadiusLimit=1500,h.wheelPrecision=1,h.pinchPrecision=20,n.activeCamera.panningSensibility=100,h.attachControl(e,!0);var o=new r["HemisphericLight"]("light1",new r["Vector3"](0,10,0),n);o.specular=new r["Color3"](0,0,0),o.intensity=1;var t=new r["StandardMaterial"]("texturePlane",n);t.diffuseColor=new r["Color3"](152/255,209/255,115/255),t.backFaceCulling=!1,t.freeze(),m=r["MeshBuilder"].CreateDisc("ground",{radius:3e3},n),m.rotation.x=Math.PI/2,m.material=t,m.position.y=-.1,m.freezeWorldMatrix();const i=144;p=r["Mesh"].CreateGround("ground",i,i,1,n,!0);var s=new a["GridMaterial"]("grid",n);s.mainColor=r["Color3"].White(),s.alpha=1;const c=.95;s.lineColor=new r["Color3"](c,c,c),s.backFaceCulling=!0,s.majorUnitFrequency=16,s.minorUnitVisibility=0;const l=8;s.gridOffset=new r["Vector3"](l,0,l),s.freeze(),p.material=s,p.freezeWorldMatrix();var u=new a["SkyMaterial"]("skyMaterial",n);return u.inclination=0,u.backFaceCulling=!1,g=r["Mesh"].CreateBox("skyBox",5e3,n),g.material=u,n}var L={name:"test",data(){return{}},async mounted(){await x()}},V=L,F=(o("e30f"),o("2877")),O=Object(F["a"])(V,t,i,!1,null,"75bb2531",null);n["default"]=O.exports},"62f2":function(e,n,o){},e30f:function(e,n,o){"use strict";o("62f2")}}]);
//# sourceMappingURL=chunk-1e8cc07f.9fcf2d24.js.map